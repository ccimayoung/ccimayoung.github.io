/*! For license information please see main.fffec503.js.LICENSE.txt */
!function(){var e={494:function(e){function t(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),v=l(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{u(t,g,y)}catch(x){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(585);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,O=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case M:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Me=null;function ke(e){if(e=xi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){Se?Me?Me.push(e):Me=[e]:Se=e}function Ee(){if(Se){var e=Se,t=Me;if(Me=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==Se||null!==Me)&&(Ce(),Ee())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ie=!1}function ze(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Oe=null,Fe=!1,Ue=null,Be={onError:function(e){De=!0,Oe=e}};function je(e,t,n,r,i,a,o,s,l){De=!1,Oe=null,ze.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Je=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,St,Mt,kt,Tt=!1,Et=[],At=null,Ct=null,Pt=null,Rt=new Map,Lt=new Map,It=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Tt=!1,null!==At&&Ft(At)&&(At=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(Ut),Lt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return jt(t,e)}if(0<Et.length){jt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&jt(At,e),null!==Ct&&jt(Ct,e),null!==Pt&&jt(Pt,e),Rt.forEach(t),Lt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ot(n),null===n.blockedOn&&It.shift()}var Vt=b.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=xt,a=Vt.transition;Vt.transition=null;try{xt=1,Xt(e,t,n,r)}finally{xt=i,Vt.transition=a}}function qt(e,t,n,r){var i=xt,a=Vt.transition;Vt.transition=null;try{xt=4,Xt(e,t,n,r)}finally{xt=i,Vt.transition=a}}function Xt(e,t,n,r){if(Gt){var i=Kt(e,t,n,r);if(null===i)Gr(e,t,r,Yt,n),zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Dt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Dt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Kt(e,t,n,r))&&Gr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t,n=Qt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=O({},un,{view:0,detail:0}),hn=an(dn),fn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),vn=an(O({},fn,{dataTransfer:0})),mn=an(O({},dn,{relatedTarget:0})),gn=an(O({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(O({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Mn}var Tn=O({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Tn),An=an(O({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=an(O({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=O({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Rn),In=[9,13,27,32],Nn=c&&"CompositionEvent"in window,zn=null;c&&"documentMode"in document&&(zn=document.documentMode);var Dn=c&&"TextEvent"in window&&!zn,On=c&&(!Nn||zn&&8<zn&&11>=zn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){Fr(e,0)}function Kn(e){if(X(bi(e)))return e}function Zn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Qn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Qn=$n}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Wn(t,Xn,e,we(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Mr={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mr)return Sr[e]=n[t];return e}c&&(Mr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=kr("animationend"),Er=kr("animationiteration"),Ar=kr("animationstart"),Cr=kr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Pr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Rr.length;Ir++){var Nr=Rr[Ir];Lr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Lr(Tr,"onAnimationEnd"),Lr(Er,"onAnimationIteration"),Lr(Ar,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(je.apply(this,arguments),De){if(!De)throw Error(a(198));var c=Oe;De=!1,Oe=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Or(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Or(i,s,u),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Zt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Tr:case Er:case Ar:l=gn;break;case Cr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==h&&(null!=(v=Le(p,h))&&c.push(Wr(p,v,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:bi(l),f=null==u?s:bi(u),(s=new c(v,p+"leave",l,n,i)).target=d,s.relatedTarget=f,v=null,yi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Xr(f))p++;for(f=0,v=h;v;v=Xr(v))f++;for(;0<p-f;)c=Xr(c),p--;for(;0<f-p;)h=Xr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Xr(c),h=Xr(h)}c=null}else c=null;null!==l&&Yr(o,s,l,c,!1),null!==u&&null!==d&&Yr(o,d,u,c,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Zn;else if(Gn(s))if(Jn)m=or;else{m=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Hn?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(On&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Hn&&(y=en()):(Qt="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(g=qr(r,x)).length&&(x=new bn(x,e,null,n,i),o.push({event:x,listeners:g}),y?x.data=y:null!==(y=jn(n))&&(x.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Nn&&Bn(e,t)?(e=en(),$t=Qt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Le(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Le(n,a))&&o.unshift(Wr(n,l,s)):i||null!=(l=Le(n,a))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var _i=[],Si=-1;function Mi(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ti(e,t){Si++,_i[Si]=e.current,e.current=t}var Ei={},Ai=Mi(Ei),Ci=Mi(!1),Pi=Ei;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){ki(Ci),ki(Ai)}function Ni(e,t,n){if(Ai.current!==Ei)throw Error(a(168));Ti(Ai,t),Ti(Ci,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return O({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Pi=Ai.current,Ti(Ai,e),Ti(Ci,Ci.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=zi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ci),ki(Ai),Ti(Ai,e)):ki(Ci),Ti(Ci,n)}var Fi=null,Ui=!1,Bi=!1;function ji(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=xt;try{var n=Fi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Xe($e,Hi),i}finally{xt=t,Bi=!1}}return null}var Vi=[],Gi=0,Wi=null,qi=0,Xi=[],Yi=0,Ki=null,Zi=1,Ji="";function Qi(e,t){Vi[Gi++]=qi,Vi[Gi++]=Wi,Wi=e,qi=t}function $i(e,t,n){Xi[Yi++]=Zi,Xi[Yi++]=Ji,Xi[Yi++]=Ki,Ki=e;var r=Zi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Zi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Qi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=Vi[--Gi],Vi[Gi]=null,qi=Vi[--Gi],Vi[Gi]=null;for(;e===Ki;)Ki=Xi[--Yi],Xi[Yi]=null,Ji=Xi[--Yi],Xi[Yi]=null,Zi=Xi[--Yi],Xi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Zi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ui(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Mi(null),ya=null,xa=null,ba=null;function wa(){ba=xa=ya=null}function _a(e){var t=ga.current;ki(ga),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){ya=e,ba=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===ya)throw Error(a(308));xa=e,ya.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var Ta=null;function Ea(e){null===Ta?Ta=[e]:Ta.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ea(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ea(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(f,d,h):p)||void 0===h)break e;d=O({},d,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nu(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nu(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(nu(t,e,r,n),za(t,e,r))}};function Ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=ka(a):(i=Li(t)?Pi:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ka(a):(a=Li(t)?Pi:Ai.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),Oa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ou(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Ya(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ou(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case _:return(t=Fu(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=zu(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||z(n))return null!==i?null:d(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=f(i,d,s[v],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,d=m}if(v===s.length)return n(i,d),ia&&Qi(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=h(i,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ia&&Qi(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,v),u}function m(i,s,l,u){var c=z(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var x=f(i,v,y.value,u);if(null===x){null===v&&(v=g);break}e&&v&&null===x.alternate&&t(i,v),s=o(x,s,m),null===d?c=x:d.sibling=x,d=x,v=g}if(y.done)return n(i,v),ia&&Qi(i,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,u))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return ia&&Qi(i,m),c}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&Ya(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=zu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Nu(o.type,o.key,o.props,null,r.mode,l)).ref=qa(r,a,o),l.return=r,r=l)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fu(o,r.mode,l)).return=r,r=a}return s(r);case L:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return v(r,a,o,l);if(z(o))return m(r,a,o,l);Xa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ou(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Za=Ka(!0),Ja=Ka(!1),Qa={},$a=Mi(Qa),eo=Mi(Qa),to=Mi(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki($a),Ti($a,t)}function io(){ki($a),ki(eo),ki(to)}function ao(e){no(to.current);var t=no($a.current),n=le(t,e.type);t!==n&&(Ti(eo,e),Ti($a,n))}function oo(e){eo.current===e&&(ki($a),ki(eo))}var so=Mi(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,xo=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Mo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),xo){o=0;do{if(xo=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,ho.current=us,e=n(r,i)}while(xo)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function ko(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Eo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Ao(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,vo.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Lo(e,t){var n=vo,r=Eo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(zo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,No.bind(null,n,r,i,t),void 0,null),null===Cl)throw Error(a(349));0!==(30&po)||Io(n,t,i)}return i}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Oo(e)}function zo(e,t,n){return n((function(){Do(t)&&Oo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oo(e){var t=Ca(e,1);null!==t&&nu(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Eo().memoizedState}function jo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Vo(e,t){return jo(8390656,8,e,t)}function Go(e,t){return Ho(2048,8,e,t)}function Wo(e,t){return Ho(4,2,e,t)}function qo(e,t){return Ho(4,4,e,t)}function Xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,Xo.bind(null,t,e),n)}function Ko(){}function Zo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Dl|=n,e.baseState=!0),t)}function $o(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{xt=n,fo.transition=r}}function es(){return Eo().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){nu(n,e,r,eu()),as(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ea(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Aa(e,t,i,r))&&(nu(n,e,r,i=eu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){xo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:ka,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:ka,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Ko,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cl)throw Error(a(349));0!==(30&po)||Io(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(zo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Cl.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Zi&~(1<<32-ot(Zi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:ka,useCallback:Zo,useContext:ka,useEffect:Go,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Jo,useReducer:Co,useRef:Bo,useState:function(){return Co(Ao)},useDebugValue:Ko,useDeferredValue:function(e){return Qo(Eo(),mo.memoizedState,e)},useTransition:function(){return[Co(Ao)[0],Eo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1},us={readContext:ka,useCallback:Zo,useContext:ka,useEffect:Go,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Jo,useReducer:Po,useRef:Bo,useState:function(){return Po(Ao)},useDebugValue:Ko,useDeferredValue:function(e){var t=Eo();return null===mo?t.memoizedState=e:Qo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Ao)[0],Eo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Wl=r),hs(0,t)},n}function vs(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xs=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Za(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ma(t,i),r=Mo(e,t,n,r,a,i),n=ko(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Iu(a,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Il,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Il,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Il,Ll),Ll|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Il,Ll),Ll|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Li(n)?Pi:Ai.current;return a=Ri(t,a),Ma(t,i),n=Mo(e,t,n,r,a,i),r=ko(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function As(e,t,n,r,i){if(Li(n)){var a=!0;Di(t)}else a=!1;if(Ma(t,i),null===t.stateNode)Vs(e,t),Va(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ka(u):u=Ri(t,u=Li(n)?Pi:Ai.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Ga(t,o,r,u),Pa=!1;var h=t.memoizedState;o.state=h,Oa(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ci.current||Pa?("function"===typeof c&&(Ba(t,n,c,r),l=t.memoizedState),(s=Pa||Ha(t,n,s,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ma(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ka(l):l=Ri(t,l=Li(n)?Pi:Ai.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Ga(t,o,r,l),Pa=!1,h=t.memoizedState,o.state=h,Oa(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||Ci.current||Pa?("function"===typeof f&&(Ba(t,n,f,r),p=t.memoizedState),(u=Pa||Ha(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Gs(e,t,a);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return fa(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ls,Is,Ns,zs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Du(l,i,0,null),e=zu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=zs,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(o=zu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Za(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=zs,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Cl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nu(r,e,i,-1))}return vu(),Us(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Yi++]=Zi,Xi[Yi++]=Ji,Xi[Yi++]=Ki,Zi=e.id,Ji=e.overflow,Ki=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Iu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Iu(r,s):(s=zu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,i}return e=(s=e.child).sibling,i=Iu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Za(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Li(t.type)&&Ii(),qs(t),null;case 3:return r=t.stateNode,io(),ki(Ci),ki(Ai),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=no($a.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)Ur(zr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Z(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),$(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ls(e,t),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)Ur(zr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Z(e,r),i=K(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&x(e,o,c,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ns(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qs(t),null;case 13:if(ki(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nl&&(Nl=3):vu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return io(),null===e&&Hr(t.stateNode.containerInfo),qs(t),null;case 10:return _a(t.type._context),qs(t),null;case 19:if(ki(so),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Hl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return qs(t),null}else 2*Je()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Ci),ki(Ai),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Zs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Mu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Mu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||$s(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Zs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Mu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));fl(o,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Mu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Mu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Mu(e,e.return,m)}}break;case 1:vl(t,e),gl(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vl(t,e),gl(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Mu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),xe(l,s);var c=xe(l,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,c)}switch(l){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Mu(e,e.return,m)}}break;case 6:if(vl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Mu(e,e.return,m)}}break;case 3:if(vl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Mu(e,e.return,m)}break;case 4:default:vl(t,e),gl(e);break;case 13:vl(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||d,vl(t,e),Zs=c):vl(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$s(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Mu(r,n,m)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Qs=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(m){Mu(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Mu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Mu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Ks;var u=Zs;if(Ks=o,(Zs=l)&&!u)for(Qs=i;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Qs=l):_l(i);for(;null!==a;)Qs=a,xl(a,t,n),a=a.sibling;Qs=i,Ks=s,Zs=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&il(t)}catch(f){Mu(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function _l(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Mu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Mu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Mu(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Mu(t,o,l)}}}catch(l){Mu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,Ml=Math.ceil,kl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Al=0,Cl=null,Pl=null,Rl=0,Ll=0,Il=Mi(0),Nl=0,zl=null,Dl=0,Ol=0,Fl=0,Ul=null,Bl=null,jl=0,Hl=1/0,Vl=null,Gl=!1,Wl=null,ql=null,Xl=!1,Yl=null,Kl=0,Zl=0,Jl=null,Ql=-1,$l=0;function eu(){return 0!==(6&Al)?Je():-1!==Ql?Ql:Ql=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==va.transition?(0===$l&&($l=vt()),$l):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nu(e,t,n,r){if(50<Zl)throw Zl=0,Jl=null,Error(a(185));gt(e,n,r),0!==(2&Al)&&e===Cl||(e===Cl&&(0===(2&Al)&&(Ol|=n),4===Nl&&su(e,Rl)),ru(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Hl=Je()+500,Ui&&Hi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Cl?Rl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(lu.bind(null,e)):ji(lu.bind(null,e)),oi((function(){0===(6&Al)&&Hi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,$l=0,0!==(6&Al))throw Error(a(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Al;Al|=2;var o=pu();for(Cl===e&&Rl===t||(Vl=null,Hl=Je()+500,hu(e,t));;)try{yu();break}catch(l){fu(e,l)}wa(),kl.current=o,Al=i,null!==Pl?t=0:(Cl=null,Rl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=zl,hu(e,0),su(e,r),ru(e,Je()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=au(e,o))),1===t))throw n=zl,hu(e,0),su(e,r),ru(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wu(e,Bl,Vl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=jl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Bl,Vl),t);break}wu(e,Bl,Vl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ml(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Bl,Vl),r);break}wu(e,Bl,Vl);break;default:throw Error(a(329))}}}return ru(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Bl,Bl=n,null!==t&&ou(t)),e}function ou(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function su(e,t){for(t&=~Fl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Al))throw Error(a(327));_u();var t=ht(e,0);if(0===(1&t))return ru(e,Je()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=zl,hu(e,0),su(e,t),ru(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Bl,Vl),ru(e,Je()),null}function uu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Hl=Je()+500,Ui&&Hi())}}function cu(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&_u();var t=Al;Al|=1;var n=El.transition,r=xt;try{if(El.transition=null,xt=1,e)return e()}finally{xt=r,El.transition=n,0===(6&(Al=t))&&Hi()}}function du(){Ll=Il.current,ki(Il)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:io(),ki(Ci),ki(Ai),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(so);break;case 10:_a(r.type._context);break;case 22:case 23:du()}n=n.return}if(Cl=e,Pl=e=Iu(e.current,null),Rl=Ll=t,Nl=0,zl=null,Fl=Ol=Dl=0,Bl=Ul=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function fu(e,t){for(;;){var n=Pl;try{if(wa(),ho.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,xo=!1,bo=0,Tl.current=null,null===n||null===n.return){Nl=1,zl=t,Pl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ms(o,c,t),vu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Nl&&(Nl=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,vs(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pu(){var e=kl.current;return kl.current=os,null===e?os:e}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Cl||0===(268435455&Dl)&&0===(268435455&Ol)||su(Cl,Rl)}function mu(e,t){var n=Al;Al|=2;var r=pu();for(Cl===e&&Rl===t||(Vl=null,hu(e,t));;)try{gu();break}catch(i){fu(e,i)}if(wa(),Al=n,kl.current=r,null!==Pl)throw Error(a(261));return Cl=null,Rl=0,Nl}function gu(){for(;null!==Pl;)xu(Pl)}function yu(){for(;null!==Pl&&!Ke();)xu(Pl)}function xu(e){var t=Sl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?bu(e):Pl=t,Tl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ll)))return void(Pl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function wu(e,t,n){var r=xt,i=El.transition;try{El.transition=null,xt=1,function(e,t,n,r){do{_u()}while(null!==Yl);if(0!==(6&Al))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cl&&(Pl=Cl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Cu(tt,(function(){return _u(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var s=xt;xt=1;var l=Al;Al|=4,Tl.current=null,function(e,t){if(ei=Gt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=s),f===o&&++d===r&&(u=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Mu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=tl,tl=!1}(e,n),ml(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ze(),Al=l,xt=s,El.transition=o}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Kl=i),0===(o=e.pendingLanes)&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Wl,Wl=null,e;0!==(1&Kl)&&0!==e.tag&&_u(),0!==(1&(o=e.pendingLanes))?e===Jl?Zl++:(Zl=0,Jl=e):Zl=0,Hi()}(e,t,n,r)}finally{El.transition=i,xt=r}return null}function _u(){if(null!==Yl){var e=bt(Kl),t=El.transition,n=xt;try{if(El.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Al))throw Error(a(331));var i=Al;for(Al|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(al(d),d===c){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var x=e.current;for(Qs=x;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=x;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Mu(l,l.return,_)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Al=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{xt=n,El.transition=t}}return!1}function Su(e,t,n){e=Na(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Mu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Na(t,e=vs(t,e=cs(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Rl&n)===n&&(4===Nl||3===Nl&&(130023424&Rl)===Rl&&500>Je()-jl?hu(e,0):Fl|=n),ru(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ca(e,t))&&(gt(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tu(e,n)}function Cu(e,t){return Xe(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Pu(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Lu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return zu(n.children,i,o,t);case M:s=8,i|=8;break;case k:return(e=Ru(12,n,t,2|i)).elementType=k,e.lanes=o,e;case C:return(e=Ru(13,n,t,i)).elementType=C,e.lanes=o,e;case P:return(e=Ru(19,n,t,i)).elementType=P,e.lanes=o,e;case I:return Du(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case E:s=9;break e;case A:s=11;break e;case R:s=14;break e;case L:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function zu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Ou(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,a,o,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function ju(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hu(e){if(!e)return Ei;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return zi(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=Bu(n,r,!0,e,0,a,0,s,l)).context=Hu(null),n=e.current,(a=Ia(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function Gu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Hu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(nu(e,i,o,a),za(e,i,o)),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),fa();break;case 5:ao(t);break;case 1:Li(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(Ti(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Ri(t,Ai.current);Ma(t,n),i=Mo(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=ja,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Oa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Os(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Za(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Sa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ma(t,n),r=r(i=ka(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Ss(e,t,r,i=ma(r.type,i),n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Vs(e,t),t.tag=1,Li(r)?(e=!0,Di(t)):e=!1,Ma(t,n),Va(t,r,i),Wa(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wu(o);s.call(e)}}Gu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[pi]=o.current,Hr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),cu((function(){Gu(t,l,n,r)})),l}(n,t,e,i,r);return Wu(o)}Zu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gu(e,t,null,null)},Zu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Gu(null,e,null,null)})),t[pi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ot(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Je()),0===(6&Al)&&(Hl=Je()+500,Hi()))}break;case 13:cu((function(){var t=Ca(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Xu(e,1)}},_t=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nu(t,e,134217728,eu());Xu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Ca(e,t);if(null!==n)nu(n,e,t,eu());Xu(e,t)}},Mt=function(){return xt},kt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));X(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,Ce=cu;var tc={usingClientEntryPoint:!1,Events:[xi,bi,wi,Te,Ee,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(a(200));return ju(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(a(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zu(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},67:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,I(_);else{var t=r(c);null!==t&&N(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=f;try{for(b(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),b(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&N(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,k=null,T=-1,E=5,A=-1;function C(){return!(t.unstable_now()-A<E)}function P(){if(null!==k){var e=t.unstable_now();A=e;var n=!0;try{n=k(!0,e)}finally{n?S():(M=!1,k=null)}}else M=!1}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=P,S=function(){L.postMessage(null)}}else S=function(){g(P,0)};function I(e){k=e,M||(M=!0,S())}function N(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(T),T=-1):m=!0,N(w,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,I(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},585:function(e,t,n){"use strict";e.exports=n(67)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case m:case v:case l:return e;default:return t}}case i:return t}}}function _(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||w(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},721:function(e,t,n){e.exports=function(e){var t={},r=n(791),i=n(296),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case d:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function k(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function T(e){if(k(e)!==e)throw Error(o(188))}function E(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return T(i),e;if(a===r)return T(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function A(e){return null!==(e=E(e))?C(e):null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=C(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var R,L=Array.isArray,I=e.getPublicInstance,N=e.getRootHostContext,z=e.getChildHostContext,D=e.prepareForCommit,O=e.resetAfterCommit,F=e.createInstance,U=e.appendInitialChild,B=e.finalizeInitialChildren,j=e.prepareUpdate,H=e.shouldSetTextContent,V=e.createTextInstance,G=e.scheduleTimeout,W=e.cancelTimeout,q=e.noTimeout,X=e.isPrimaryRenderer,Y=e.supportsMutation,K=e.supportsPersistence,Z=e.supportsHydration,J=e.getInstanceFromNode,Q=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,de=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,xe=e.removeChildFromContainer,be=e.resetTextContent,we=e.hideInstance,_e=e.hideTextInstance,Se=e.unhideInstance,Me=e.unhideTextInstance,ke=e.clearContainer,Te=e.cloneInstance,Ee=e.createContainerChildSet,Ae=e.appendChildToContainerChildSet,Ce=e.finalizeContainerChildren,Pe=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Le=e.cloneHiddenTextInstance,Ie=e.canHydrateInstance,Ne=e.canHydrateTextInstance,ze=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,Oe=e.isSuspenseInstanceFallback,Fe=e.registerSuspenseInstanceRetry,Ue=e.getNextHydratableSibling,Be=e.getFirstHydratableChild,je=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,Ge=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Ze=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,Qe=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ut={},ct=ot(ut),dt=ot(!1),ht=ut;function ft(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){st(dt),st(ct)}function mt(e,t,n){if(ct.current!==ut)throw Error(o(168));lt(ct,t),lt(dt,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,M(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ht=ct.current,lt(ct,e),lt(dt,dt.current),!0}function xt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ct),lt(ct,e)):st(dt),lt(dt,n)}var bt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/_t|0)|0},wt=Math.log,_t=Math.LN2;var St=64,Mt=4194304;function kt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=kt(s):0!==(a&=o)&&(r=kt(a))}else 0!==(o=n&~i)?r=kt(o):0!==a&&(r=kt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-bt(t)),r|=e[n],t&=~i;return r}function Et(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function At(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt=i.unstable_scheduleCallback,zt=i.unstable_cancelCallback,Dt=i.unstable_shouldYield,Ot=i.unstable_requestPaint,Ft=i.unstable_now,Ut=i.unstable_ImmediatePriority,Bt=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Vt=null,Gt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Xt=!1,Yt=!1;function Kt(e){null===qt?qt=[e]:qt.push(e)}function Zt(){if(!Yt&&null!==qt){Yt=!0;var e=0,t=Lt;try{var n=qt;for(Lt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Xt=!1}catch(i){throw null!==qt&&(qt=qt.slice(e+1)),Nt(Ut,Zt),i}finally{Lt=t,Yt=!1}}return null}var Jt=s.ReactCurrentBatchConfig;function Qt(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){X?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),X?e._currentValue=t:e._currentValue2=t}function un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Di=!0),e.firstContext=null)}function dn(e){var t=X?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ya&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function xn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var i=e.updateQueue;fn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(s=0,d=c=u=null,l=o;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(v=m.payload)){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(f="function"===typeof(v=m.payload)?v.call(p,h,f):v)||void 0===f)break e;h=a({},h,f);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=h):d=d.next=p,s|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===d&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=h}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var _n=(new r.Component).refs;function Sn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternals)&&k(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wo(),i=_o(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wo(),i=_o(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wo(),r=_o(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function kn(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qt(n,r)||!Qt(i,a))}function Tn(e,t,n){var r=!1,i=ut,a=t.contextType;return"object"===typeof a&&null!==a?a=dn(a):(i=pt(t)?ht:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ft(e,i):ut),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function En(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function An(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=dn(a):(a=pt(t)?ht:ct.current,i.context=ft(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Cn=[],Pn=0,Rn=null,Ln=0,In=[],Nn=0,zn=null,Dn=1,On="";function Fn(e,t){Cn[Pn++]=Ln,Cn[Pn++]=Rn,Rn=e,Ln=t}function Un(e,t,n){In[Nn++]=Dn,In[Nn++]=On,In[Nn++]=zn,zn=e;var r=Dn;e=On;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var a=32-bt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-bt(t)+i|n<<i|r,On=a+e}else Dn=1<<a|n<<i|r,On=e}function Bn(e){null!==e.return&&(Fn(e,1),Un(e,1,0))}function jn(e){for(;e===Rn;)Rn=Cn[--Pn],Cn[Pn]=null,Ln=Cn[--Pn],Cn[Pn]=null;for(;e===zn;)zn=In[--Nn],In[Nn]=null,On=In[--Nn],In[Nn]=null,Dn=In[--Nn],In[Nn]=null}var Hn=null,Vn=null,Gn=!1,Wn=!1,qn=null;function Xn(e,t){var n=Qo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Yn(e,t){switch(e.tag){case 5:return null!==(t=Ie(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=Be(t),!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=null,!0);case 13:if(null!==(t=ze(t))){var n=null!==zn?{id:Dn,overflow:On}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Qo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Vn=null,!0}return!1;default:return!1}}function Kn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Zn(e){if(Gn){var t=Vn;if(t){var n=t;if(!Yn(e,t)){if(Kn(e))throw Error(o(418));t=Ue(n);var r=Hn;t&&Yn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Gn=!1,Hn=e)}}else{if(Kn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Gn=!1,Hn=e}}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function Qn(e){if(!Z||e!==Hn)return!1;if(!Gn)return Jn(e),Gn=!0,!1;if(3!==e.tag&&(5!==e.tag||Je(e.type)&&!H(e.type,e.memoizedProps))){var t=Vn;if(t){if(Kn(e)){for(e=Vn;e;)e=Ue(e);throw Error(o(418))}for(;t;)Xn(e,t),t=Ue(t)}}if(Jn(e),13===e.tag){if(!Z)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Vn=qe(e)}else Vn=Hn?Ue(e.stateNode):null;return!0}function $n(){Z&&(Vn=Hn=null,Wn=Gn=!1)}function er(e){null===qn?qn=[e]:qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===x&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case u:return(t=as(t,e.mode,n)).return=e,t;case x:return v(e,(0,t._init)(t._payload),n)}if(L(t)||_(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case x:return m(e,t,(i=n._init)(n._payload),r)}if(L(n)||_(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return g(e,t,n,(0,r._init)(r._payload),i)}if(L(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,d=o,h=o=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=m(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,h),null===c?u=p:c.sibling=p,c=p,d=f}if(h===s.length)return n(i,d),Gn&&Fn(i,h),u;if(null===d){for(;h<s.length;h++)null!==(d=v(i,s[h],l))&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return Gn&&Fn(i,h),u}for(d=r(i,d);h<s.length;h++)null!==(f=g(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),o=a(f,o,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach((function(e){return t(i,e)})),Gn&&Fn(i,h),u}function b(i,s,l,u){var c=_(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,h=s,f=s=0,p=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var x=m(i,h,y.value,u);if(null===x){null===h&&(h=p);break}e&&h&&null===x.alternate&&t(i,h),s=a(x,s,f),null===d?c=x:d.sibling=x,d=x,h=p}if(y.done)return n(i,h),Gn&&Fn(i,f),c;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=v(i,y.value,u))&&(s=a(y,s,f),null===d?c=y:d.sibling=y,d=y);return Gn&&Fn(i,f),c}for(h=r(i,h);!y.done;f++,y=l.next())null!==(y=g(h,i,f,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),s=a(y,s,f),null===d?c=y:d.sibling=y,d=y);return e&&h.forEach((function(e){return t(i,e)})),Gn&&Fn(i,f),c}return function e(r,a,o,d){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var h=o.key,f=a;null!==f;){if(f.key===h){if((h=o.type)===c){if(7===f.tag){n(r,f.sibling),(a=i(f,o.props.children)).return=r,r=a;break e}}else if(f.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===x&&rr(h)===f.type){n(r,f.sibling),(a=i(f,o.props)).ref=tr(r,f,o),a.return=r,r=a;break e}n(r,f);break}t(r,f),f=f.sibling}o.type===c?((a=ns(o.props.children,r.mode,d,o.key)).return=r,r=a):((d=ts(o.type,o.key,o.props,null,r.mode,d)).ref=tr(r,a,o),d.return=r,r=d)}return s(r);case u:e:{for(f=o.key;null!==a;){if(a.key===f){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,d)).return=r,r=a}return s(r);case x:return e(r,a,(f=o._init)(o._payload),d)}if(L(o))return y(r,a,o,d);if(_(o))return b(r,a,o,d);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,d)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},lr=ot(sr),ur=ot(sr),cr=ot(sr);function dr(e){if(e===sr)throw Error(o(174));return e}function hr(e,t){lt(cr,t),lt(ur,e),lt(lr,sr),e=N(t),st(lr),lt(lr,e)}function fr(){st(lr),st(ur),st(cr)}function pr(e){var t=dr(cr.current),n=dr(lr.current);n!==(t=z(n,e.type,t))&&(lt(ur,e),lt(lr,t))}function vr(e){ur.current===e&&(st(lr),st(ur))}var mr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||De(n)||Oe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function xr(){for(var e=0;e<yr.length;e++){var t=yr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var br=s.ReactCurrentDispatcher,wr=s.ReactCurrentBatchConfig,_r=0,Sr=null,Mr=null,kr=null,Tr=!1,Er=!1,Ar=0,Cr=0;function Pr(){throw Error(o(321))}function Rr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Lr(e,t,n,r,i,a){if(_r=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?pi:vi,e=n(r,i),Er){a=0;do{if(Er=!1,Ar=0,25<=a)throw Error(o(301));a+=1,kr=Mr=null,t.updateQueue=null,br.current=mi,e=n(r,i)}while(Er)}if(br.current=fi,t=null!==Mr&&null!==Mr.next,_r=0,kr=Mr=Sr=null,Tr=!1,t)throw Error(o(300));return e}function Ir(){var e=0!==Ar;return Ar=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===kr?Sr.memoizedState=kr=e:kr=kr.next=e,kr}function zr(){if(null===Mr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var t=null===kr?Sr.memoizedState:kr.next;if(null!==t)kr=t,Mr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===kr?Sr.memoizedState=kr=e:kr=kr.next=e}return kr}function Dr(e,t){return"function"===typeof t?t(e):t}function Or(e){var t=zr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Mr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((_r&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,Sr.lanes|=d,to|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,Wt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fr(e){var t=zr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Wt(a,t.memoizedState)||(Di=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ur(){}function Br(e,t){var n=Sr,r=zr(),i=t(),a=!Wt(r.memoizedState,i);if(a&&(r.memoizedState=i,Di=!0),r=r.queue,Jr(Vr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==kr&&1&kr.memoizedState.tag){if(n.flags|=2048,qr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Ya)throw Error(o(349));0!==(30&_r)||jr(n,t,i)}return i}function jr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Gr(t)&&So(e,1,-1)}function Vr(e,t,n){return n((function(){Gr(t)&&So(e,1,-1)}))}function Gr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Nr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Sr,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return zr().memoizedState}function Yr(e,t,n,r){var i=Nr();Sr.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Kr(e,t,n,r){var i=zr();r=void 0===r?null:r;var a=void 0;if(null!==Mr){var o=Mr.memoizedState;if(a=o.destroy,null!==r&&Rr(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}Sr.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function Zr(e,t){return Yr(8390656,8,e,t)}function Jr(e,t){return Kr(2048,8,e,t)}function Qr(e,t){return Kr(4,2,e,t)}function $r(e,t){return Kr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Lt;Lt=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{Lt=n,wr.transition=r}}function oi(){return zr().memoizedState}function si(e,t,n){var r=_o(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?ci(t,n):(di(e,t,n),null!==(e=So(e,r,n=wo()))&&hi(e,t,r))}function li(e,t,n){var r=_o(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))ci(t,i);else{di(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,o))return}catch(l){}null!==(e=So(e,r,n=wo()))&&hi(e,t,r)}}function ui(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){Er=Tr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==Ya&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var fi={readContext:dn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},pi={readContext:dn,useCallback:function(e,t){return Nr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Zr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Nr().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=ai.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Nr();if(Gn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ya)throw Error(o(349));0!==(30&_r)||jr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Zr(Vr.bind(null,r,a,e),[e]),r.flags|=2048,qr(9,Hr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Nr(),t=Ya.identifierPrefix;if(Gn){var n=On;t=":"+t+"R"+(n=(Dn&~(1<<32-bt(Dn)-1)).toString(32)+n),0<(n=Ar++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Cr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Jr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:$r,useMemo:ii,useReducer:Or,useRef:Xr,useState:function(){return Or(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Or(Dr),n=t[0],r=t[1];return Jr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Or(Dr)[0],zr().memoizedState]},useMutableSource:Ur,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Jr,useImperativeHandle:ti,useInsertionEffect:Qr,useLayoutEffect:$r,useMemo:ii,useReducer:Fr,useRef:Xr,useState:function(){return Fr(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Dr),n=t[0],r=t[1];return Jr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Fr(Dr)[0],zr().memoizedState]},useMutableSource:Ur,useSyncExternalStore:Br,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var xi,bi,wi,_i,Si="function"===typeof WeakMap?WeakMap:Map;function Mi(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,ho=r),yi(0,t)},n}function ki(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===fo?fo=new Set([this]):fo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ti(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qo.bind(null,e,t,n),t.then(e,e))}function Ei(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ai(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ci(e){e.flags|=4}function Pi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Y)xi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=dr(lr.current);n=j(a,n,e,r,i,o),(t.updateQueue=n)&&Ci(t)}},_i=function(e,t,n,r){n!==r&&Ci(t)};else if(K){xi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),U(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Le(a,i.memoizedProps,i)),U(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),xi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ri=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Re(o,a.type,a.memoizedProps,a)),Ae(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Le(o,a.memoizedProps,a)),Ae(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};bi=function(e,t){var n=t.stateNode;if(!Pi(e,t)){e=n.containerInfo;var r=Ee(e);Ri(r,t,!1,!1),n.pendingChildren=r,Ci(t),Ce(e,r)}},wi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Pi(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=dr(lr.current),u=null;o!==r&&(u=j(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Te(a,u,n,o,r,t,e,s),B(a,n,r,i,l)&&Ci(t),t.stateNode=a,e?Ci(t):xi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=dr(cr.current),n=dr(lr.current),t.stateNode=V(r,e,n,t),Ci(t)):t.stateNode=e.stateNode}}else bi=function(){},wi=function(){},_i=function(){};function Li(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ii(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ni(e,t,n){var r=t.pendingProps;switch(jn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(t),null;case 1:case 17:return pt(t.type)&&vt(),Ii(t),null;case 3:return r=t.stateNode,fr(),st(dt),st(ct),xr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qn(t)?Ci(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==qn&&(Ao(qn),qn=null))),bi(e,t),Ii(t),null;case 5:vr(t),n=dr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ii(t),null}if(e=dr(lr.current),Qn(t)){if(!Z)throw Error(o(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Ci(t)}else{var a=F(i,r,n,e,t);xi(a,t,!1,!1),t.stateNode=a,B(a,i,r,n,e)&&Ci(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ii(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=dr(cr.current),n=dr(lr.current),Qn(t)){if(!Z)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ge(e,r,t,!Wn))&&null!==(i=Hn))switch(a=0!==(1&i.mode),i.tag){case 3:Qe(i.stateNode.containerInfo,e,r,a);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ci(t)}else t.stateNode=V(r,e,n,t)}return Ii(t),null;case 13:if(st(mr),r=t.memoizedState,Gn&&null!==Vn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Vn;e;)e=Ue(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Qn(t),null===e){if(!r)throw Error(o(318));if(!Z)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));We(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ii(t),null}return null!==qn&&(Ao(qn),qn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Qn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===$a&&($a=3):Do())),null!==t.updateQueue&&(t.flags|=4),Ii(t),null);case 4:return fr(),bi(e,t),null===e&&Q(t.stateNode.containerInfo),Ii(t),null;case 10:return ln(t.type._context),Ii(t),null;case 19:if(st(mr),null===(i=t.memoizedState))return Ii(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Li(i,!1);else{if(0!==$a||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Li(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&Ft()>so&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Li(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Gn)return Ii(t),null}else 2*Ft()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=mr.current,lt(mr,r?1&e|2:1&e),t):(Ii(t),null);case 22:case 23:return Lo(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ja)&&(Ii(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):Ii(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var zi=s.ReactCurrentOwner,Di=!1;function Oi(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Fi(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Lr(e,t,n,r,a,i),n=Ir(),null===e||Di?(Gn&&n&&Bn(t),t.flags|=1,Oi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Ui(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||$o(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Qt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Bi(e,t,n,r,i){if(null!==e&&Qt(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Di=!0)}return Vi(e,t,n,r,i)}function ji(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Qa,Ja),Ja|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Qa,Ja),Ja|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt(Qa,Ja),Ja|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Qa,Ja),Ja|=r;return Oi(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var a=pt(n)?ht:ct.current;return a=ft(t,a),cn(t,i),n=Lr(e,t,n,r,a,i),r=Ir(),null===e||Di?(Gn&&r&&Bn(t),t.flags|=1,Oi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Gi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Tn(t,n,r),An(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=dn(u):u=ft(t,u=pt(n)?ht:ct.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&En(t,o,r,u),fn=!1;var h=t.memoizedState;o.state=h,bn(t,r,o,i),l=t.memoizedState,s!==r||h!==l||dt.current||fn?("function"===typeof c&&(Sn(t,n,c,r),l=t.memoizedState),(s=fn||kn(t,n,s,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=dn(l):l=ft(t,l=pt(n)?ht:ct.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&En(t,o,r,l),fn=!1,h=t.memoizedState,o.state=h,bn(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||dt.current||fn?("function"===typeof f&&(Sn(t,n,f,r),p=t.memoizedState),(u=fn||kn(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){Hi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&xt(t,n,!1),ia(e,t,a);r=t.stateNode,zi.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Oi(e,t,s,a),t.memoizedState=r.state,i&&xt(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),hr(e,t.containerInfo)}function Xi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Oi(e,t,n,r),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Ki(e){return{baseLanes:e,cachePool:null}}function Zi(e,t,n){var r,i=t.pendingProps,a=mr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(mr,1&a),null===e)return Zn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Oe(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ki(n),t.memoizedState=Yi,e):Ji(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Ki(n),t.memoizedState=Yi,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Oe(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Di||i){if(null!==(i=Ya)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}Do(),t=ea(e,t,n,Error(o(421)))}else De(r)?(t.flags|=128,t.child=e.child,t=Yo.bind(null,e),Fe(r,t),t=null):(n=a.treeContext,Z&&(Vn=He(r),Hn=t,Gn=!0,qn=null,Wn=!1,null!==n&&(In[Nn++]=Dn,In[Nn++]=On,In[Nn++]=zn,Dn=n.id,On=n.overflow,zn=t)),(t=Ji(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=Qi(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ki(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=Qi(e,t,i.children,n),t.memoizedState=null,n)}function Ji(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qi(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),un(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Oi(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(jn(t),t.tag){case 1:return pt(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),st(dt),st(ct),xr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(st(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(mr),null;case 4:return fr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Lo(),null;default:return null}}var oa=!1,sa=!1,la="function"===typeof WeakSet?WeakSet:Set,ua=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Wo(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){Wo(e,t,r)}}var ha=!1;function fa(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&da(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=I(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(Gt&&"function"===typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(Vt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&da(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wo(t,n,o)}break;case 5:ca(t,n);break;case 4:Y?Ma(e,t,n):K&&K&&(t=t.stateNode.containerInfo,n=Ee(t),Pe(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||Y&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xa(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wa(e){if(Y){e:{for(var t=e.return;null!==t;){if(xa(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),Sa(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=ba(e),t);break;default:throw Error(o(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ma(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?xe(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Ze(r,a.stateNode):Ke(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ka(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:return fa(3,t,t.return),pa(3,t),void fa(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Z&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Ta(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return fa(3,t,t.return),pa(3,t),void fa(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ta(t);case 3:Z&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Pe(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ta(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach((function(t){var r=Ko.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ea(e,t,n){ua=e,Aa(e,t,n)}function Aa(e,t,n){for(var r=0!==(1&e.mode);null!==ua;){var i=ua,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||sa;s=oa;var u=sa;if(oa=o,(sa=l)&&!u)for(ua=i;null!==ua;)l=(o=ua).child,22===o.tag&&null!==o.memoizedState?Ra(i):null!==l?(l.return=o,ua=l):Ra(i);for(;null!==a;)ua=a,Aa(a,t,n),a=a.sibling;ua=i,oa=s,sa=u}Ca(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,ua=a):Ca(e)}}function Ca(e){for(;null!==ua;){var t=ua;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&wn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=I(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Z&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(o(163))}sa||512&t.flags&&va(t)}catch(h){Wo(t,t.return,h)}}if(t===e){ua=null;break}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}function Pa(e){for(;null!==ua;){var t=ua;if(t===e){ua=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ua=n;break}ua=t.return}}function Ra(e){for(;null!==ua;){var t=ua;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(l){Wo(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Wo(t,i,l)}}var a=t.return;try{va(t)}catch(l){Wo(t,a,l)}break;case 5:var o=t.return;try{va(t)}catch(l){Wo(t,o,l)}}}catch(l){Wo(t,t.return,l)}if(t===e){ua=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ua=s;break}ua=t.return}}var La=0,Ia=1,Na=2,za=3,Da=4;if("function"===typeof Symbol&&Symbol.for){var Oa=Symbol.for;La=Oa("selector.component"),Ia=Oa("selector.has_pseudo_class"),Na=Oa("selector.role"),za=Oa("selector.test_id"),Da=Oa("selector.text")}function Fa(e){var t=J(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Ua(e,t){switch(t.$$typeof){case La:if(e.type===t.value)return!0;break;case Ia:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&Ua(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Na:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case za:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ba(e){switch(e.$$typeof){case La:return"<"+(S(e.value)||"Unknown")+">";case Ia:return":has("+(Ba(e)||"")+")";case Na:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case za:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function ja(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Ua(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ha(e,t){if(!re)throw Error(o(363));e=ja(e=Fa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Va=Math.ceil,Ga=s.ReactCurrentDispatcher,Wa=s.ReactCurrentOwner,qa=s.ReactCurrentBatchConfig,Xa=0,Ya=null,Ka=null,Za=0,Ja=0,Qa=ot(0),$a=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function lo(){so=Ft()+500}var uo,co=!1,ho=null,fo=null,po=!1,vo=null,mo=0,go=0,yo=null,xo=-1,bo=0;function wo(){return 0!==(6&Xa)?Ft():-1!==xo?xo:xo=Ft()}function _o(e){return 0===(1&e.mode)?1:0!==(2&Xa)&&0!==Za?Za&-Za:null!==Jt.transition?(0===bo&&(e=St,0===(4194240&(St<<=1))&&(St=64),bo=e),bo):0!==(e=Lt)?e:$()}function So(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=Mo(e,t);return null===r?null:(Pt(r,t,n),0!==(2&Xa)&&r===Ya||(r===Ya&&(0===(2&Xa)&&(no|=t),4===$a&&Co(r,Za)),ko(r,n),1===t&&0===Xa&&0===(1&e.mode)&&(lo(),Xt&&Zt())),r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ko(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bt(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Et(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Tt(e,e===Ya?Za:0);if(0===r)null!==n&&zt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&zt(n),1===t)0===e.tag?function(e){Xt=!0,Kt(e)}(Po.bind(null,e)):Kt(Po.bind(null,e)),te?ne((function(){0===Xa&&Zt()})):Nt(Ut,Zt),n=null;else{switch(It(r)){case 1:n=Ut;break;case 4:n=Bt;break;case 16:default:n=jt;break;case 536870912:n=Ht}n=Zo(n,To.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function To(e,t){if(xo=-1,bo=0,0!==(6&Xa))throw Error(o(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=Tt(e,e===Ya?Za:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Oo(e,r);else{t=r;var i=Xa;Xa|=2;var a=zo();for(Ya===e&&Za===t||(lo(),Io(e,t));;)try{Uo();break}catch(l){No(e,l)}on(),Ga.current=a,Xa=i,null!==Ka?t=0:(Ya=null,Za=0,t=$a)}if(0!==t){if(2===t&&(0!==(i=At(e))&&(r=i,t=Eo(e,i))),1===t)throw n=eo,Io(e,0),Co(e,r),ko(e,Ft()),n;if(6===t)Co(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Oo(e,r))&&(0!==(a=At(e))&&(r=a,t=Eo(e,a))),1===t))throw n=eo,Io(e,0),Co(e,r),ko(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ho(e,ao);break;case 3:if(Co(e,r),(130023424&r)===r&&10<(t=oo+500-Ft())){if(0!==Tt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){wo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G(Ho.bind(null,e,ao),t);break}Ho(e,ao);break;case 4:if(Co(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-bt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ft()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Va(r/1960))-r)){e.timeoutHandle=G(Ho.bind(null,e,ao),r);break}Ho(e,ao);break;default:throw Error(o(329))}}}return ko(e,Ft()),e.callbackNode===n?To.bind(null,e):null}function Eo(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Io(e,t).flags|=256),2!==(e=Oo(e,t))&&(t=ao,ao=n,null!==t&&Ao(t)),e}function Ao(e){null===ao?ao=e:ao.push.apply(ao,e)}function Co(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Po(e){if(0!==(6&Xa))throw Error(o(327));Vo();var t=Tt(e,0);if(0===(1&t))return ko(e,Ft()),null;var n=Oo(e,t);if(0!==e.tag&&2===n){var r=At(e);0!==r&&(t=r,n=Eo(e,r))}if(1===n)throw n=eo,Io(e,0),Co(e,t),ko(e,Ft()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,ao),ko(e,Ft()),null}function Ro(e){null!==vo&&0===vo.tag&&0===(6&Xa)&&Vo();var t=Xa;Xa|=1;var n=qa.transition,r=Lt;try{if(qa.transition=null,Lt=1,e)return e()}finally{Lt=r,qa.transition=n,0===(6&(Xa=t))&&Zt()}}function Lo(){Ja=Qa.current,st(Qa)}function Io(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,W(n)),null!==Ka)for(n=Ka.return;null!==n;){var r=n;switch(jn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:fr(),st(dt),st(ct),xr();break;case 5:vr(r);break;case 4:fr();break;case 13:case 19:st(mr);break;case 10:ln(r.type._context);break;case 22:case 23:Lo()}n=n.return}if(Ya=e,Ka=e=es(e.current,null),Za=Ja=t,$a=0,eo=null,ro=no=to=0,ao=io=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}hn=null}return e}function No(e,t){for(;;){var n=Ka;try{if(on(),br.current=fi,Tr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Tr=!1}if(_r=0,kr=Mr=Sr=null,Er=!1,Ar=0,Wa.current=null,null===n||null===n.return){$a=1,eo=t,Ka=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Za,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ei(s);if(null!==p){p.flags&=-257,Ai(p,s,l,0,t),1&p.mode&&Ti(a,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){Ti(a,c,t),Do();break e}u=Error(o(426))}else if(Gn&&1&l.mode){var g=Ei(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ai(g,s,l,0,t),er(u);break e}}a=u,4!==$a&&($a=2),null===io?io=[a]:io.push(a),u=gi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,xn(l,Mi(0,u,t));break e;case 1:a=u;var y=l.type,x=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===fo||!fo.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t,xn(l,ki(l,a,t));break e}}l=l.return}while(null!==l)}jo(n)}catch(b){t=b,Ka===n&&null!==n&&(Ka=n=n.return);continue}break}}function zo(){var e=Ga.current;return Ga.current=fi,null===e?fi:e}function Do(){0!==$a&&3!==$a&&2!==$a||($a=4),null===Ya||0===(268435455&to)&&0===(268435455&no)||Co(Ya,Za)}function Oo(e,t){var n=Xa;Xa|=2;var r=zo();for(Ya===e&&Za===t||Io(e,t);;)try{Fo();break}catch(i){No(e,i)}if(on(),Xa=n,Ga.current=r,null!==Ka)throw Error(o(261));return Ya=null,Za=0,$a}function Fo(){for(;null!==Ka;)Bo(Ka)}function Uo(){for(;null!==Ka&&!Dt();)Bo(Ka)}function Bo(e){var t=uo(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,null===t?jo(e):Ka=t,Wa.current=null}function jo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ni(n,t,Ja)))return void(Ka=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ka=n);if(null===e)return $a=6,void(Ka=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ka=t);Ka=t=e}while(null!==t);0===$a&&($a=5)}function Ho(e,t){var n=Lt,r=qa.transition;try{qa.transition=null,Lt=1,function(e,t,n){do{Vo()}while(null!==vo);if(0!==(6&Xa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ya&&(Ka=Ya=null,Za=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Zo(jt,(function(){return Vo(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=qa.transition,qa.transition=null;var s=Lt;Lt=1;var l=Xa;Xa|=4,Wa.current=null,function(e,t){for(D(e.containerInfo),ua=t;null!==ua;)if(t=(e=ua).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ua=t;else for(;null!==ua;){e=ua;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&ke(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(l){Wo(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,ua=t;break}ua=e.return}n=ha,ha=!1}(e,r),function(e,t){for(ua=t;null!==ua;){var n=(t=ua).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Y?Ma(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(w){Wo(i,t,w)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,ua=n;else for(;null!==ua;){t=ua;try{var s=t.flags;if(32&s&&Y&&be(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Ft())}break;case 22:var d=null!==t.memoizedState,h=t.alternate,f=null!==h&&null!==h.memoizedState;if(n=t,Y)e:if(r=n,i=d,a=null,Y)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var v=p.stateNode;i?we(v):Se(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var m=p.stateNode;i?_e(m):Me(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(d&&!f&&0!==(1&n.mode)){ua=n;for(var g=n.child;null!==g;){for(n=ua=g;null!==ua;){var y=(r=ua).child;switch(r.tag){case 0:case 11:case 14:case 15:fa(4,r,r.return);break;case 1:ca(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var b=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(w){Wo(r,b,w)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Pa(n);continue}}null!==y?(y.return=r,ua=y):Pa(n)}g=g.sibling}}}switch(4102&s){case 2:wa(t),t.flags&=-3;break;case 6:wa(t),t.flags&=-3,ka(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,ka(t.alternate,t);break;case 4:ka(t.alternate,t)}}catch(w){Wo(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}}(e,r),O(e.containerInfo),e.current=r,Ea(r,e,i),Ot(),Xa=l,Lt=s,qa.transition=a}else e.current=r;if(po&&(po=!1,vo=e,mo=i),0===(a=e.pendingLanes)&&(fo=null),function(e){if(Gt&&"function"===typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(Vt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ko(e,Ft()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=ho,ho=null,e;0!==(1&mo)&&0!==e.tag&&Vo(),0!==(1&(a=e.pendingLanes))?e===yo?go++:(go=0,yo=e):go=0,Zt()}(e,t,n)}finally{qa.transition=r,Lt=n}return null}function Vo(){if(null!==vo){var e=It(mo),t=qa.transition,n=Lt;try{if(qa.transition=null,Lt=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&Xa))throw Error(o(331));var i=Xa;for(Xa|=4,ua=e.current;null!==ua;){var a=ua,s=a.child;if(0!==(16&ua.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ua=c;null!==ua;){var d=ua;switch(d.tag){case 0:case 11:case 15:fa(8,d,a)}var h=d.child;if(null!==h)h.return=d,ua=h;else for(;null!==ua;){var f=(d=ua).sibling,p=d.return;if(ya(d),d===c){ua=null;break}if(null!==f){f.return=p,ua=f;break}ua=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ua=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ua=s;else e:for(;null!==ua;){if(0!==(2048&(a=ua).flags))switch(a.tag){case 0:case 11:case 15:fa(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ua=y;break e}ua=a.return}}var x=e.current;for(ua=x;null!==ua;){var b=(s=ua).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,ua=b;else e:for(s=x;null!==ua;){if(0!==(2048&(l=ua).flags))try{switch(l.tag){case 0:case 11:case 15:pa(9,l)}}catch(_){Wo(l,l.return,_)}if(l===s){ua=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ua=w;break e}ua=l.return}}if(Xa=i,Zt(),Gt&&"function"===typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(Vt,e)}catch(_){}r=!0}return r}finally{Lt=n,qa.transition=t}}return!1}function Go(e,t,n){gn(e,t=Mi(0,t=gi(n,t),1)),t=wo(),null!==(e=Mo(e,1))&&(Pt(e,1,t),ko(e,t))}function Wo(e,t,n){if(3===e.tag)Go(e,e,n);else for(;null!==t;){if(3===t.tag){Go(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===fo||!fo.has(r))){gn(t,e=ki(t,e=gi(n,e),1)),e=wo(),null!==(t=Mo(t,1))&&(Pt(t,1,e),ko(t,e));break}}t=t.return}}function qo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=wo(),e.pingedLanes|=e.suspendedLanes&n,Ya===e&&(Za&n)===n&&(4===$a||3===$a&&(130023424&Za)===Za&&500>Ft()-oo?Io(e,0):ro|=n),ko(e,t)}function Xo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Mt,0===(130023424&(Mt<<=1))&&(Mt=4194304)));var n=wo();null!==(e=Mo(e,t))&&(Pt(e,t,n),ko(e,n))}function Yo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Xo(e,n)}function Ko(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Xo(e,n)}function Zo(e,t){return Nt(e,t)}function Jo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(e,t,n,r){return new Jo(e,t,n,r)}function $o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Qo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)$o(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case d:s=8,i|=8;break;case h:return(e=Qo(12,n,t,2|i)).elementType=h,e.lanes=a,e;case m:return(e=Qo(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=Qo(19,n,t,i)).elementType=g,e.lanes=a,e;case b:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case p:s=9;break e;case v:s=11;break e;case y:s=14;break e;case x:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Qo(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Qo(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Qo(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Qo(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Qo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ct(0),this.expirationTimes=Ct(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.identifierPrefix=r,this.onRecoverableError=i,Z&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,l){return e=new os(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Qo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function ls(e){if(!e)return ut;e:{if(k(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return gt(e,n,t)}return t}function us(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=A(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ds(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function hs(e){return null===(e=A(e))?null:e.stateNode}function fs(){return null}return uo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)Di=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:qi(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Zi(e,t,n):(lt(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);lt(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return ia(e,t,n)}(e,t,n);Di=0!==(131072&e.flags)}else Di=!1,Gn&&0!==(1048576&t.flags)&&Un(t,Ln,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ft(t,ct.current);cn(t,n),i=Lr(null,t,r,e,i,n);var a=Ir();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Mn,t.stateNode=i,i._reactInternals=t,An(t,r,e,n),t=Wi(null,t,r,!0,a,n)):(t.tag=0,Gn&&a&&Bn(t),Oi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return $o(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Gi(null,t,r,e,n);break e;case 11:t=Fi(null,t,r,e,n);break e;case 14:t=Ui(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(qi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),bn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Z&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Xi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Xi(e,t,r,n,i=Error(o(424)));break e}for(Z&&(Vn=je(t.stateNode.containerInfo),Hn=t,Gn=!0,qn=null,Wn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=ia(e,t,n);break e}Oi(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Zn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,H(r,i)?s=null:null!==a&&H(r,a)&&(t.flags|=32),Hi(e,t),Oi(e,t,s,n),t.child;case 6:return null===e&&Zn(t),null;case 13:return Zi(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Oi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Oi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Wt(a.value,s)){if(a.children===i.children&&!dt.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),un(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),un(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Oi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=dn(i)),t.flags|=1,Oi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Ui(e,t,r,i=en(r.type,i),n);case 15:return Bi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Tn(t,r,i),An(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return ji(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,wo()),ds(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=wo(),n=_o(e);So(e,n,t),ds(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kt(t.pendingLanes);0!==n&&(Rt(t,1|n),ko(t,Ft()),0===(6&Xa)&&(lo(),Zt()))}break;case 13:var r=wo();Ro((function(){return So(e,1,r)})),ds(e,1)}},t.batchedUpdates=function(e,t){var n=Xa;Xa|=1;try{return e(t)}finally{0===(Xa=n)&&(lo(),Xt&&Zt())}},t.createComponentSelector=function(e){return{$$typeof:La,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ia,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=ss(n,r,!0,e,0,a,0,s,l)).context=ls(null),n=e.current,(a=mn(r=wo(),i=_o(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,Pt(e,i,r),ko(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Na,value:e}},t.createTestNameSelector=function(e){return{$$typeof:za,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=Lt,n=qa.transition;try{return qa.transition=null,Lt=16,e()}finally{Lt=t,qa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Lt,o=qa.transition;try{return qa.transition=null,Lt=1,e(t,n,r,i)}finally{Lt=a,qa.transition=o,0===Xa&&lo()}},t.findAllNodes=Ha,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Ha(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,h=u.y,f=h+u.height;if(r>=c&&a>=h&&i<=d&&s<=f){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||f<a||h>s)){h>a&&(u.height+=h-a,u.y=a),f<s&&(u.height=s-h),e.splice(t,1);break}if(!(a!==h||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=us,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=E(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return us(e)},t.flushControlled=function(e){var t=Xa;Xa|=1;var n=qa.transition,r=Lt;try{qa.transition=null,Lt=1,e()}finally{Lt=r,qa.transition=n,0===(Xa=t)&&(lo(),Zt())}},t.flushPassiveEffects=Vo,t.flushSync=Ro,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=ja(e=Fa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Fa(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],l=t[s];if((5!==a.tag||!se(a))&&(Ua(a,l)&&(r.push(Ba(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ba(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?I(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:hs,findFiberByHostInstance:e.findFiberByHostInstance||fs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Gt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Ha(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=wo(),o=_o(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},t}},70:function(e,t,n){"use strict";e.exports=n(976)},258:function(e,t,n){"use strict";e.exports=n(721)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!M.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+A(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+A(s=e[u],u);l+=C(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=C(s=s.value,t,i,c=a+A(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},I={transition:null},N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!M.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,I(_);else{var t=r(c);null!==t&&N(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=f;try{for(b(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),b(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&N(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,k=null,T=-1,E=5,A=-1;function C(){return!(t.unstable_now()-A<E)}function P(){if(null!==k){var e=t.unstable_now();A=e;var n=!0;try{n=k(!0,e)}finally{n?S():(M=!1,k=null)}}else M=!1}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=P,S=function(){L.postMessage(null)}}else S=function(){g(P,0)};function I(e){k=e,M||(M=!0,S())}function N(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(y(T),T=-1):m=!0,N(w,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,I(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=n?n.call(r,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".e3a1bc09.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="portpro:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkportpro=self.webpackChunkportpro||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return Ru},AddEquation:function(){return eu},AddOperation:function(){return Tu},AdditiveAnimationBlendMode:function(){return rd},AdditiveBlending:function(){return Zl},AlphaFormat:function(){return uc},AlwaysDepth:function(){return gu},AlwaysStencilFunc:function(){return Rd},AmbientLight:function(){return Sw},AmbientLightProbe:function(){return Uw},AnimationClip:function(){return qb},AnimationLoader:function(){return nw},AnimationMixer:function(){return m_},AnimationObjectGroup:function(){return f_},AnimationUtils:function(){return Ib},ArcCurve:function(){return Ky},ArrayCamera:function(){return Tg},ArrowHelper:function(){return sS},Audio:function(){return Jw},AudioAnalyser:function(){return r_},AudioContext:function(){return Dw},AudioListener:function(){return Zw},AudioLoader:function(){return Ow},AxesHelper:function(){return lS},BackSide:function(){return ql},BasicDepthPacking:function(){return ud},BasicShadowMap:function(){return jl},Bone:function(){return py},BooleanKeyframeTrack:function(){return Ub},Box2:function(){return A_},Box3:function(){return Uh},Box3Helper:function(){return iS},BoxBufferGeometry:function(){return gS},BoxGeometry:function(){return Bp},BoxHelper:function(){return rS},BufferAttribute:function(){return np},BufferGeometry:function(){return bp},BufferGeometryLoader:function(){return Pw},ByteType:function(){return $u},Cache:function(){return Kb},Camera:function(){return Wp},CameraHelper:function(){return Q_},CanvasTexture:function(){return qy},CapsuleBufferGeometry:function(){return yS},CapsuleGeometry:function(){return mx},CatmullRomCurve3:function(){return tx},CineonToneMapping:function(){return Pu},CircleBufferGeometry:function(){return xS},CircleGeometry:function(){return gx},ClampToEdgeWrapping:function(){return Bu},Clock:function(){return Gw},Color:function(){return _h},ColorKeyframeTrack:function(){return Bb},ColorManagement:function(){return ph},CompressedTexture:function(){return Wy},CompressedTextureLoader:function(){return rw},ConeBufferGeometry:function(){return bS},ConeGeometry:function(){return xx},CubeCamera:function(){return Yp},CubeReflectionMapping:function(){return Nu},CubeRefractionMapping:function(){return zu},CubeTexture:function(){return Kp},CubeTextureLoader:function(){return aw},CubeUVReflectionMapping:function(){return Fu},CubicBezierCurve:function(){return ax},CubicBezierCurve3:function(){return ox},CubicInterpolant:function(){return zb},CullFaceBack:function(){return Fl},CullFaceFront:function(){return Ul},CullFaceFrontBack:function(){return Bl},CullFaceNone:function(){return Ol},Curve:function(){return Xy},CurvePath:function(){return fx},CustomBlending:function(){return $l},CustomToneMapping:function(){return Lu},CylinderBufferGeometry:function(){return wS},CylinderGeometry:function(){return yx},Cylindrical:function(){return T_},Data3DTexture:function(){return Lh},DataArrayTexture:function(){return Ph},DataTexture:function(){return vy},DataTexture2DArray:function(){return vS},DataTexture3D:function(){return mS},DataTextureLoader:function(){return ow},DataUtils:function(){return hS},DecrementStencilOp:function(){return bd},DecrementWrapStencilOp:function(){return _d},DefaultLoadingManager:function(){return Jb},DepthFormat:function(){return pc},DepthStencilFormat:function(){return vc},DepthTexture:function(){return Pg},DirectionalLight:function(){return _w},DirectionalLightHelper:function(){return K_},DiscreteInterpolant:function(){return Ob},DodecahedronBufferGeometry:function(){return _S},DodecahedronGeometry:function(){return wx},DoubleSide:function(){return Xl},DstAlphaFactor:function(){return du},DstColorFactor:function(){return fu},DynamicCopyUsage:function(){return Ud},DynamicDrawUsage:function(){return Id},DynamicReadUsage:function(){return Dd},EdgesGeometry:function(){return Tx},EllipseCurve:function(){return Yy},EqualDepth:function(){return bu},EqualStencilFunc:function(){return Td},EquirectangularReflectionMapping:function(){return Du},EquirectangularRefractionMapping:function(){return Ou},Euler:function(){return Mf},EventDispatcher:function(){return Gd},ExtrudeBufferGeometry:function(){return SS},ExtrudeGeometry:function(){return rb},FileLoader:function(){return tw},Float16BufferAttribute:function(){return cp},Float32BufferAttribute:function(){return dp},Float64BufferAttribute:function(){return hp},FloatType:function(){return ic},Fog:function(){return Ug},FogExp2:function(){return Fg},FramebufferTexture:function(){return Gy},FrontSide:function(){return Wl},Frustum:function(){return rv},GLBufferAttribute:function(){return w_},GLSL1:function(){return jd},GLSL3:function(){return Hd},GreaterDepth:function(){return _u},GreaterEqualDepth:function(){return wu},GreaterEqualStencilFunc:function(){return Pd},GreaterStencilFunc:function(){return Ad},GridHelper:function(){return G_},Group:function(){return Eg},HalfFloatType:function(){return ac},HemisphereLight:function(){return uw},HemisphereLightHelper:function(){return V_},HemisphereLightProbe:function(){return Fw},IcosahedronBufferGeometry:function(){return MS},IcosahedronGeometry:function(){return ab},ImageBitmapLoader:function(){return zw},ImageLoader:function(){return iw},ImageUtils:function(){return Sh},ImmediateRenderObject:function(){return fS},IncrementStencilOp:function(){return xd},IncrementWrapStencilOp:function(){return wd},InstancedBufferAttribute:function(){return xy},InstancedBufferGeometry:function(){return Cw},InstancedInterleavedBuffer:function(){return b_},InstancedMesh:function(){return My},Int16BufferAttribute:function(){return op},Int32BufferAttribute:function(){return lp},Int8BufferAttribute:function(){return rp},IntType:function(){return nc},InterleavedBuffer:function(){return jg},InterleavedBufferAttribute:function(){return Vg},Interpolant:function(){return Nb},InterpolateDiscrete:function(){return Zc},InterpolateLinear:function(){return Jc},InterpolateSmooth:function(){return Qc},InvertStencilOp:function(){return Sd},KeepStencilOp:function(){return gd},KeyframeTrack:function(){return Fb},LOD:function(){return sy},LatheBufferGeometry:function(){return kS},LatheGeometry:function(){return vx},Layers:function(){return kf},LessDepth:function(){return yu},LessEqualDepth:function(){return xu},LessEqualStencilFunc:function(){return Ed},LessStencilFunc:function(){return kd},Light:function(){return lw},LightProbe:function(){return Tw},Line:function(){return Ry},Line3:function(){return R_},LineBasicMaterial:function(){return ky},LineCurve:function(){return sx},LineCurve3:function(){return lx},LineDashedMaterial:function(){return Tb},LineLoop:function(){return zy},LineSegments:function(){return Ny},LinearEncoding:function(){return sd},LinearFilter:function(){return Xu},LinearInterpolant:function(){return Db},LinearMipMapLinearFilter:function(){return Ju},LinearMipMapNearestFilter:function(){return Ku},LinearMipmapLinearFilter:function(){return Zu},LinearMipmapNearestFilter:function(){return Yu},LinearSRGBColorSpace:function(){return vd},LinearToneMapping:function(){return Au},Loader:function(){return Qb},LoaderUtils:function(){return Aw},LoadingManager:function(){return Zb},LoopOnce:function(){return Xc},LoopPingPong:function(){return Kc},LoopRepeat:function(){return Yc},LuminanceAlphaFormat:function(){return fc},LuminanceFormat:function(){return hc},MOUSE:function(){return zl},Material:function(){return Qf},MaterialLoader:function(){return Ew},MathUtils:function(){return ih},Matrix3:function(){return oh},Matrix4:function(){return pf},MaxEquation:function(){return iu},Mesh:function(){return Fp},MeshBasicMaterial:function(){return $f},MeshDepthMaterial:function(){return bg},MeshDistanceMaterial:function(){return wg},MeshLambertMaterial:function(){return Mb},MeshMatcapMaterial:function(){return kb},MeshNormalMaterial:function(){return Sb},MeshPhongMaterial:function(){return wb},MeshPhysicalMaterial:function(){return bb},MeshStandardMaterial:function(){return xb},MeshToonMaterial:function(){return _b},MinEquation:function(){return ru},MirroredRepeatWrapping:function(){return ju},MixOperation:function(){return ku},MultiplyBlending:function(){return Ql},MultiplyOperation:function(){return Mu},NearestFilter:function(){return Hu},NearestMipMapLinearFilter:function(){return qu},NearestMipMapNearestFilter:function(){return Gu},NearestMipmapLinearFilter:function(){return Wu},NearestMipmapNearestFilter:function(){return Vu},NeverDepth:function(){return mu},NeverStencilFunc:function(){return Md},NoBlending:function(){return Yl},NoColorSpace:function(){return fd},NoToneMapping:function(){return Eu},NormalAnimationBlendMode:function(){return nd},NormalBlending:function(){return Kl},NotEqualDepth:function(){return Su},NotEqualStencilFunc:function(){return Cd},NumberKeyframeTrack:function(){return jb},Object3D:function(){return Uf},ObjectLoader:function(){return Rw},ObjectSpaceNormalMap:function(){return hd},OctahedronBufferGeometry:function(){return TS},OctahedronGeometry:function(){return ob},OneFactor:function(){return ou},OneMinusDstAlphaFactor:function(){return hu},OneMinusDstColorFactor:function(){return pu},OneMinusSrcAlphaFactor:function(){return cu},OneMinusSrcColorFactor:function(){return lu},OrthographicCamera:function(){return mv},PCFShadowMap:function(){return Hl},PCFSoftShadowMap:function(){return Vl},PMREMGenerator:function(){return kv},Path:function(){return px},PerspectiveCamera:function(){return qp},Plane:function(){return ev},PlaneBufferGeometry:function(){return ES},PlaneGeometry:function(){return ov},PlaneHelper:function(){return aS},PointLight:function(){return bw},PointLightHelper:function(){return U_},Points:function(){return jy},PointsMaterial:function(){return Dy},PolarGridHelper:function(){return W_},PolyhedronBufferGeometry:function(){return AS},PolyhedronGeometry:function(){return bx},PositionalAudio:function(){return n_},PropertyBinding:function(){return h_},PropertyMixer:function(){return i_},QuadraticBezierCurve:function(){return ux},QuadraticBezierCurve3:function(){return cx},Quaternion:function(){return zh},QuaternionKeyframeTrack:function(){return Vb},QuaternionLinearInterpolant:function(){return Hb},REVISION:function(){return Nl},RGBADepthPacking:function(){return cd},RGBAFormat:function(){return dc},RGBAIntegerFormat:function(){return bc},RGBA_ASTC_10x10_Format:function(){return Vc},RGBA_ASTC_10x5_Format:function(){return Bc},RGBA_ASTC_10x6_Format:function(){return jc},RGBA_ASTC_10x8_Format:function(){return Hc},RGBA_ASTC_12x10_Format:function(){return Gc},RGBA_ASTC_12x12_Format:function(){return Wc},RGBA_ASTC_4x4_Format:function(){return Lc},RGBA_ASTC_5x4_Format:function(){return Ic},RGBA_ASTC_5x5_Format:function(){return Nc},RGBA_ASTC_6x5_Format:function(){return zc},RGBA_ASTC_6x6_Format:function(){return Dc},RGBA_ASTC_8x5_Format:function(){return Oc},RGBA_ASTC_8x6_Format:function(){return Fc},RGBA_ASTC_8x8_Format:function(){return Uc},RGBA_BPTC_Format:function(){return qc},RGBA_ETC2_EAC_Format:function(){return Rc},RGBA_PVRTC_2BPPV1_Format:function(){return Ac},RGBA_PVRTC_4BPPV1_Format:function(){return Ec},RGBA_S3TC_DXT1_Format:function(){return _c},RGBA_S3TC_DXT3_Format:function(){return Sc},RGBA_S3TC_DXT5_Format:function(){return Mc},RGBFormat:function(){return cc},RGB_ETC1_Format:function(){return Cc},RGB_ETC2_Format:function(){return Pc},RGB_PVRTC_2BPPV1_Format:function(){return Tc},RGB_PVRTC_4BPPV1_Format:function(){return kc},RGB_S3TC_DXT1_Format:function(){return wc},RGFormat:function(){return yc},RGIntegerFormat:function(){return xc},RawShaderMaterial:function(){return yb},Ray:function(){return ff},Raycaster:function(){return __},RectAreaLight:function(){return Mw},RedFormat:function(){return mc},RedIntegerFormat:function(){return gc},ReinhardToneMapping:function(){return Cu},RepeatWrapping:function(){return Uu},ReplaceStencilOp:function(){return yd},ReverseSubtractEquation:function(){return nu},RingBufferGeometry:function(){return CS},RingGeometry:function(){return sb},SRGBColorSpace:function(){return pd},Scene:function(){return Bg},ShaderChunk:function(){return sv},ShaderLib:function(){return uv},ShaderMaterial:function(){return Gp},ShadowMaterial:function(){return gb},Shape:function(){return Ex},ShapeBufferGeometry:function(){return PS},ShapeGeometry:function(){return lb},ShapePath:function(){return uS},ShapeUtils:function(){return eb},ShortType:function(){return ec},Skeleton:function(){return yy},SkeletonHelper:function(){return O_},SkinnedMesh:function(){return fy},Source:function(){return Mh},Sphere:function(){return af},SphereBufferGeometry:function(){return RS},SphereGeometry:function(){return ub},Spherical:function(){return k_},SphericalHarmonics3:function(){return kw},SplineCurve:function(){return dx},SpotLight:function(){return vw},SpotLightHelper:function(){return I_},Sprite:function(){return ry},SpriteMaterial:function(){return Gg},SrcAlphaFactor:function(){return uu},SrcAlphaSaturateFactor:function(){return vu},SrcColorFactor:function(){return su},StaticCopyUsage:function(){return Fd},StaticDrawUsage:function(){return Ld},StaticReadUsage:function(){return zd},StereoCamera:function(){return Vw},StreamCopyUsage:function(){return Bd},StreamDrawUsage:function(){return Nd},StreamReadUsage:function(){return Od},StringKeyframeTrack:function(){return Gb},SubtractEquation:function(){return tu},SubtractiveBlending:function(){return Jl},TOUCH:function(){return Dl},TangentSpaceNormalMap:function(){return dd},TetrahedronBufferGeometry:function(){return LS},TetrahedronGeometry:function(){return cb},Texture:function(){return Eh},TextureLoader:function(){return sw},TorusBufferGeometry:function(){return IS},TorusGeometry:function(){return db},TorusKnotBufferGeometry:function(){return NS},TorusKnotGeometry:function(){return hb},Triangle:function(){return Zf},TriangleFanDrawMode:function(){return od},TriangleStripDrawMode:function(){return ad},TrianglesDrawMode:function(){return id},TubeBufferGeometry:function(){return zS},TubeGeometry:function(){return fb},UVMapping:function(){return Iu},Uint16BufferAttribute:function(){return sp},Uint32BufferAttribute:function(){return up},Uint8BufferAttribute:function(){return ip},Uint8ClampedBufferAttribute:function(){return ap},Uniform:function(){return g_},UniformsGroup:function(){return x_},UniformsLib:function(){return lv},UniformsUtils:function(){return Vp},UnsignedByteType:function(){return Qu},UnsignedInt248Type:function(){return lc},UnsignedIntType:function(){return rc},UnsignedShort4444Type:function(){return oc},UnsignedShort5551Type:function(){return sc},UnsignedShortType:function(){return tc},VSMShadowMap:function(){return Gl},Vector2:function(){return ah},Vector3:function(){return Dh},Vector4:function(){return Ah},VectorKeyframeTrack:function(){return Wb},VideoTexture:function(){return Vy},WebGL1Renderer:function(){return Dg},WebGL3DRenderTarget:function(){return Ih},WebGLArrayRenderTarget:function(){return Rh},WebGLCubeRenderTarget:function(){return Zp},WebGLMultipleRenderTargets:function(){return Nh},WebGLMultisampleRenderTarget:function(){return pS},WebGLRenderTarget:function(){return Ch},WebGLRenderer:function(){return zg},WebGLUtils:function(){return kg},WireframeGeometry:function(){return pb},WrapAroundEnding:function(){return td},ZeroCurvatureEnding:function(){return $c},ZeroFactor:function(){return au},ZeroSlopeEnding:function(){return ed},ZeroStencilOp:function(){return md},_SRGBAFormat:function(){return Vd},sRGBEncoding:function(){return ld}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||l()}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var d=function(e){return e};var h="beforeunload",f="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var x=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function S(e,t,n){void 0===n&&(n="/");var r=R(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=M(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function M(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||_(!1),a.relativePath=a.relativePath.slice(r.length));var o=L([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&_(!1),M(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:s})})),t}var k=/^:\w+$/,T=function(e){return"*"===e};function E(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(k.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=C({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var d=s.route;a.push({params:r,pathname:L([i,c.pathname]),pathnameBase:I(L([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function P(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:N(a),hash:z(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var L=function(e){return e.join("/").replace(/\/\/+/g,"/")},I=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},N=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},z=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function D(){return null!=(0,r.useContext)(b)}function O(){return D()||_(!1),(0,r.useContext)(b).location}function F(){D()||_(!1);var e=(0,r.useContext)(x),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=O().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);return(0,r.useEffect)((function(){s.current=!0})),(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=P(e,JSON.parse(o),a);"/"!==t&&(i.pathname=L([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a])}function U(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){_(!1)}function j(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,l=e.navigationType,u=void 0===l?t.Pop:l,c=e.navigator,d=e.static,h=void 0!==d&&d;D()&&_(!1);var f=I(i),p=(0,r.useMemo)((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof s&&(s=y(s));var v=s,m=v.pathname,g=void 0===m?"/":m,w=v.search,S=void 0===w?"":w,M=v.hash,k=void 0===M?"":M,T=v.state,E=void 0===T?null:T,A=v.key,C=void 0===A?"default":A,P=(0,r.useMemo)((function(){var e=R(g,f);return null==e?null:{pathname:e,search:S,hash:k,state:E,key:C}}),[f,g,S,k,E,C]);return null==P?null:(0,r.createElement)(x.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:P,navigationType:u}}))}function H(e){var t=e.children,n=e.location;return function(e,t){D()||_(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),l=(a&&a.route,O());if(t){var u,c="string"===typeof t?y(t):t;"/"===s||(null==(u=c.pathname)?void 0:u.startsWith(s))||_(!1),n=c}else n=l;var d=n.pathname||"/",h=S(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return U(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:L([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:L([s,e.pathnameBase])})})),i)}(V(t),n)}function V(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==B&&_(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=V(e.props.children)),t.push(n)}else t.push.apply(t,V(e.props.children))})),t}function G(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,d({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(f,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=u-r;s&&(o={action:e,location:i,retry:function(){E(-1*s)}},E(s))}}else T(e)}}));var s=t.Pop,l=a(),u=l[0],x=l[1],b=v(),w=v();function _(e){return"string"===typeof e?e:g(e)}function S(e,t){return void 0===t&&(t=null),d(c({pathname:x.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:m()}))}function M(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function k(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();u=t[0],x=t[1],b.call({action:s,location:x})}function E(e){i.go(e)}null==u&&(u=0,i.replaceState(c({},i.state,{idx:u}),""));var A={get action(){return s},get location(){return x},createHref:_,push:function e(n,a){var o=t.Push,s=S(n,a);if(k(o,s,(function(){e(n,a)}))){var l=M(s,u+1),c=l[0],d=l[1];try{i.pushState(c,"",d)}catch(h){r.location.assign(d)}T(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(k(a,o,(function(){e(n,r)}))){var s=M(o,u),l=s[0],c=s[1];i.replaceState(l,"",c),T(a)}},go:E,back:function(){E(-1)},forward:function(){E(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return A}({window:a}));var s=o.current,l=u((0,r.useState)({action:s.action,location:s.location}),2),x=l[0],b=l[1];return(0,r.useLayoutEffect)((function(){return s.listen(b)}),[s]),(0,r.createElement)(j,{basename:n,children:i,location:x.location,navigationType:x.action,navigator:s})}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function K(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Y(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){J(a,r,i,o,s,"next",e)}function s(e){J(a,r,i,o,s,"throw",e)}o(void 0)}))}}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e,t,n){return ne=te()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ee(i,n.prototype),i},ne.apply(null,arguments)}function re(e){var t="function"===typeof Map?new Map:void 0;return re=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ne(e,arguments,$(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ee(r,e)},re(e)}function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(){ae=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return k()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var c={};function d(){}function h(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(M([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=f.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==ie(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function M(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=f,s(g,"constructor",f),s(f,"constructor",h),h.displayName=s(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(x.prototype),s(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function oe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}function ue(e,t){if(t&&("object"===ie(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return se(e)}function ce(e){var t=te();return function(){var n,r=$(e);if(t){var i=$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ue(this,n)}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&he(e.prototype,t),n&&he(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var pe=n(164),ve=["override"],me=["cachePolicyForParams_UNSTABLE"],ge=ae().mark(Yt),ye=ae().mark(or);var xe=function(e){var t=new Error(e);if(void 0===t.stack)try{throw t}catch(LT){}return t};var be=function(e){return!!e&&"function"===typeof e.then};var we=function(e,t){if(null!=e)return e;throw xe(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(){function e(){de(this,e)}return fe(e,[{key:"getValue",value:function(){throw xe("BaseLoadable")}},{key:"toPromise",value:function(){throw xe("BaseLoadable")}},{key:"valueMaybe",value:function(){throw xe("BaseLoadable")}},{key:"valueOrThrow",value:function(){throw xe('Loadable expected value, but in "'.concat(this.state,'" state'))}},{key:"promiseMaybe",value:function(){throw xe("BaseLoadable")}},{key:"promiseOrThrow",value:function(){throw xe('Loadable expected promise, but in "'.concat(this.state,'" state'))}},{key:"errorMaybe",value:function(){throw xe("BaseLoadable")}},{key:"errorOrThrow",value:function(){throw xe('Loadable expected error, but in "'.concat(this.state,'" state'))}},{key:"is",value:function(e){return e.state===this.state&&e.contents===this.contents}},{key:"map",value:function(e){throw xe("BaseLoadable")}}]),e}(),Me=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),_e(se(r=t.call(this)),"state","hasValue"),_e(se(r),"contents",void 0),r.contents=e,r}return fe(n,[{key:"getValue",value:function(){return this.contents}},{key:"toPromise",value:function(){return Promise.resolve(this.contents)}},{key:"valueMaybe",value:function(){return this.contents}},{key:"valueOrThrow",value:function(){return this.contents}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;try{var n=e(this.contents);return be(n)?Ce(n):Le(n)?n:Ee(n)}catch(r){return be(r)?Ce(r.next((function(){return t.map(e)}))):Ae(r)}}}]),n}(Se),ke=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),_e(se(r=t.call(this)),"state","hasError"),_e(se(r),"contents",void 0),r.contents=e,r}return fe(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return Promise.reject(this.contents)}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){return this.contents}},{key:"errorOrThrow",value:function(){return this.contents}},{key:"map",value:function(e){return this}}]),n}(Se),Te=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),_e(se(r=t.call(this)),"state","loading"),_e(se(r),"contents",void 0),r.contents=e,r}return fe(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return this.contents}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){return this.contents}},{key:"promiseOrThrow",value:function(){return this.contents}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;return Ce(this.contents.then((function(t){var n=e(t);if(Le(n)){var r=n;switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}}return n})).catch((function(n){if(be(n))return n.then((function(){return t.map(e).contents}));throw n})))}}]),n}(Se);function Ee(e){return Object.freeze(new Me(e))}function Ae(e){return Object.freeze(new ke(e))}function Ce(e){return Object.freeze(new Te(e))}function Pe(){return Object.freeze(new Te(new Promise((function(){}))))}function Re(e){var t=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))).map((function(e){return Le(e)?e:be(e)?Ce(e):Ee(e)})),n=function(e){return e.every((function(e){return"hasValue"===e.state}))?Ee(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?Ae(we(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):Ce(Promise.all(e.map((function(e){return e.contents}))))}(t);return Array.isArray(e)?n:n.map((function(t){return Object.getOwnPropertyNames(e).reduce((function(e,n,r){return X(X({},e),{},W({},n,t[r]))}),{})}))}function Le(e){return e instanceof Se}var Ie={of:function(e){return be(e)?Ce(e):Le(e)?e:Ee(e)},error:function(e){return Ae(e)},loading:function(){return Pe()},all:Re,isLoadable:Le},Ne={loadableWithValue:Ee,loadableWithError:Ae,loadableWithPromise:Ce,loadableLoading:Pe,loadableAll:Re,isLoadable:Le,RecoilLoadable:Ie},ze=Ne.loadableWithValue,De=Ne.loadableWithError,Oe=Ne.loadableWithPromise,Fe=Ne.loadableLoading,Ue=Ne.loadableAll,Be=Ne.isLoadable,je=Ne.RecoilLoadable,He=Object.freeze({__proto__:null,loadableWithValue:ze,loadableWithError:De,loadableWithPromise:Oe,loadableLoading:Fe,loadableAll:Ue,isLoadable:Be,RecoilLoadable:je}),Ve=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function Ge(e){var t;return null!==(t=Ve.get(e))&&void 0!==t&&t}Ge.setPass=function(e){Ve.set(e,!0)},Ge.setFail=function(e){Ve.set(e,!1)},Ge.clear=function(){Ve.clear()};var We,qe,Xe,Ye=Ge,Ke=null!==(We=r.createMutableSource)&&void 0!==We?We:r.unstable_createMutableSource,Ze=null!==(qe=r.useMutableSource)&&void 0!==qe?qe:r.unstable_useMutableSource,Je=null!==(Xe=r.useSyncExternalStore)&&void 0!==Xe?Xe:r.unstable_useSyncExternalStore;var Qe={createMutableSource:Ke,useMutableSource:Ze,useSyncExternalStore:Je,reactMode:function(){return Ye("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ye("recoil_sync_external_store")&&null!=Je?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ye("recoil_mutable_source")&&null!=Ze&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ye("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ye("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}},$e=function(){function e(t){de(this,e),_e(this,"key",void 0),this.key=t}return fe(e,[{key:"toJSON",value:function(){return{key:this.key}}}]),e}(),et=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}($e),tt=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}($e);var nt={AbstractRecoilValue:$e,RecoilState:et,RecoilValueReadOnly:tt,isRecoilValue:function(e){return e instanceof et||e instanceof tt}},rt=nt.AbstractRecoilValue,it=nt.RecoilState,at=nt.RecoilValueReadOnly,ot=nt.isRecoilValue,st=Object.freeze({__proto__:null,AbstractRecoilValue:rt,RecoilState:it,RecoilValueReadOnly:at,isRecoilValue:ot});var lt=function(e){};var ut=function(e,t){return ae().mark((function n(){var r,i,a,o;return ae().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=oe(e),n.prev=2,i.s();case 4:if((a=i.n()).done){n.next=10;break}return o=a.value,n.next=8,t(o,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()};var ct=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null},dt=ct,ht=fe((function e(){de(this,e)})),ft=new ht,pt=new Map,vt=new Map;var mt=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(re(Error));var gt=new Map;function yt(e){return gt.get(e)}var xt={nodes:pt,recoilValues:vt,registerNode:function(e){if(pt.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}pt.set(e.key,e);var n=null==e.set?new st.RecoilValueReadOnly(e.key):new st.RecoilState(e.key);return vt.set(e.key,n),n},getNode:function(e){var t=pt.get(e);if(null==t)throw new mt('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return pt.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(Ye("recoil_memory_managament_2020")){var n,r=pt.get(e);if(null!==r&&void 0!==r&&null!==(t=r.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(r))pt.delete(e),null===(n=yt(e))||void 0===n||n(),gt.delete(e)}},setConfigDeletionHandler:function(e,t){Ye("recoil_memory_managament_2020")&&(void 0===t?gt.delete(e):gt.set(e,t))},getConfigDeletionHandler:yt,recoilValuesForKeys:function(e){return ut(e,(function(e){return we(vt.get(e))}))},NodeMissingError:mt,DefaultValue:ht,DEFAULT_VALUE:ft};var bt={enqueueExecution:function(e,t){t()}};var wt,_t,St=(wt=function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,a=r/2,o=r/4,s={},l=function(e){return function(){return e}},u=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,a=e.length;i<a;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},c=function(e,t){return t>>>e&i},d=function(e){return 1<<e},h=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)},f=function(e,t,n,r){var i=r;if(!e){var a=r.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=r[o]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,a=0,o=n;if(e)i=a=t;else for(o=new Array(r);i<t;)o[a++]=n[i++];for(++i;i<=r;)o[a++]=n[i++];return e&&(o.length=r),o},v={__hamt_isEmpty:!0},m=function(e){return e===v||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:S}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:M}},x=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:k}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:T}},w=function e(t,n,r,i,a,o){if(r===a)return y(t,r,[o,i]);var s=c(n,r),l=c(n,a);return x(t,d(s)|d(l),s===l?[e(t,n+5,r,i,a,o)]:s<l?[i,o]:[o,i])},_=function(e,t){return e===t.edit},S=function(e,t,n,r,i,a,o){if(t(a,this.key)){var l=r(this.value);return l===this.value?this:l===s?(--o.value,v):_(e,this)?(this.value=l,this):g(e,i,a,l)}var u=r();return u===s?this:(++o.value,w(e,n,this.hash,this,i,g(e,i,a,u)))},M=function(e,t,n,r,i,a,o){if(i===this.hash){var l=function(e,t,n,r,i,a,o,l){for(var u=i.length,c=0;c<u;++c){var d=i[c];if(n(o,d.key)){var h=d.value,v=a(h);return v===h?i:v===s?(--l.value,p(e,c,i)):f(e,c,g(t,r,o,v),i)}}var m=a();return m===s?i:(++l.value,f(e,u,g(t,r,o,m),i))}(_(e,this),e,t,this.hash,this.children,r,a,o);return l===this.children?this:l.length>1?y(e,this.hash,l):l[0]}var u=r();return u===s?this:(++o.value,w(e,n,this.hash,this,i,g(e,i,a,u)))},k=function(e,t,n,r,i,o,s){var l=this.mask,u=this.children,g=c(n,i),y=d(g),w=h(l,y),S=l&y,M=S?u[w]:v,k=M._modify(e,t,n+5,r,i,o,s);if(M===k)return this;var T,E=_(e,this),A=l,C=void 0;if(S&&m(k)){if(!(A&=~y))return v;if(u.length<=2&&((T=u[1^w])===v||1===T.type||2===T.type))return u[1^w];C=p(E,w,u)}else if(S||m(k))C=f(E,w,k,u);else{if(u.length>=a)return function(e,t,n,r,i){for(var a=[],o=r,s=0,l=0;o;++l)1&o&&(a[l]=i[s++]),o>>>=1;return a[t]=n,b(e,s+1,a)}(e,g,k,l,u);A|=y,C=function(e,t,n,r){var i=r.length;if(e){for(var a=i;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var o=0,s=0,l=new Array(i+1);o<t;)l[s++]=r[o++];for(l[t]=n;o<i;)l[++s]=r[o++];return l}(E,w,k,u)}return E?(this.mask=A,this.children=C,this):x(e,A,C)},T=function(e,t,n,r,i,a,s){var l=this.size,u=this.children,d=c(n,i),h=u[d],p=(h||v)._modify(e,t,n+5,r,i,a,s);if(h===p)return this;var g=_(e,this),y=void 0;if(m(h)&&!m(p))++l,y=f(g,d,p,u);else if(!m(h)&&m(p)){if(--l<=o)return function(e,t,n,r){for(var i=new Array(t-1),a=0,o=0,s=0,l=r.length;s<l;++s)if(s!==n){var u=r[s];u&&!m(u)&&(i[a++]=u,o|=1<<s)}return x(e,o,i)}(e,l,d,u);y=f(g,d,v,u)}else y=f(g,d,p,u);return g?(this.size=l,this.children=y,this):b(e,l,y)};function E(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}v._modify=function(e,t,n,r,i,a,o){var l=r();return l===s?v:(++o.value,g(e,i,a,l))},E.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new E(this._editable,this._edit,this._config,e,t)};var A=n.tryGetHash=function(e,t,n,r){for(var i=r._root,a=0,o=r._config.keyEq;;)switch(i.type){case 1:return o(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,l=0,u=s.length;l<u;++l){var f=s[l];if(o(n,f.key))return f.value}return e;case 3:var p=c(a,t),v=d(p);if(i.mask&v){i=i.children[h(i.mask,v)],a+=5;break}return e;case 4:if(i=i.children[c(a,t)]){a+=5;break}return e;default:return e}};E.prototype.tryGetHash=function(e,t,n){return A(e,t,n,this)};var C=n.tryGet=function(e,t,n){return A(e,n._config.hash(t),t,n)};E.prototype.tryGet=function(e,t){return C(e,t,this)};var P=n.getHash=function(e,t,n){return A(void 0,e,t,n)};E.prototype.getHash=function(e,t){return P(e,t,this)},n.get=function(e,t){return A(void 0,t._config.hash(e),e,t)},E.prototype.get=function(e,t){return C(t,e,this)};var R=n.has=function(e,t,n){return A(s,e,t,n)!==s};E.prototype.hasHash=function(e,t){return R(e,t,this)};var L=n.has=function(e,t){return R(t._config.hash(e),e,t)};E.prototype.has=function(e){return L(e,this)};var I=function(e,t){return e===t};n.make=function(e){return new E(0,0,{keyEq:e&&e.keyEq||I,hash:e&&e.hash||u},v,0)},n.empty=n.make();var N=n.isEmpty=function(e){return e&&!!m(e._root)};E.prototype.isEmpty=function(){return N(this)};var z=n.modifyHash=function(e,t,n,r){var i={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(a,i.value)};E.prototype.modifyHash=function(e,t,n){return z(n,e,t,this)};var D=n.modify=function(e,t,n){return z(e,n._config.hash(t),t,n)};E.prototype.modify=function(e,t){return D(t,e,this)};var O=n.setHash=function(e,t,n,r){return z(l(n),e,t,r)};E.prototype.setHash=function(e,t,n){return O(e,t,n,this)};var F=n.set=function(e,t,n){return O(n._config.hash(e),e,t,n)};E.prototype.set=function(e,t){return F(e,t,this)};var U=l(s),B=n.removeHash=function(e,t,n){return z(U,e,t,n)};E.prototype.removeHash=E.prototype.deleteHash=function(e,t){return B(e,t,this)};var j=n.remove=function(e,t){return B(t._config.hash(e),e,t)};E.prototype.remove=E.prototype.delete=function(e){return j(e,this)};var H=n.beginMutation=function(e){return new E(e._editable+1,e._edit+1,e._config,e._root,e._size)};E.prototype.beginMutation=function(){return H(this)};var V=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};E.prototype.endMutation=function(){return V(this)};var G=n.mutate=function(e,t){var n=H(t);return e(n),V(n)};E.prototype.mutate=function(e){return G(e,this)};var W=function(e){return e&&q(e[0],e[1],e[2],e[3],e[4])},q=function(e,t,n,r,i){for(;n<e;){var a=t[n++];if(a&&!m(a))return X(a,r,[e,t,n,r,i])}return W(i)},X=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return q(r.length,r,0,t,n);default:return W(n)}},Y={done:!0};function K(e){this.v=e}K.prototype.next=function(){if(!this.v)return Y;var e=this.v;return this.v=W(e.rest),e},K.prototype[Symbol.iterator]=function(){return this};var Z=function(e,t){return new K(X(e._root,t))},J=function(e){return[e.key,e.value]},Q=n.entries=function(e){return Z(e,J)};E.prototype.entries=E.prototype[Symbol.iterator]=function(){return Q(this)};var $=function(e){return e.key},ee=n.keys=function(e){return Z(e,$)};E.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=E.prototype.values=function(e){return Z(e,te)};E.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],a=void 0;a=i.pop();)for(var o=0,s=a.length;o<s;){var l=a[o++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):i.push(l.children))}return t};E.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};E.prototype.forEach=function(e){return ie(e,this)};var ae=n.count=function(e){return e._size};E.prototype.count=function(){return ae(this)},Object.defineProperty(E.prototype,"size",{get:E.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},wt(_t={exports:{}},_t.exports),_t.exports),Mt=function(){function e(t){de(this,e),_e(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return fe(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return Tt(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),kt=function(){function e(t){if(de(this,e),_e(this,"_hamt",St.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=oe(t.entries());try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];this._hamt.set(o,s)}}catch(l){i.e(l)}finally{i.f()}}}return fe(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return Tt(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function Tt(e){return Ye("recoil_hamt_2020")?new kt(e):new Mt(e)}var Et=Tt;var At=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=oe(e);try{e:for(o.s();!(a=o.n()).done;){var s,l=a.value,u=oe(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c.has(l))continue e}}catch(d){u.e(d)}finally{u.f()}t.add(l)}}catch(d){o.e(d)}finally{o.f()}return t};var Ct=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function Pt(e,t,n,r){var i=n.nodeDeps,a=n.nodeToNodeSubscriptions,o=i.get(e);if(!o||!r||o===r.nodeDeps.get(e)){i.set(e,t);var s,l=oe(null==o?t:At(t,o));try{for(l.s();!(s=l.n()).done;){var u=s.value;a.has(u)||a.set(u,new Set),we(a.get(u)).add(e)}}catch(p){l.e(p)}finally{l.f()}if(o){var c,d=oe(At(o,t));try{for(d.s();!(c=d.n()).done;){var h=c.value;if(!a.has(h))return;var f=we(a.get(h));f.delete(e),0===f.size&&a.delete(h)}}catch(p){d.e(p)}finally{d.f()}}}}var Rt=function(e){return{nodeDeps:Ct(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:Ct(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},Lt=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},It=function(e,t,n,r){var i,a,o,s,l=n.getState();r!==l.currentTree.version&&r!==(null===(i=l.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(a=l.previousTree)||void 0===a?void 0:a.version)&&dt("Tried to save dependencies to a discarded tree");var u=n.getGraph(r);if(Pt(e,t,u),r===(null===(o=l.previousTree)||void 0===o?void 0:o.version)&&Pt(e,t,n.getGraph(l.currentTree.version),u),r===(null===(s=l.previousTree)||void 0===s?void 0:s.version)||r===l.currentTree.version){var c,d=null===(c=l.nextTree)||void 0===c?void 0:c.version;if(void 0!==d)Pt(e,t,n.getGraph(d),u)}},Nt=0,zt=0,Dt=0,Ot=function(){return Nt++},Ft=function(){return zt++},Ut=function(){return Dt++},Bt=Object.freeze({__proto__:null,persistentMap:Et}).persistentMap,jt=Lt,Ht=Ot;function Vt(){var e=Ht();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Bt(),nonvalidatedAtoms:Bt()}}var Gt={makeEmptyTreeState:Vt,makeEmptyStoreState:function(){var e=Vt();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,jt()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:Ht},Wt=fe((function e(){de(this,e)}));var qt={RetentionZone:Wt,retentionZone:function(){return new Wt}};var Xt=function(e,t){var n=new Set(e);return n.add(t),n};function Yt(e,t){var n,r,i,a;return ae().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=0,r=oe(e),o.prev=2,r.s();case 4:if((i=r.n()).done){o.next=11;break}if(a=i.value,!t(a,n++)){o.next=9;break}return o.next=9,a;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),r.e(o.t0);case 16:return o.prev=16,r.f(),o.finish(16);case 19:case"end":return o.stop()}}),ge,null,[[2,13,16,19]])}var Kt=Yt;var Zt=function(e,t){return new Proxy(e,{get:function(e,n){return!(n in e)&&n in t&&(e[n]=t[n]()),e[n]},ownKeys:function(e){return Object.keys(e)}})},Jt=xt.getNode,Qt=xt.getNodeMaybe,$t=xt.recoilValuesForKeys,en=qt.RetentionZone,tn=Xt,nn=Object.freeze(new Set),rn=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(re(Error));function an(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var a=Jt(n),o=function(e,t,n){if(!Ye("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof en)i(n);else if(Array.isArray(n)){var a,o=oe(n);try{for(o.s();!(a=o.n()).done;)i(a.value)}catch(s){o.e(s)}finally{o.f()}}return function(){if(Ye("recoil_memory_managament_2020")){var r=e.getState().retention;if(n instanceof en)o(n);else if(Array.isArray(n)){var i,a=oe(n);try{for(a.s();!(i=a.n()).done;)o(i.value)}catch(s){a.e(s)}finally{a.f()}}}function o(e){var n=r.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}}}(e,n,a.retainedBy),s=a.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){s(),o()}))}}function on(e,t,n){return Jt(n).peek(e,t)}function sn(e,t,n){for(var r=new Set,i=Array.from(n),a=e.getGraph(t.version),o=i.pop();o;o=i.pop()){var s;r.add(o);var l,u=oe(null!==(s=a.nodeToNodeSubscriptions.get(o))&&void 0!==s?s:nn);try{for(u.s();!(l=u.n()).done;){var c=l.value;r.has(c)||i.push(c)}}catch(d){u.e(d)}finally{u.f()}}return r}var ln=function(e,t,n){return an(e,t,n,"get"),Jt(n).get(e,t)},un=on,cn=function(e,t,n,r){var i=Jt(n);if(null==i.set)throw new rn("Attempt to set read-only RecoilValue: ".concat(n));var a=i.set;return an(e,t,n,"set"),a(e,t,r)},dn=function(e,t,n){an(e,e.getState().currentTree,t,n)},hn=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},fn=function(e,t,n){var r,i=Qt(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),X(X({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:tn(e.dirtyAtoms,t)})},pn=function(e,t,n){var r=e.getState(),i=e.getGraph(t.version),a=Jt(n).nodeType;return Zt({type:a},{loadable:function(){return on(e,t,n)},isActive:function(){return r.knownAtoms.has(n)||r.knownSelectors.has(n)},isSet:function(){return"selector"!==a&&t.atomValues.has(n)},isModified:function(){return t.dirtyAtoms.has(n)},deps:function(){var e;return $t(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:function(){var i,a;return{nodes:$t(Kt(sn(e,t,new Set([n])),(function(e){return e!==n}))),components:ut(null!==(i=null===(a=r.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==i?i:[],(function(e){return{name:u(e,1)[0]}}))}}})},vn=sn,mn=null;var gn=function(e){mn=e},yn=function(){var e;null===(e=mn)||void 0===e||e()},xn=vn,bn=ln,wn=cn,_n=Ut,Sn=xt.getNode,Mn=xt.getNodeMaybe,kn=xt.DefaultValue,Tn=Qe.reactMode,En=st.AbstractRecoilValue,An=st.RecoilState,Cn=st.RecoilValueReadOnly,Pn=st.isRecoilValue,Rn=yn;function Ln(e,t,n){if("set"===n.type){var r,i=n.recoilValue,a=function(e,t,n,r){var i=n.key;if("function"===typeof r){var a=bn(e,t,i);if("loading"===a.state){var o='Tried to set atom or selector "'.concat(i,'" using an updater function while the current state is pending, this is not currently supported.');throw dt(o),xe(o)}if("hasError"===a.state)throw a.contents;return r(a.contents)}return r}(e,t,i,n.valueOrUpdater),o=oe(wn(e,t,i.key,a).entries());try{for(o.s();!(r=o.n()).done;){var s=u(r.value,2);In(t,s[0],s[1])}}catch(p){o.e(p)}finally{o.f()}}else if("setLoadable"===n.type){In(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var l=n.recoilValue.key;t.dirtyAtoms.add(l)}else if("setUnvalidated"===n.type){var c,d=n.recoilValue.key,h=n.unvalidatedValue,f=Mn(d);null===f||void 0===f||null===(c=f.invalidate)||void 0===c||c.call(f,t),t.atomValues.delete(d),t.nonvalidatedAtoms.set(d,h),t.dirtyAtoms.add(d)}else dt("Unknown action ".concat(n.type))}function In(e,t,n){"hasValue"===n.state&&n.contents instanceof kn?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Nn(e,t){e.replaceState((function(n){var r,i=On(n),a=oe(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;Ln(e,i,o)}}catch(s){a.e(s)}finally{a.f()}return Fn(e,i),Rn(),i}))}function zn(e,t){if(Dn.length){var n=Dn[Dn.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Nn(e,[t])}var Dn=[];function On(e){return X(X({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function Fn(e,t){var n,r=oe(xn(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,a,o=n.value;null===(i=Mn(o))||void 0===i||null===(a=i.invalidate)||void 0===a||a.call(i,t)}}catch(s){r.e(s)}finally{r.f()}}function Un(e,t,n){zn(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var Bn={RecoilValueReadOnly:Cn,AbstractRecoilValue:En,RecoilState:An,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,o=e.getState();a.version!==o.currentTree.version&&a.version!==(null===(n=o.nextTree)||void 0===n?void 0:n.version)&&a.version!==(null===(r=o.previousTree)||void 0===r?void 0:r.version)&&dt("Tried to read from a discarded tree");var s=bn(e,a,i);return"loading"===s.state&&s.contents.catch((function(){})),s},setRecoilValue:Un,setRecoilValueLoadable:function(e,t,n){if(n instanceof kn)return Un(e,t,n);zn(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){zn(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){zn(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=_n(),o=e.getState();o.nodeToComponentSubscriptions.has(r)||o.nodeToComponentSubscriptions.set(r,new Map),we(o.nodeToComponentSubscriptions.get(r)).set(a,[null!==i&&void 0!==i?i:"<not captured>",n]);var s=Tn();if(s.early&&("LEGACY"===s.mode||"MUTABLE_SOURCE"===s.mode)){var l=e.getState().nextTree;l&&l.dirtyAtoms.has(r)&&n(l)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(a)?(n.delete(a),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):dt("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:Pn,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof kn?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return Dn.push(e),function(){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2);Nn(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}Dn.pop()!==e&&dt("Incorrect order of batch popping")}},writeLoadableToTreeState:In,invalidateDownstreams:Fn,copyTreeState:On,refreshRecoilValue:function(e,t){var n,r=e.getState().currentTree,i=Sn(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var jn=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1},Hn=hn,Vn=xt.deleteNodeConfigIfPossible,Gn=xt.getNode,Wn=qt.RetentionZone,qn=new Set;function Xn(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)dt("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,a=new Set,o=oe(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s instanceof Wn){var l,u=oe(Kn(n,s));try{for(u.s();!(l=u.n()).done;){var c=l.value;a.add(c)}}catch(p){u.e(p)}finally{u.f()}}else a.add(s)}}catch(p){o.e(p)}finally{o.f()}var d,h=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,o=new Set;return s(t),a;function s(t){var l,u=new Set,c=function(e,t,n,r,i){var a=e.getGraph(t.version),o=[],s=new Set;for(;n.size>0;)l(we(n.values().next().value));return o;function l(e){if(r.has(e)||i.has(e))n.delete(e);else if(!s.has(e)){var t=a.nodeToNodeSubscriptions.get(e);if(t){var u,c=oe(t);try{for(c.s();!(u=c.n()).done;){l(u.value)}}catch(p){c.e(p)}finally{c.f()}}s.add(e),n.delete(e),o.push(e)}}}(e,r,t,a,o),d=oe(c);try{for(d.s();!(l=d.n()).done;){var h,f=l.value;if("recoilRoot"!==Gn(f).retainedBy)if((null!==(h=n.retention.referenceCounts.get(f))&&void 0!==h?h:0)>0)o.add(f);else if(Zn(f).some((function(e){return n.retention.referenceCounts.get(e)})))o.add(f);else{var v=i.nodeToNodeSubscriptions.get(f);v&&jn(v,(function(e){return o.has(e)}))?o.add(f):(a.add(f),u.add(f))}else o.add(f)}}catch(p){d.e(p)}finally{d.f()}var m,g=new Set,y=oe(u);try{for(y.s();!(m=y.n()).done;){var x,b=m.value,w=oe(null!==(_=i.nodeDeps.get(b))&&void 0!==_?_:qn);try{for(w.s();!(x=w.n()).done;){var _,S=x.value;a.has(S)||g.add(S)}}catch(p){w.e(p)}finally{w.f()}}}catch(p){y.e(p)}finally{y.f()}g.size&&s(g)}}(e,a),f=oe(h);try{for(f.s();!(d=f.n()).done;){Yn(e,r,d.value)}}catch(p){f.e(p)}finally{f.f()}}}function Yn(e,t,n){if(Ye("recoil_memory_managament_2020")){Hn(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,a=oe(Zn(n));try{for(a.s();!(i=a.n()).done;){var o,s=i.value;null===(o=r.retention.nodesRetainedByZone.get(s))||void 0===o||o.delete(n)}}catch(p){a.e(p)}finally{a.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var l=r.graphsByVersion.get(t.version);if(l){var u=l.nodeDeps.get(n);if(void 0!==u){l.nodeDeps.delete(n);var c,d=oe(u);try{for(d.s();!(c=d.n()).done;){var h,f=c.value;null===(h=l.nodeToNodeSubscriptions.get(f))||void 0===h||h.delete(n)}}catch(p){d.e(p)}finally{d.f()}}l.nodeToNodeSubscriptions.delete(n)}Vn(n)}}function Kn(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:qn}function Zn(e){var t=Gn(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof Wn?[t]:t}function Jn(e,t){Ye("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Xn(e,new Set([t]))}(e,t))}var Qn=12e4,$n=function(e,t,n){var r;if(Ye("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,a=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===a?Jn(e,t):i.set(t,a)}},er=function(e){if(Ye("recoil_memory_managament_2020")){var t=e.getState();Xn(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},tr=function(e){return void 0===e?"recoilRoot":e},nr=pe.unstable_batchedUpdates,rr=Bn.batchStart,ir={unstable_batchedUpdates:{unstable_batchedUpdates:nr}.unstable_batchedUpdates}.unstable_batchedUpdates,ar=function(e){ir((function(){var t=function(){};try{t=rr(),e()}finally{t()}}))};function or(e){var t,n,r,i,a,o;return ae().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=oe(e),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=oe(r),s.prev=6,i.s();case 8:if((a=i.n()).done){s.next=14;break}return o=a.value,s.next=12,o;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),ye,null,[[1,26,29,32],[6,16,19,22]])}var sr=or,lr="undefined"===typeof Window||"undefined"===typeof window,ur="undefined"!==typeof navigator&&"ReactNative"===navigator.product,cr={isSSR:lr,isReactNative:ur,isWindow:function(e){return!lr&&(e===window||e instanceof Window)}};var dr=function(e,t){var n,r;return[function(){var i=t.apply(void 0,arguments);return n===i?r:(n=i,r=e.apply(void 0,arguments))},function(){n=null}]},hr=ar,fr=dn,pr=pn,vr=Lt,mr=Ft,gr=xt.DEFAULT_VALUE,yr=xt.recoilValues,xr=xt.recoilValuesForKeys,br=Bn.AbstractRecoilValue,wr=Bn.getRecoilValueAsLoadable,_r=Bn.setRecoilValue,Sr=Bn.setUnvalidatedRecoilValue,Mr=$n,kr=gn,Tr=Gt.getNextTreeStateVersion,Er=Gt.makeEmptyStoreState,Ar=cr.isSSR,Cr=dr,Pr=function(){function e(t,n){var r=this;de(this,e),_e(this,"_store",void 0),_e(this,"_refCount",1),_e(this,"getLoadable",(function(e){return r.checkRefCount_INTERNAL(),wr(r._store,e)})),_e(this,"getPromise",(function(e){return r.checkRefCount_INTERNAL(),r.getLoadable(e).toPromise()})),_e(this,"getNodes_UNSTABLE",(function(e){if(r.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=r._store.getState().currentTree;return xr(t.dirtyAtoms)}var n=r._store.getState().knownAtoms,i=r._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?yr.values():!0===e.isInitialized?xr(sr([n,i])):Kt(yr.values(),(function(e){var t=e.key;return!n.has(t)&&!i.has(t)}))})),_e(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return r.checkRefCount_INTERNAL(),pr(r._store,r._store.getState().currentTree,t)})),_e(this,"map",(function(e){r.checkRefCount_INTERNAL();var t=new zr(r,hr);return e(t),t})),_e(this,"asyncMap",function(){var e=Q(ae().mark((function e(t){var n;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.checkRefCount_INTERNAL(),(n=new zr(r,hr)).retain(),e.next=5,t(n);case 5:return n.autoRelease_INTERNAL(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={storeID:mr(),parentStoreID:n,getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return we(n.get(e));var r=vr();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw xe("Cannot subscribe to Snapshots")}};var i,a=oe(this._store.getState().knownAtoms);try{for(a.s();!(i=a.n()).done;){var o=i.value;fr(this._store,o,"get"),Mr(this._store,o,1)}}catch(s){a.e(s)}finally{a.f()}this.autoRelease_INTERNAL()}return fe(e,[{key:"retain",value:function(){var e=this;this._refCount<=0&&dt("Attempt to retain() Snapshot that was already released."),this._refCount++;var t=!1;return function(){t||(t=!0,e._release())}}},{key:"autoRelease_INTERNAL",value:function(){var e=this;Ar||window.setTimeout((function(){return e._release()}),10)}},{key:"_release",value:function(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((function(e){return e()})),this._store.getState().nodeCleanupFunctions.clear(),!Ye("recoil_memory_managament_2020"))return}else this._refCount}},{key:"isRetained",value:function(){return this._refCount>0}},{key:"checkRefCount_INTERNAL",value:function(){Ye("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}},{key:"getStoreID",value:function(){return this.checkRefCount_INTERNAL(),this._store.storeID}}]),e}();function Rr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?Tr():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:X({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(ut(r.nodeCleanupFunctions.entries(),(function(e){return[u(e,1)[0],function(){}]})))}}var Lr=u(Cr((function(e,t){var n,r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:we(r.previousTree);return new Pr(Rr(e,i),e.storeID)}),(function(e,t){var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)})),2),Ir=Lr[0],Nr=Lr[1];kr(Nr);var zr=function(e){le(n,e);var t=ce(n);function n(e,r){var i;return de(this,n),_e(se(i=t.call(this,Rr(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID())),"_batch",void 0),_e(se(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){Mr(n,e.key,1),_r(i.getStore_INTERNAL(),e,t)}))})),_e(se(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){Mr(t,e.key,1),_r(i.getStore_INTERNAL(),e,gr)}))})),_e(se(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();hr((function(){var n,r=oe(e.entries());try{for(r.s();!(n=r.n()).done;){var i=u(n.value,2),a=i[0],o=i[1];Mr(t,a,1),Sr(t,new br(a),o)}}catch(s){r.e(s)}finally{r.f()}}))})),i._batch=r,i}return fe(n)}(Pr),Dr={Snapshot:Pr,MutableSnapshot:zr,freshSnapshot:function(e){var t=new Pr(Er());return null!=e?t.map(e):t},cloneSnapshot:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",n=Ir(e,t);return n.isRetained()?n:(Nr(),Ir(e,t))}},Or=Dr.Snapshot,Fr=Dr.MutableSnapshot,Ur=Dr.freshSnapshot,Br=Dr.cloneSnapshot,jr=Object.freeze({__proto__:null,Snapshot:Or,MutableSnapshot:Fr,freshSnapshot:Ur,cloneSnapshot:Br});var Hr=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,s=a[i],l=oe(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;e.add(u)}}catch(c){l.e(c)}finally{l.f()}}return e},Vr=r.useRef;var Gr=function(e){var t=Vr(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t},Wr=Gt.getNextTreeStateVersion,qr=Gt.makeEmptyStoreState,Xr=hn,Yr=vn,Kr=dn,Zr=cn,Jr=fn,Qr=Lt,$r=Rt,ei=Ft,ti=Qe.createMutableSource,ni=Qe.reactMode,ri=Bn.applyAtomValueWrites,ii=er,ai=jr.freshSnapshot,oi=r.useCallback,si=r.useContext,li=r.useEffect,ui=r.useMemo,ci=r.useRef,di=r.useState;function hi(){throw xe("This component must be used inside a <RecoilRoot> component.")}var fi=Object.freeze({storeID:ei(),getState:hi,replaceState:hi,getGraph:hi,subscribeToTransactions:hi,addTransactionMetadata:hi}),pi=!1;function vi(e){if(pi)throw xe("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){Ye("recoil_memory_managament_2020")&&Ye("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&ii(e);var n=t.currentTree.version,r=Wr();t.nextTree=X(X({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,$r(we(t.graphsByVersion.get(n))))}}var mi=r.createContext({current:fi}),gi=function(){return si(mi)},yi=r.createContext(null);function xi(e,t,n){var r,i=oe(Yr(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.nodeToComponentSubscriptions.get(a);if(o){var s,l=oe(o);try{for(l.s();!(s=l.n()).done;){var c=u(s.value,2),d=(c[0],u(c[1],2));d[0];(0,d[1])(n)}}catch(h){l.e(h)}finally{l.f()}}}}catch(h){i.e(h)}finally{i.f()}}function bi(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,a=oe(t.nodeTransactionSubscriptions);try{for(a.s();!(i=a.n()).done;){var o=u(i.value,2),s=o[0],l=o[1];if(r.has(s)){var c,d=oe(l);try{for(d.s();!(c=d.n()).done;){var h=u(c.value,2);h[0];(0,h[1])(e)}}catch(m){d.e(m)}finally{d.f()}}}}catch(m){a.e(m)}finally{a.f()}var f,p=oe(t.transactionSubscriptions);try{for(p.s();!(f=p.n()).done;){var v=u(f.value,2);v[0];(0,v[1])(e)}}catch(m){p.e(m)}finally{p.f()}(!ni().early||t.suspendedComponentResolvers.size>0)&&(xi(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function wi(e){var t=e.setNotifyBatcherOfChange,n=gi(),r=u(di([]),2)[1];return t((function(){return r({})})),li((function(){return t((function(){return r({})})),function(){t((function(){}))}}),[t]),li((function(){bt.enqueueExecution("Batcher",(function(){!function(e){var t=e.getState();t.commitDepth++;try{var n=t.nextTree;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,bi(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):dt("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Ye("recoil_memory_managament_2020")&&null==n&&ii(e)}finally{t.commitDepth--}}(n.current)}))})),null}var _i=0;function Si(e){var t,n=e.initializeState_DEPRECATED,i=e.initializeState,a=e.store_INTERNAL,o=e.children,s=function(e){var n=t.current.graphsByVersion;if(n.has(e))return we(n.get(e));var r=Qr();return n.set(e,r),r},l=function(e,t){if(null==t){var n=f.current.getState().transactionSubscriptions,r=_i++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=f.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var a=_i++;return we(i.get(t)).set(a,e),{release:function(){var e=i.get(t);e&&(e.delete(a),0===e.size&&i.delete(t))}}},u=function(e){vi(f.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];we(f.current.getState().nextTree).transactionMetadata[r]=e[r]}},c=function(e){vi(f.current);var n,r=we(t.current.nextTree);try{pi=!0,n=e(r)}finally{pi=!1}n!==r&&(t.current.nextTree=n,ni().early&&xi(f.current,t.current,n),we(d.current)())},d=ci(null),h=oi((function(e){d.current=e}),[d]),f=Gr((function(){return null!==a&&void 0!==a?a:{storeID:ei(),getState:function(){return t.current},replaceState:c,getGraph:s,subscribeToTransactions:l,addTransactionMetadata:u}}));null!=a&&(f.current=a),t=Gr((function(){return null!=n?function(e,t){var n=qr();return t({set:function(t,r){var i,a=n.currentTree,o=Zr(e,a,t.key,r),s=new Set(o.keys()),l=a.nonvalidatedAtoms.clone(),u=oe(s);try{for(u.s();!(i=u.n()).done;){var c=i.value;l.delete(c)}}catch(d){u.e(d)}finally{u.f()}n.currentTree=X(X({},a),{},{dirtyAtoms:Hr(a.dirtyAtoms,s),atomValues:ri(a.atomValues,o),nonvalidatedAtoms:l})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=Jr(n.currentTree,t,e)}))}}),n}(f.current,n):null!=i?function(e){var t=ai(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((function(e){return e()})),n.nodeCleanupFunctions.clear(),n}(i):qr()}));var p=ui((function(){return null===ti||void 0===ti?void 0:ti(t,(function(){return t.current.currentTree.version}))}),[t]);return li((function(){var e,t=f.current,n=oe(new Set(t.getState().knownAtoms));try{for(n.s();!(e=n.n()).done;){var r=e.value;Kr(t,r,"get")}}catch(i){n.e(i)}finally{n.f()}return function(){var e,n=oe(t.getState().knownAtoms);try{for(n.s();!(e=n.n()).done;){var r=e.value;Xr(t,r)}}catch(i){n.e(i)}finally{n.f()}}}),[f]),r.createElement(mi.Provider,{value:f},r.createElement(yi.Provider,{value:p},r.createElement(wi,{setNotifyBatcherOfChange:h}),o))}var Mi=function(e){var t=e.override,n=Z(e,ve),i=gi();return!1===t&&i.current!==fi?e.children:r.createElement(Si,n)},ki=gi,Ti=function(){var e=si(yi);return null==e&&lt("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},Ei=function(){return gi().current.storeID};var Ai=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},Ci=r.useEffect,Pi=r.useRef;var Ri=function(e){var t=Pi();return Ci((function(){t.current=e})),t.current},Li=ki,Ii=Qn,Ni=$n,zi=qt.RetentionZone,Di=r.useEffect,Oi=r.useRef,Fi=cr.isSSR;var Ui=function(e){if(Ye("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof zi?e:e.key})),n=Li();Di((function(){if(Ye("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!Fi)window.clearTimeout(r.current),r.current=null;else{var i,a=oe(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;Ni(e,o,1)}}catch(s){a.e(s)}finally{a.f()}}return function(){var n,r=oe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;Ni(e,i,-1)}}catch(s){r.e(s)}finally{r.f()}}}}),[n].concat(K(t)));var r=Oi(),i=Ri(t);if(!Fi&&(void 0===i||!Ai(i,t))){var a,o=n.current,s=oe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;Ni(o,l,1)}}catch(h){s.e(h)}finally{s.f()}if(i){var u,c=oe(i);try{for(c.s();!(u=c.n()).done;){var d=u.value;Ni(o,d,-1)}}catch(h){c.e(h)}finally{c.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=oe(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;Ni(o,i,-1)}}catch(h){n.e(h)}finally{n.f()}}),Ii)}}(e)};var Bi=function(){return"<component name not available>"},ji=xt.DEFAULT_VALUE,Hi=Qe.reactMode,Vi=Qe.useMutableSource,Gi=Qe.useSyncExternalStore,Wi=Ti,qi=ki,Xi=(st.isRecoilValue,Bn.getRecoilValueAsLoadable),Yi=Bn.setRecoilValue,Ki=Bn.subscribeToRecoilValue,Zi=r.useCallback,Ji=r.useEffect,Qi=r.useMemo,$i=r.useRef,ea=r.useState;function ta(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){var r=new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw r}throw"hasError"===e.state?e.contents:xe('Invalid value of loadable atom "'.concat(t.key,'"'))}function na(e){var t=qi(),n=Bi(),r=Zi((function(){var n;var r=t.current,i=r.getState(),a=Hi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:Xi(r,e,a),key:e.key}}),[t,e]),i=Zi((function(e){var t;return function(){var n,r,i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),a=Qi((function(){return i(r)}),[r,i]),o=Zi((function(r){var i=t.current;return Ki(i,e,r,n).release}),[t,e,n]);return Gi(o,a,a).loadable}function ra(e){var t=qi(),n=Zi((function(){var n,r=t.current,i=r.getState(),a=Hi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Xi(r,e,a)}),[t,e]),r=Zi((function(){return n()}),[n]),i=Bi(),a=Zi((function(r,a){var o=t.current;return Ki(o,e,(function(){if(!Ye("recoil_suppress_rerender_in_callback"))return a();var e=n();l.current.is(e)||a(),l.current=e}),i).release}),[t,e,i,n]),o=Wi();if(null==o)throw xe("Recoil hooks must be used in components contained within a <RecoilRoot> component.");var s=Vi(o,r,a),l=$i(s);return Ji((function(){l.current=s})),s}function ia(e){var t=qi(),n=Bi(),r=Zi((function(){var n;var r=t.current,i=r.getState(),a=Hi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Xi(r,e,a)}),[t,e]),i=Zi((function(){return{loadable:r(),key:e.key}}),[r,e.key]),a=Zi((function(e){var t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);Ji((function(){var r=Ki(t.current,e,(function(e){l(a)}),n);return l(a),r.release}),[n,e,t,a]);var o=u(ea(i),2),s=o[0],l=o[1];return s.key!==e.key?i().loadable:s.loadable}function aa(e){var t=qi(),n=u(ea([]),2)[1],r=Bi(),i=Zi((function(){var n;var r=t.current,i=r.getState(),a=Hi().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Xi(r,e,a)}),[t,e]),a=i(),o=$i(a);return Ji((function(){o.current=a})),Ji((function(){var a=t.current,s=a.getState(),l=Ki(a,e,(function(e){var t;if(!Ye("recoil_suppress_rerender_in_callback"))return n([]);var r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r}),r);if(s.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((function(){o.current=null,n([])}));else{var u;if(!Ye("recoil_suppress_rerender_in_callback"))return n([]);var c=i();null!==(u=o.current)&&void 0!==u&&u.is(c)||n(c),o.current=c}return l.release}),[r,i,e,t]),a}function oa(e){return Ye("recoil_memory_managament_2020")&&Ui(e),{TRANSITION_SUPPORT:ia,SYNC_EXTERNAL_STORE:na,MUTABLE_SOURCE:ra,LEGACY:aa}[Hi().mode](e)}function sa(e){var t=qi();return ta(oa(e),e,t)}function la(e){var t=qi();return Zi((function(n){Yi(t.current,e,n)}),[t,e])}function ua(e){return Ye("recoil_memory_managament_2020")&&Ui(e),ia(e)}function ca(e){var t=qi();return ta(ua(e),e,t)}var da=function(e){return[sa(e),la(e)]},ha=function(e){return[oa(e),la(e)]},fa=sa,pa=oa,va=function(e){var t=qi();return Zi((function(){Yi(t.current,e,ji)}),[t,e])},ma=la,ga=ua,ya=ca,xa=function(e){return[ca(e),la(e)]};var ba=ar,wa=xt.DEFAULT_VALUE,_a=xt.getNode,Sa=ki,Ma=Bn.AbstractRecoilValue,ka=Bn.setRecoilValueLoadable,Ta=Qn,Ea=jr.cloneSnapshot,Aa=r.useCallback,Ca=r.useEffect,Pa=r.useRef,Ra=r.useState,La=cr.isSSR;function Ia(e){var t=Sa();Ca((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function Na(e,t){var n,r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;ba((function(){for(var n=new Set,r=0,o=[i.atomValues.keys(),a.atomValues.keys()];r<o.length;r++){var s,l=oe(o[r]);try{for(l.s();!(s=l.n()).done;){var u,c,d=s.value;(null===(u=i.atomValues.get(d))||void 0===u?void 0:u.contents)!==(null===(c=a.atomValues.get(d))||void 0===c?void 0:c.contents)&&_a(d).shouldRestoreFromSnapshots&&n.add(d)}}catch(h){l.e(h)}finally{l.f()}}n.forEach((function(t){ka(e,new Ma(t),a.atomValues.has(t)?we(a.atomValues.get(t)):wa)})),e.replaceState((function(e){return X(X({},e),{},{stateID:t.getID()})}))}))}var za=function(){var e=Sa(),t=u(Ra((function(){return Ea(e.current)})),2),n=t[0],r=t[1],i=Ri(n),a=Pa(),o=Pa();if(Ia(Aa((function(e){return r(Ea(e))}),[])),Ca((function(){var e,t=n.retain();a.current&&!La&&(window.clearTimeout(a.current),a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null);return function(){window.setTimeout(t,10)}}),[n]),i!==n&&!La){var s;if(a.current)window.clearTimeout(a.current),a.current=null,null===(s=o.current)||void 0===s||s.call(o),o.current=null;o.current=n.retain(),a.current=window.setTimeout((function(){var e;a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null}),Ta)}return n},Da=Na,Oa=function(){var e=Sa();return Aa((function(t){return Na(e.current,t)}),[e])},Fa=function(e){Ia(Aa((function(t){var n=Ea(t,"latest"),r=Ea(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},Ua=pn,Ba=ki;var ja=function(){var e=Ba();return function(t){var n=t.key;return Ua(e.current,e.current.getState().currentTree,n)}},Ha=Qe.reactMode,Va=Mi,Ga=ki,Wa=r.useMemo;var qa=function(){"MUTABLE_SOURCE"===Ha().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");var e=Ga().current;return Wa((function(){return function(t){var n=t.children;return r.createElement(Va,{store_INTERNAL:e},n)}}),[e])},Xa=He.loadableWithValue,Ya=dn,Ka=xt.DEFAULT_VALUE,Za=xt.getNode,Ja=Bn.copyTreeState,Qa=Bn.getRecoilValueAsLoadable,$a=Bn.invalidateDownstreams,eo=Bn.writeLoadableToTreeState;function to(e){return"atom"===Za(e.key).nodeType}var no=function(){function e(t,n){var r=this;de(this,e),_e(this,"_store",void 0),_e(this,"_treeState",void 0),_e(this,"_changes",void 0),_e(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!to(e))throw xe("Reading selectors within atomicUpdate is not supported");var t=Qa(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:xe("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),_e(this,"set",(function(e,t){if(!to(e))throw xe("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else Ya(r._store,e.key,"set"),r._changes.set(e.key,t)})),_e(this,"reset",(function(e){r.set(e,Ka)})),this._store=t,this._treeState=n,this._changes=new Map}return fe(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=Ja(this._treeState),n=oe(this._changes);try{for(n.s();!(e=n.n()).done;){var r=u(e.value,2),i=r[0],a=r[1];eo(t,i,Xa(a))}}catch(o){n.e(o)}finally{n.f()}return $a(this._store,t),t}}]),e}();var ro=function(e){return function(t){e.replaceState((function(n){var r=new no(e,n);return t(r),r.newTreeState_INTERNAL()}))}},io=ro,ao=Object.freeze({__proto__:null,atomicUpdater:io});var oo=function(e,t){if(!e)throw new Error(t)},so=ao.atomicUpdater,lo=ar,uo=xt.DEFAULT_VALUE,co=ki,ho=Bn.refreshRecoilValue,fo=Bn.setRecoilValue,po=jr.cloneSnapshot,vo=Da,mo=r.useCallback,go=fe((function e(){de(this,e)})),yo=new go;function xo(e,t,n,r){var i,a,o=yo;(lo((function(){var a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw xe(a);var s=Zt(X(X({},null!==r&&void 0!==r?r:{}),{},{set:function(t,n){return fo(e,t,n)},reset:function(t){return fo(e,t,uo)},refresh:function(t){return ho(e,t)},gotoSnapshot:function(t){return vo(e,t)},transact_UNSTABLE:function(t){return so(e)(t)}}),{snapshot:function(){var t=po(e);return i=t.retain(),t}}),l=t(s);if("function"!==typeof l)throw xe(a);o=l.apply(void 0,K(n))})),o instanceof go&&oo(!1),be(o))?o.finally((function(){var e;null===(e=i)||void 0===e||e()})):null===(a=i)||void 0===a||a();return o}var bo=xo,wo=function(e,t){var n=co();return mo((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return xo(n.current,e,r)}),null!=t?[].concat(K(t),[n]):void 0)},_o=ki,So=Bn.refreshRecoilValue,Mo=r.useCallback;var ko=function(e){var t=_o();return Mo((function(){var n=t.current;So(n,e)}),[e,t])},To=ao.atomicUpdater,Eo=ki,Ao=r.useMemo;var Co=function(e,t){var n=Eo();return Ao((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=To(n.current);a((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(K(t),[n]):void 0)},Po={WrappedValue:fe((function e(t){de(this,e),_e(this,"value",void 0),this.value=t}))}.WrappedValue,Ro=Object.freeze({__proto__:null,WrappedValue:Po}),Lo=Qe.isFastRefreshEnabled,Io=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(re(Error)),No=function(){function e(t){var n,r,i;de(this,e),_e(this,"_name",void 0),_e(this,"_numLeafs",void 0),_e(this,"_root",void 0),_e(this,"_onHit",void 0),_e(this,"_onSet",void 0),_e(this,"_mapNodeValue",void 0),this._name=null===t||void 0===t?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return fe(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){if(null!=this._root)for(var n=this._root;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;var r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}},{key:"set",value:function(e,t,n){var r=this,i=function(){var i,a,o,s,l,c,d,h=oe(e);try{for(h.s();!(d=h.n()).done;){var f,p,v,m=u(d.value,2),g=m[0],y=m[1],x=r._root;if("leaf"===(null===x||void 0===x?void 0:x.type))throw r.invalidCacheError();var b=l;if("branch"!==(l=null!==(f=l=b?b.branches.get(c):x)&&void 0!==f?f:{type:"branch",nodeKey:g,parent:b,branches:new Map,branchKey:c}).type||l.nodeKey!==g)throw r.invalidCacheError();null===b||void 0===b||b.branches.set(c,l),null===n||void 0===n||null===(p=n.onNodeVisit)||void 0===p||p.call(n,l),c=r._mapNodeValue(y),r._root=null!==(v=r._root)&&void 0!==v?v:l}}catch(S){h.e(S)}finally{h.f()}var w=l?null===(i=l)||void 0===i?void 0:i.branches.get(c):r._root;if(null!=w&&("leaf"!==w.type||w.branchKey!==c))throw r.invalidCacheError();var _={type:"leaf",value:t,parent:l,branchKey:c};null===(a=l)||void 0===a||a.branches.set(c,_),r._root=null!==(o=r._root)&&void 0!==o?o:_,r._numLeafs++,r._onSet(_),null===n||void 0===n||null===(s=n.onNodeVisit)||void 0===s||s.call(n,_)};try{i()}catch(a){if(!(a instanceof Io))throw a;this.clear(),i()}}},{key:"delete",value:function(e){var t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;for(var n=e.parent,r=e.branchKey;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}},{key:"invalidCacheError",value:function(){var e=Lo()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw dt(e+(null!=this._name?" - ".concat(this._name):"")),new Io}}]),e}(),zo={TreeCache:No}.TreeCache,Do=Object.freeze({__proto__:null,TreeCache:zo}),Oo=function(){function e(t){var n;de(this,e),_e(this,"_maxSize",void 0),_e(this,"_size",void 0),_e(this,"_head",void 0),_e(this,"_tail",void 0),_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return fe(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=we(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),Fo={LRUCache:Oo}.LRUCache,Uo=Object.freeze({__proto__:null,LRUCache:Fo}),Bo=Uo.LRUCache,jo=Do.TreeCache;var Ho=function(e){var t=e.name,n=e.maxSize,r=e.mapNodeValue,i=void 0===r?function(e){return e}:r,a=new Bo({maxSize:n}),o=new jo({name:t,mapNodeValue:i,onHit:function(e){a.set(e,!0)},onSet:function(e){var t=a.tail();a.set(e,!0),t&&o.size()>n&&o.delete(t.key)}});return o};function Vo(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw xe("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(be(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return Vo(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return Vo(e.toJSON(n),t,n);if(e instanceof Map){var i,a={},o=oe(e);try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),l=s[0],c=s[1];a["string"===typeof l?l:Vo(l,t)]=c}}catch(d){o.e(d)}finally{o.f()}return Vo(a,t,n)}return e instanceof Set?Vo(Array.from(e).sort((function(e,n){return Vo(e,t).localeCompare(Vo(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?Vo(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(Vo(n,t),":").concat(Vo(e[n],t,n))})).join(","),"}")}var Go=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return Vo(e,t)},Wo=Do.TreeCache,qo={equality:"reference",eviction:"keep-all",maxSize:1/0};function Xo(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return Go(e)}}throw xe("Unrecognized equality policy ".concat(e))}function Yo(e,t,n,r){switch(e){case"keep-all":return new Wo({name:r,mapNodeValue:n});case"lru":return Ho({name:r,maxSize:we(t),mapNodeValue:n});case"most-recent":return Ho({name:r,maxSize:1,mapNodeValue:n})}throw xe("Unrecognized eviction policy ".concat(e))}var Ko=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo,t=e.equality,n=void 0===t?qo.equality:t,r=e.eviction,i=void 0===r?qo.eviction:r,a=e.maxSize,o=void 0===a?qo.maxSize:a,s=arguments.length>1?arguments[1]:void 0,l=Xo(n);return Yo(i,o,l,s)};var Zo=function(e){return function(){return null}},Jo=He.isLoadable,Qo=He.loadableWithError,$o=He.loadableWithPromise,es=He.loadableWithValue,ts=Ro.WrappedValue,ns=ln,rs=un,is=cn,as=It,os=xt.DEFAULT_VALUE,ss=xt.getConfigDeletionHandler,ls=xt.getNode,us=xt.registerNode,cs=st.isRecoilValue,ds=Bn.markRecoilValueModified,hs=tr,fs=bo,ps=Zo,vs=fe((function e(){de(this,e)})),ms=new vs,gs=[],ys=new Map,xs=function(){var e=0;return function(){return e++}}();function bs(e){var t=null,n=e.key,r=e.get,i=e.cachePolicy_UNSTABLE,a=null!=e.set?e.set:void 0;var o=new Set,s=Ko(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"},n),l=hs(e.retainedBy_UNSTABLE),c=new Map,d=0;function h(){return!Ye("recoil_memory_managament_2020")||d>0}function f(e){return e.getState().knownSelectors.add(n),d++,function(){d--}}function p(){return void 0!==ss(n)&&!h()}function v(e,t,n,r,i){A(t,r,i),m(e,n)}function m(e,t){E(e,t)&&T(e),g(t,!0)}function g(e,n){var r=ys.get(e);if(null!=r){var i,a=oe(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;ds(o,we(t))}}catch(s){a.e(s)}finally{a.f()}n&&ys.delete(e)}}function y(e,t){var n=ys.get(t);null==n&&ys.set(t,n=new Set),n.add(e)}function x(e,t,n,r,i,a){return t.then((function(r){if(!h())throw T(e),ms;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,es(r)):e.getState().knownSelectors.forEach((function(e){n.atomValues.delete(e)}));var o=_(e,n);if(o&&"loading"!==o.state){if((E(e,i)||null==k(e))&&m(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!E(e,i)){var s=M(e,n);if(null!=s)return s.loadingLoadable.contents}var l=u(w(e,n,i),2),c=l[0],d=l[1];if("loading"!==c.state&&v(e,n,i,c,d),"hasError"===c.state)throw c.contents;return c.contents})).catch((function(t){if(t instanceof vs)throw ms;if(!h())throw T(e),ms;var a=Qo(t);throw v(e,n,i,a,r),t}))}function b(e,t,r,i){var a,s,l,u,c,d,h;(E(e,i)||t.version===(null===(a=e.getState())||void 0===a||null===(s=a.currentTree)||void 0===s?void 0:s.version)||t.version===(null===(l=e.getState())||void 0===l||null===(u=l.nextTree)||void 0===u?void 0:u.version))&&as(n,r,e,null!==(c=null===(d=e.getState())||void 0===d||null===(h=d.nextTree)||void 0===h?void 0:h.version)&&void 0!==c?c:e.getState().currentTree.version);var f,p=oe(r);try{for(p.s();!(f=p.n()).done;){var v=f.value;o.add(v)}}catch(m){p.e(m)}finally{p.f()}}function w(e,i,a){var o,s,l=ps(n),u=!0,c=!0,d=function(){l(),c=!1},f=!1,p={loadingDepKey:null,loadingDepPromise:null},m=new Map;function y(t){var n=t.key,r=ns(e,i,n);switch(m.set(n,r),u||(b(e,i,new Set(m.keys()),a),function(e,t){E(e,t)&&(we(k(e)).stateVersions.clear(),g(t,!1))}(e,a)),r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":throw p.loadingDepKey=n,p.loadingDepPromise=r.contents,r.contents}throw xe("Invalid Loadable state")}try{o=r({get:y,getCallback:function(n){return function(){if(c)throw xe("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");null==t&&oo(!1);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return fs(e,n,i,{node:t})}}}),o=cs(o)?y(o):o,Jo(o)&&("hasError"===o.state&&(f=!0),o=o.contents),be(o)?o=function(e,t,n,r,i,a){return t.then((function(t){if(!h())throw T(e),ms;var a=es(t);return v(e,n,i,a,r),t})).catch((function(t){if(!h())throw T(e),ms;if(be(t))return x(e,t,n,r,i,a);var o=Qo(t);throw v(e,n,i,o,r),t}))}(e,o,i,m,a,p).finally(d):d(),o=o instanceof ts?o.value:o}catch(w){be(o=w)?o=x(e,o,i,m,a,p).finally(d):(f=!0,d())}return s=f?Qo(o):be(o)?$o(o):es(o),u=!1,function(e,t,n){if(E(e,t)){var r=k(e);null!=r&&(r.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,a,m),b(e,i,new Set(m.keys()),a),[s,m]}function _(e,t){var r=t.atomValues.get(n);if(null!=r)return r;var i,a=new Set;try{r=s.get((function(n){return"string"!==typeof n&&oo(!1),ns(e,t,n).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==n&&a.add(e.nodeKey)}})}catch(o){throw xe('Problem with cache lookup for selector "'.concat(n,'": ').concat(o.message))}r&&(t.atomValues.set(n,r),b(e,t,a,null===(i=k(e))||void 0===i?void 0:i.executionID));return r}function S(e,t){var n=_(e,t);if(null!=n)return T(e),n;var r,i=M(e,t);if(null!=i)return"loading"===(null===(r=i.loadingLoadable)||void 0===r?void 0:r.state)&&y(e,i.executionID),i.loadingLoadable;var a=xs(),o=u(w(e,t,a),2),s=o[0],l=o[1];return"loading"===s.state?(!function(e,t,n,r,i){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,a,s,l,t),y(e,a)):(T(e),A(t,s,l)),s}function M(e,t){function n(n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(!ns(e,t,o).is(s))return!0}}catch(l){i.e(l)}finally{i.f()}return!1}var r,i=oe(sr([c.has(e)?[we(c.get(e))]:[],ut(Kt(c,(function(t){return u(t,1)[0]!==e})),(function(e){return u(e,2)[1]}))]));try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.stateVersions.get(t.version)||!n(a.depValuesDiscoveredSoFarDuringAsyncWork))return a.stateVersions.set(t.version,!0),a;a.stateVersions.set(t.version,!1)}}catch(o){i.e(o)}finally{i.f()}}function k(e){return c.get(e)}function T(e){c.delete(e)}function E(e,t){var n;return t===(null===(n=k(e))||void 0===n?void 0:n.executionID)}function A(e,t,r){e.atomValues.set(n,t);try{s.set(function(e){return Array.from(e.entries()).map((function(e){var t=u(e,2);return[t[0],t[1].contents]}))}(r),t)}catch(i){throw xe('Problem with setting cache for selector "'.concat(n,'": ').concat(i.message))}}function C(e,t){var r=t.atomValues.get(n);return null!=r?r:s.get((function(n){var r;return"string"!==typeof n&&oo(!1),null===(r=rs(e,t,n))||void 0===r?void 0:r.contents}))}function P(e,t){return function(e){if(gs.includes(n)){var t="Recoil selector has circular dependencies: ".concat(gs.slice(gs.indexOf(n)).join(" \u2192 "));return Qo(xe(t))}gs.push(n);try{return e()}finally{gs.pop()}}((function(){return S(e,t)}))}function R(e){e.atomValues.delete(n)}function L(e,n){null==t&&oo(!1);var r,i=oe(o);try{for(i.s();!(r=i.n()).done;){var a,l=r.value,u=ls(l);null===(a=u.clearCache)||void 0===a||a.call(u,e,n)}}catch(c){i.e(c)}finally{i.f()}o.clear(),R(n),s.clear(),ds(e,t)}if(null!=a){return t=us({key:n,nodeType:"selector",peek:C,get:P,set:function(e,t,r){var i=!1,o=new Map;function s(r){var a=r.key;if(i)throw xe("Recoil: Async selector sets are not currently supported.");var o=ns(e,t,a);if("hasValue"===o.state)return o.contents;if("loading"===o.state){var s='Getting value of asynchronous atom or selector "'.concat(a,'" in a pending state while setting selector "').concat(n,'" is not yet supported.');throw dt(s),xe(s)}throw o.contents}function l(n,r){if(i){var a="Recoil: Async selector sets are not currently supported.";throw dt(a),xe(a)}var l="function"===typeof r?r(s(n)):r;is(e,t,n.key,l).forEach((function(e,t){return o.set(t,e)}))}var u=a({set:l,get:s,reset:function(e){l(e,os)}},r);if(void 0!==u)throw be(u)?xe("Recoil: Async selector sets are not currently supported."):xe("Recoil: selector set should be a void function.");return i=!0,o},init:f,invalidate:R,clearCache:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}return t=us({key:n,nodeType:"selector",peek:C,get:P,init:f,invalidate:R,clearCache:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}bs.value=function(e){return new ts(e)};var ws=bs,_s=He.isLoadable,Ss=He.loadableWithError,Ms=He.loadableWithPromise,ks=He.loadableWithValue,Ts=Ro.WrappedValue,Es=pn,As=xt.DEFAULT_VALUE,Cs=xt.DefaultValue,Ps=xt.getConfigDeletionHandler,Rs=xt.registerNode,Ls=xt.setConfigDeletionHandler,Is=st.isRecoilValue,Ns=Bn.getRecoilValueAsLoadable,zs=Bn.markRecoilValueModified,Ds=Bn.setRecoilValue,Os=Bn.setRecoilValueLoadable,Fs=tr,Us=function(e){return e instanceof Ts?e.value:e};function Bs(e){var t=e.key,n=e.persistence_UNSTABLE,r=Fs(e.retainedBy_UNSTABLE),i=0;function a(e){return Ms(e.then((function(e){return o=ks(e),e})).catch((function(e){throw o=Ss(e),e})))}var o=be(e.default)?a(e.default):_s(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:ks(Us(e.default));u(o.contents);var s=void 0,l=new Map;function u(e){return e}function c(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:s)&&void 0!==r?r:o}var d=Rs({key:t,nodeType:"atom",peek:c,get:function(e,r){if(r.atomValues.has(t))return we(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=s)return s;if(null==n)return lt("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),a=n.validator(i,As),l=a instanceof Cs?o:ks(a);return s=l}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=we(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Cs)return new Map;return s=void 0,(new Map).set(t,ks(r))},init:function(n,r,a){var s;if(i++,n.getState().knownAtoms.add(t),"loading"===o.state){o.contents.finally((function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||zs(n,d)}))}var u=null!==(s=e.effects)&&void 0!==s?s:e.effects_UNSTABLE;if(null!=u){var h,f=function(e){if(g&&e.key===t){var i=m;return i instanceof Cs?c(n,r):be(i)?Ms(i.then((function(e){return e instanceof Cs?o.toPromise():e}))):ks(i)}return Ns(n,e)},p=function(e){return f(e).toPromise()},v=function(e){var r,i=Es(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!g||e.key!==t||m instanceof Cs?i:X(X({},i),{},{isSet:!0,loadable:f(e)})},m=As,g=!0,y=!1,x=null,b=function(e){return function(t){if(g){var r=f(d),i="hasValue"===r.state?r.contents:As;m="function"===typeof t?t(i):t,be(m)&&(m=m.then((function(t){return x={effect:e,value:t},t})))}else{if(be(t))throw xe("Setting atoms to async values is not implemented.");"function"!==typeof t&&(x={effect:e,value:Us(t)}),Ds(n,d,"function"===typeof t?function(n){var r=Us(t(n));return x={effect:e,value:r},r}:Us(t))}}},w=function(e){return function(){return b(e)(As)}},_=function(e){return function(r){var i,a=n.subscribeToTransactions((function(n){var i,a=n.getState(),s=a.currentTree,l=a.previousTree;l||(dt("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),l=s);var u=null!==(i=s.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===u.state){var c,d,h,f,p=u.contents,v=null!==(c=l.atomValues.get(t))&&void 0!==c?c:o,m="hasValue"===v.state?v.contents:As;(null===(d=x)||void 0===d?void 0:d.effect)!==e||(null===(h=x)||void 0===h?void 0:h.value)!==p?r(p,m,!s.atomValues.has(t)):(null===(f=x)||void 0===f?void 0:f.effect)===e&&(x=null)}}),t).release;l.set(n,[].concat(K(null!==(i=l.get(n))&&void 0!==i?i:[]),[a]))}},S=oe(u);try{for(S.s();!(h=S.n()).done;){var M=h.value;try{var k,T=M({node:d,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:a,setSelf:b(M),resetSelf:w(M),onSet:_(M),getPromise:p,getLoadable:f,getInfo_UNSTABLE:v});if(null!=T)l.set(n,[].concat(K(null!==(k=l.get(n))&&void 0!==k?k:[]),[T]))}catch(C){m=C,y=!0}}}catch(P){S.e(P)}finally{S.f()}if(g=!1,!(m instanceof Cs)){var E,A=y?Ss(m):be(m)?Ms(function(e,n){var r=n.then((function(n){var i,a;return(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&Ds(e,d,n),n})).catch((function(n){var i,a;throw(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&Os(e,d,Ss(n)),n}));return r}(n,m)):ks(Us(m));A.contents,r.atomValues.set(t,A),null===(E=n.getState().nextTree)||void 0===E||E.atomValues.set(t,A)}}return function(){var e;i--,null===(e=l.get(n))||void 0===e||e.forEach((function(e){return e()})),l.delete(n)}},invalidate:function(){s=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Ps(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return d}function js(e){var t=Object.assign({},e),n="default"in e?e.default:new Promise((function(){}));return Is(n)?function(e){var t=js(X(X({},e),{},{default:As,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:X(X({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof Cs?t:we(e.persistence_UNSTABLE).validator(t,As)}}),effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE})),n=ws({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof Cs?e.default:r},set:function(e,n){return(0,e.set)(t,n)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return Ls(n.key,Ps(e.key)),n}(X(X({},t),{},{default:n})):Bs(X(X({},t),{},{default:n}))}js.value=function(e){return new Ts(e)};var Hs=js,Vs=function(){function e(t){var n;de(this,e),_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return fe(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Gs={MapCache:Vs}.MapCache,Ws=Object.freeze({__proto__:null,MapCache:Gs}),qs=Uo.LRUCache,Xs=Ws.MapCache,Ys={equality:"reference",eviction:"none",maxSize:1/0};function Ks(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return Go(e)}}throw xe("Unrecognized equality policy ".concat(e))}function Zs(e,t,n){switch(e){case"keep-all":return new Xs({mapKey:n});case"lru":return new qs({mapKey:n,maxSize:we(t)});case"most-recent":return new qs({mapKey:n,maxSize:1})}throw xe("Unrecognized eviction policy ".concat(e))}var Js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys,t=e.equality,n=void 0===t?Ys.equality:t,r=e.eviction,i=void 0===r?Ys.eviction:r,a=e.maxSize,o=void 0===a?Ys.maxSize:a,s=Ks(n),l=Zs(i,o,s);return l},Qs=xt.setConfigDeletionHandler;var $s=function(e){var t,n,r=Js({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i,a=r.get(t);if(null!=a)return a;e.cachePolicyForParams_UNSTABLE;var o=Z(e,me),s="default"in e?e.default:new Promise((function(){})),l=Hs(X(X({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=Go(t))&&void 0!==n?n:"void"),default:"function"===typeof s?s(t):s,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE}));return r.set(t,l),Qs(l.key,(function(){r.delete(t)})),l}},el=xt.setConfigDeletionHandler,tl=0;var nl=function(e){var t,n,r=Js({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i;try{i=r.get(t)}catch(d){throw xe("Problem with cache lookup for selector ".concat(e.key,": ").concat(d.message))}if(null!=i)return i;var a,o="".concat(e.key,"__selectorFamily/").concat(null!==(n=Go(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(tl++),s=function(n){return e.get(t)(n)},l=e.cachePolicy_UNSTABLE,u="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var c=e.set;a=ws({key:o,get:s,set:function(e,n){return c(t)(e,n)},cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else a=ws({key:o,get:s,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(t,a),el(a.key,(function(){r.delete(t)})),a}},rl=nl({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var il=function(e){return rl(e)},al=nl({key:"__error",get:function(e){return function(){throw xe(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var ol=function(e){return al(e)};var sl=function(e){return e},ll=He.loadableWithError,ul=He.loadableWithPromise,cl=He.loadableWithValue;function dl(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),a=oe(t.entries());try{for(a.s();!(n=a.n()).done;){var o=u(n.value,2),s=o[0],l=o[1];try{r[s]=e(l)}catch(c){i[s]=c}}}catch(d){a.e(d)}finally{a.f()}return[r,i]}function hl(e){return null!=e&&!be(e)}function fl(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function pl(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return X(X({},e),{},W({},n,t[r]))}),{})}function vl(e,t,n){return pl(e,n.map((function(e,n){return null==e?cl(t[n]):be(e)?ul(e):ll(e)})))}var ml,gl=nl({key:"__waitForNone",get:function(e){return function(t){var n=u(dl(t.get,fl(e)),2),r=n[0],i=n[1];return vl(e,r,i)}},dangerouslyAllowMutability:!0}),yl=nl({key:"__waitForAny",get:function(e){return function(t){var n=u(dl(t.get,fl(e)),2),r=n[0],i=n[1];return i.some((function(e){return!be(e)}))?vl(e,r,i):new Promise((function(t){var n,a=oe(i.entries());try{var o=function(){var a=u(n.value,2),o=a[0],s=a[1];be(s)&&s.then((function(n){r[o]=n,i[o]=void 0,t(vl(e,r,i))})).catch((function(n){i[o]=n,t(vl(e,r,i))}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}))}},dangerouslyAllowMutability:!0}),xl={waitForNone:gl,waitForAny:yl,waitForAll:nl({key:"__waitForAll",get:function(e){return function(t){var n=u(dl(t.get,fl(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return pl(e,r);var a=i.find(hl);if(null!=a)throw a;return Promise.all(i).then((function(t){return pl(e,(n=r,t.map((function(e,t){return void 0===e?n[t]:e}))));var n}))}},dangerouslyAllowMutability:!0}),waitForAllSettled:nl({key:"__waitForAllSettled",get:function(e){return function(t){var n=u(dl(t.get,fl(e)),2),r=n[0],i=n[1];return i.every((function(e){return!be(e)}))?vl(e,r,i):Promise.all(i.map((function(e,t){return be(e)?e.then((function(e){r[t]=e,i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return vl(e,r,i)}))}},dangerouslyAllowMutability:!0}),noWait:nl({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return ws.value(cl(n(e)))}catch(r){return ws.value(be(r)?ul(r):ll(r))}}},dangerouslyAllowMutability:!0})},bl=He.RecoilLoadable,wl=xt.DefaultValue,_l=Mi,Sl=Ei,Ml=st.isRecoilValue,kl=qt.retentionZone,Tl=jr.freshSnapshot,El={DefaultValue:wl,isRecoilValue:Ml,RecoilLoadable:bl,RecoilRoot:_l,useRecoilStoreID:Sl,useRecoilBridgeAcrossReactRoots_UNSTABLE:qa,atom:Hs,selector:ws,atomFamily:$s,selectorFamily:nl,constSelector:il,errorSelector:ol,readOnlySelector:sl,noWait:xl.noWait,waitForNone:xl.waitForNone,waitForAny:xl.waitForAny,waitForAll:xl.waitForAll,waitForAllSettled:xl.waitForAllSettled,useRecoilValue:fa,useRecoilValueLoadable:pa,useRecoilState:da,useRecoilStateLoadable:ha,useSetRecoilState:ma,useResetRecoilState:va,useGetRecoilValueInfo_UNSTABLE:ja,useRecoilRefresher_UNSTABLE:ko,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:ga,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:ya,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:xa,useRecoilCallback:wo,useRecoilTransaction_UNSTABLE:Co,useGotoRecoilSnapshot:Oa,useRecoilSnapshot:za,useRecoilTransactionObserver_UNSTABLE:Fa,snapshot_UNSTABLE:Tl,useRetain:Ui,retentionZone:kl},Al=El.RecoilRoot,Cl=El.useRecoilBridgeAcrossReactRoots_UNSTABLE,Pl=El.atom,Rl=El.useRecoilState;function Ll(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}function Il(){return Il="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ll(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Il.apply(this,arguments)}var Nl="144",zl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Dl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ol=0,Fl=1,Ul=2,Bl=3,jl=0,Hl=1,Vl=2,Gl=3,Wl=0,ql=1,Xl=2,Yl=0,Kl=1,Zl=2,Jl=3,Ql=4,$l=5,eu=100,tu=101,nu=102,ru=103,iu=104,au=200,ou=201,su=202,lu=203,uu=204,cu=205,du=206,hu=207,fu=208,pu=209,vu=210,mu=0,gu=1,yu=2,xu=3,bu=4,wu=5,_u=6,Su=7,Mu=0,ku=1,Tu=2,Eu=0,Au=1,Cu=2,Pu=3,Ru=4,Lu=5,Iu=300,Nu=301,zu=302,Du=303,Ou=304,Fu=306,Uu=1e3,Bu=1001,ju=1002,Hu=1003,Vu=1004,Gu=1004,Wu=1005,qu=1005,Xu=1006,Yu=1007,Ku=1007,Zu=1008,Ju=1008,Qu=1009,$u=1010,ec=1011,tc=1012,nc=1013,rc=1014,ic=1015,ac=1016,oc=1017,sc=1018,lc=1020,uc=1021,cc=1022,dc=1023,hc=1024,fc=1025,pc=1026,vc=1027,mc=1028,gc=1029,yc=1030,xc=1031,bc=1033,wc=33776,_c=33777,Sc=33778,Mc=33779,kc=35840,Tc=35841,Ec=35842,Ac=35843,Cc=36196,Pc=37492,Rc=37496,Lc=37808,Ic=37809,Nc=37810,zc=37811,Dc=37812,Oc=37813,Fc=37814,Uc=37815,Bc=37816,jc=37817,Hc=37818,Vc=37819,Gc=37820,Wc=37821,qc=36492,Xc=2200,Yc=2201,Kc=2202,Zc=2300,Jc=2301,Qc=2302,$c=2400,ed=2401,td=2402,nd=2500,rd=2501,id=0,ad=1,od=2,sd=3e3,ld=3001,ud=3200,cd=3201,dd=0,hd=1,fd="",pd="srgb",vd="srgb-linear",md=0,gd=7680,yd=7681,xd=7682,bd=7683,wd=34055,_d=34056,Sd=5386,Md=512,kd=513,Td=514,Ed=515,Ad=516,Cd=517,Pd=518,Rd=519,Ld=35044,Id=35048,Nd=35040,zd=35045,Dd=35049,Od=35041,Fd=35046,Ud=35050,Bd=35042,jd="100",Hd="300 es",Vd=1035,Gd=function(){function e(){de(this,e)}return fe(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Wd=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],qd=1234567,Xd=Math.PI/180,Yd=180/Math.PI;function Kd(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Wd[255&e]+Wd[e>>8&255]+Wd[e>>16&255]+Wd[e>>24&255]+"-"+Wd[255&t]+Wd[t>>8&255]+"-"+Wd[t>>16&15|64]+Wd[t>>24&255]+"-"+Wd[63&n|128]+Wd[n>>8&255]+"-"+Wd[n>>16&255]+Wd[n>>24&255]+Wd[255&r]+Wd[r>>8&255]+Wd[r>>16&255]+Wd[r>>24&255]).toLowerCase()}function Zd(e,t,n){return Math.max(t,Math.min(n,e))}function Jd(e,t){return(e%t+t)%t}function Qd(e,t,n){return(1-n)*e+n*t}function $d(e){return 0===(e&e-1)&&0!==e}function eh(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function th(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function nh(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function rh(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var ih=Object.freeze({__proto__:null,DEG2RAD:Xd,RAD2DEG:Yd,generateUUID:Kd,clamp:Zd,euclideanModulo:Jd,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Qd,damp:function(e,t,n,r){return Qd(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Jd(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(qd=e);var t=qd+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Xd},radToDeg:function(e){return e*Yd},isPowerOfTwo:$d,ceilPowerOfTwo:eh,floorPowerOfTwo:th,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*d,l*h,s*u);break;case"YZY":e.set(l*h,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*h,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:rh,denormalize:nh}),ah=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;de(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return fe(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),oh=function(){function e(){de(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return fe(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],f=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return i[0]=a*p+o*g+s*b,i[3]=a*v+o*y+s*w,i[6]=a*m+o*x+s*_,i[1]=l*p+u*g+c*b,i[4]=l*v+u*y+c*w,i[7]=l*m+u*x+c*_,i[2]=d*p+h*g+f*b,i[5]=d*v+h*y+f*w,i[8]=d*m+h*x+f*_,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,h=l*i-a*s,f=t*c+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*u,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function sh(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var lh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function uh(e,t){return new lh[e](t)}function ch(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function dh(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function hh(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var fh=(W(ml={},pd,W({},vd,dh)),W(ml,vd,W({},pd,hh)),ml),ph={legacyMode:!0,get workingColorSpace(){return vd},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(fh[t]&&void 0!==fh[t][n]){var r=fh[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},vh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mh={r:0,g:0,b:0},gh={h:0,s:0,l:0},yh={h:0,s:0,l:0};function xh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function bh(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var wh,_h=function(e){function t(e,n,r){return de(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return fe(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ph.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vd;return this.r=e,this.g=t,this.b=n,ph.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vd;if(e=Jd(e,1),t=Zd(t,0,1),n=Zd(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=xh(a,i,e+1/3),this.g=xh(a,i,e),this.b=xh(a,i,e-1/3)}return ph.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,ph.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,ph.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,l=parseFloat(i[2])/100,u=parseFloat(i[3])/100;return r(i[4]),this.setHSL(s,l,u,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,ph.toWorkingColorSpace(this,n),this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,ph.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd,n=vh[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=dh(e.r),this.g=dh(e.g),this.b=dh(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=hh(e.r),this.g=hh(e.g),this.b=hh(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd;return ph.fromWorkingColorSpace(bh(this,mh),e),Zd(255*mh.r,0,255)<<16^Zd(255*mh.g,0,255)<<8^Zd(255*mh.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vd;ph.fromWorkingColorSpace(bh(this,mh),t);var n,r,i=mh.r,a=mh.g,o=mh.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vd;return ph.fromWorkingColorSpace(bh(this,mh),t),e.r=mh.r,e.g=mh.g,e.b=mh.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd;return ph.fromWorkingColorSpace(bh(this,mh),e),e!==pd?"color(".concat(e," ").concat(mh.r," ").concat(mh.g," ").concat(mh.b,")"):"rgb(".concat(255*mh.r|0,",").concat(255*mh.g|0,",").concat(255*mh.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(gh),gh.h+=e,gh.s+=t,gh.l+=n,this.setHSL(gh.h,gh.s,gh.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(gh),e.getHSL(yh);var n=Qd(gh.h,yh.h,t),r=Qd(gh.s,yh.s,t),i=Qd(gh.l,yh.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();_h.NAMES=vh;var Sh=function(){function e(){de(this,e)}return fe(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===wh&&(wh=ch("canvas")),wh.width=e.width,wh.height=e.height;var n=wh.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=wh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=ch("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*dh(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*dh(o[s]/255)):o[s]=dh(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Mh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;de(this,e),this.isSource=!0,this.uuid=Kd(),this.data=t,this.version=0}return fe(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(kh(r[a].image)):i.push(kh(r[a]))}else i=kh(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function kh(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Sh.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Th=0,Eh=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bu,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bu,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xu,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zu,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dc,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Qu,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:sd;return de(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(se(e),"id",{value:Th++}),e.uuid=Kd(),e.name="",e.source=new Mh(r),e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=u,e.internalFormat=null,e.type=c,e.offset=new ah(0,0),e.repeat=new ah(1,1),e.center=new ah(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new oh,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return fe(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==Iu)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Uu:e.x=e.x-Math.floor(e.x);break;case Bu:e.x=e.x<0?0:1;break;case ju:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Uu:e.y=e.y-Math.floor(e.y);break;case Bu:e.y=e.y<0?0:1;break;case ju:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(Gd);Eh.DEFAULT_IMAGE=null,Eh.DEFAULT_MAPPING=Iu;var Ah=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;de(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return fe(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],h=s[5],f=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-d)<a&&Math.abs(c-p)<a&&Math.abs(f-v)<a){if(Math.abs(u+d)<o&&Math.abs(c+p)<o&&Math.abs(f+v)<o&&Math.abs(l+h+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(h+1)/2,x=(m+1)/2,b=(u+d)/4,w=(c+p)/4,_=(f+v)/4;return g>y&&g>x?g<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(g)),i=w/n):y>x?y<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(y)),i=_/r):x<a?(n=.707106781,r=.707106781,i=0):(n=w/(i=Math.sqrt(x)),r=_/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-f)*(v-f)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(S)<.001&&(S=1),this.x=(v-f)/S,this.y=(c-p)/S,this.z=(d-u)/S,this.w=Math.acos((l+h+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),Ch=function(e){le(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};de(this,n),(i=t.call(this)).isWebGLRenderTarget=!0,i.width=e,i.height=r,i.depth=1,i.scissor=new Ah(0,0,e,r),i.scissorTest=!1,i.viewport=new Ah(0,0,e,r);var o={width:e,height:r,depth:1};return i.texture=new Eh(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),i.texture.isRenderTargetTexture=!0,i.texture.flipY=!1,i.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,i.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,i.texture.minFilter=void 0!==a.minFilter?a.minFilter:Xu,i.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,i.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,i.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,i.samples=void 0!==a.samples?a.samples:0,i}return fe(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Mh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Gd),Ph=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return de(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Hu,e.minFilter=Hu,e.wrapR=Bu,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return fe(n)}(Eh),Rh=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;return de(this,n),(a=t.call(this,e,r)).isWebGLArrayRenderTarget=!0,a.depth=i,a.texture=new Ph(null,e,r,i),a.texture.isRenderTargetTexture=!0,a}return fe(n)}(Ch),Lh=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return de(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Hu,e.minFilter=Hu,e.wrapR=Bu,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return fe(n)}(Eh),Ih=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;return de(this,n),(a=t.call(this,e,r)).isWebGL3DRenderTarget=!0,a.depth=i,a.texture=new Lh(null,e,r,i),a.texture.isRenderTargetTexture=!0,a}return fe(n)}(Ch),Nh=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};de(this,n),(a=t.call(this,e,r,o)).isWebGLMultipleRenderTargets=!0;var s=a.texture;a.texture=[];for(var l=0;l<i;l++)a.texture[l]=s.clone(),a.texture[l].isRenderTargetTexture=!0;return a}return fe(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(Ch),zh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;de(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return fe(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"YXZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"ZXY":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"ZYX":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"YZX":this._x=d*u*c+l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c-d*h*f;break;case"XZY":this._x=d*u*c-l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){var h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-s)*h,this._y=(i-l)*h,this._z=(a-r)*h}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Zd(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=a*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==d||l!==h||u!==f){var v=1-o,m=s*d+l*h+u*f+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,m*g);v=Math.sin(v*b)/x,o=Math.sin(o*b)/x}var w=o*g;if(s=s*v+d*w,l=l*v+h*w,u=u*v+f*w,c=c*v+p*w,v===1-o){var _=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=_,l*=_,u*=_,c*=_}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+u*c+s*h-l*d,e[t+1]=s*f+u*d+l*c-o*h,e[t+2]=l*f+u*h+o*d-s*c,e[t+3]=u*f-o*c-s*d-l*h,e}}]),t}(),Dh=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;de(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return fe(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Fh.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Fh.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+u*-o-c*-a,this.y=u*s+d*-a+c*-i-l*-o,this.z=c*s+d*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Oh.copy(this).projectOnVector(e),this.sub(Oh)}},{key:"reflect",value:function(e){return this.sub(Oh.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Zd(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),Oh=new Dh,Fh=new zh,Uh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh(-1/0,-1/0,-1/0);de(this,e),this.isBox3=!0,this.min=t,this.max=n}return fe(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],d=e[s+2];u<t&&(t=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),d=e.getZ(s);u<t&&(t=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=jh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)jh.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(jh);else null===n.boundingBox&&n.computeBoundingBox(),Hh.copy(n.boundingBox),Hh.applyMatrix4(e.matrixWorld),this.union(Hh);for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,jh),jh.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Kh),Zh.subVectors(this.max,Kh),Vh.subVectors(e.a,Kh),Gh.subVectors(e.b,Kh),Wh.subVectors(e.c,Kh),qh.subVectors(Gh,Vh),Xh.subVectors(Wh,Gh),Yh.subVectors(Vh,Wh);var t=[0,-qh.z,qh.y,0,-Xh.z,Xh.y,0,-Yh.z,Yh.y,qh.z,0,-qh.x,Xh.z,0,-Xh.x,Yh.z,0,-Yh.x,-qh.y,qh.x,0,-Xh.y,Xh.x,0,-Yh.y,Yh.x,0];return!!$h(t,Vh,Gh,Wh,Zh)&&(!!$h(t=[1,0,0,0,1,0,0,0,1],Vh,Gh,Wh,Zh)&&(Jh.crossVectors(qh,Xh),$h(t=[Jh.x,Jh.y,Jh.z],Vh,Gh,Wh,Zh)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return jh.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(jh).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Bh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Bh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Bh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Bh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Bh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Bh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Bh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Bh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Bh)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Bh=[new Dh,new Dh,new Dh,new Dh,new Dh,new Dh,new Dh,new Dh],jh=new Dh,Hh=new Uh,Vh=new Dh,Gh=new Dh,Wh=new Dh,qh=new Dh,Xh=new Dh,Yh=new Dh,Kh=new Dh,Zh=new Dh,Jh=new Dh,Qh=new Dh;function $h(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Qh.fromArray(e,a);var s=i.x*Math.abs(Qh.x)+i.y*Math.abs(Qh.y)+i.z*Math.abs(Qh.z),l=t.dot(Qh),u=n.dot(Qh),c=r.dot(Qh);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var ef=new Uh,tf=new Dh,nf=new Dh,rf=new Dh,af=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;de(this,e),this.center=t,this.radius=n}return fe(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):ef.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){rf.subVectors(e,this.center);var t=rf.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(rf.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?nf.set(0,0,1).multiplyScalar(e.radius):nf.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(tf.copy(e.center).add(nf)),this.expandByPoint(tf.copy(e.center).sub(nf)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),of=new Dh,sf=new Dh,lf=new Dh,uf=new Dh,cf=new Dh,df=new Dh,hf=new Dh,ff=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh(0,0,-1);de(this,e),this.origin=t,this.direction=n}return fe(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,of)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=of.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(of.copy(this.direction).multiplyScalar(t).add(this.origin),of.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){sf.copy(e).add(t).multiplyScalar(.5),lf.copy(t).sub(e).normalize(),uf.copy(this.origin).sub(sf);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(lf),c=uf.dot(this.direction),d=-uf.dot(lf),h=uf.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-d,s=l*f,(i=u*d-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*d)+h}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+h):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(lf).multiplyScalar(a).add(sf),o}},{key:"intersectSphere",value:function(e,t){of.subVectors(e.center,this.origin);var n=of.dot(this.direction),r=of.dot(of)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,of)}},{key:"intersectTriangle",value:function(e,t,n,r,i){cf.subVectors(t,e),df.subVectors(n,e),hf.crossVectors(cf,df);var a,o=this.direction.dot(hf);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}uf.subVectors(this.origin,e);var s=a*this.direction.dot(df.crossVectors(uf,df));if(s<0)return null;var l=a*this.direction.dot(cf.cross(uf));if(l<0)return null;if(s+l>o)return null;var u=-a*uf.dot(hf);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),pf=function(){function e(){de(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return fe(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,d,h,f,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=d,m[3]=h,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/vf.setFromMatrixColumn(e,0).length(),i=1/vf.setFromMatrixColumn(e,1).length(),a=1/vf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var d=a*u,h=a*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=h+f*l,t[5]=d-p*l,t[9]=-o*s,t[2]=p-d*l,t[6]=f+h*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,m=s*c,g=l*u,y=l*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var x=s*u,b=s*c,w=l*u,_=l*c;t[0]=x-_*o,t[4]=-a*c,t[8]=w+b*o,t[1]=b+w*o,t[5]=a*u,t[9]=_-x*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*u,M=a*c,k=o*u,T=o*c;t[0]=s*u,t[4]=k*l-M,t[8]=S*l+T,t[1]=s*c,t[5]=T*l+S,t[9]=M*l-k,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var E=a*s,A=a*l,C=o*s,P=o*l;t[0]=s*u,t[4]=P-E*c,t[8]=C*c+A,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=A*c+C,t[10]=E-P*c}else if("XZY"===e.order){var R=a*s,L=a*l,I=o*s,N=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=R*c+N,t[5]=a*u,t[9]=L*c-I,t[2]=I*c-L,t[6]=o*u,t[10]=N*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(gf,e,yf)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return wf.subVectors(e,t),0===wf.lengthSq()&&(wf.z=1),wf.normalize(),xf.crossVectors(n,wf),0===xf.lengthSq()&&(1===Math.abs(n.z)?wf.x+=1e-4:wf.z+=1e-4,wf.normalize(),xf.crossVectors(n,wf)),xf.normalize(),bf.crossVectors(wf,xf),r[0]=xf.x,r[4]=bf.x,r[8]=wf.x,r[1]=xf.y,r[5]=bf.y,r[9]=wf.y,r[2]=xf.z,r[6]=bf.z,r[10]=wf.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],f=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],x=n[11],b=n[15],w=r[0],_=r[4],S=r[8],M=r[12],k=r[1],T=r[5],E=r[9],A=r[13],C=r[2],P=r[6],R=r[10],L=r[14],I=r[3],N=r[7],z=r[11],D=r[15];return i[0]=a*w+o*k+s*C+l*I,i[4]=a*_+o*T+s*P+l*N,i[8]=a*S+o*E+s*R+l*z,i[12]=a*M+o*A+s*L+l*D,i[1]=u*w+c*k+d*C+h*I,i[5]=u*_+c*T+d*P+h*N,i[9]=u*S+c*E+d*R+h*z,i[13]=u*M+c*A+d*L+h*D,i[2]=f*w+p*k+v*C+m*I,i[6]=f*_+p*T+v*P+m*N,i[10]=f*S+p*E+v*R+m*z,i[14]=f*M+p*A+v*L+m*D,i[3]=g*w+y*k+x*C+b*I,i[7]=g*_+y*T+x*P+b*N,i[11]=g*S+y*E+x*R+b*z,i[15]=g*M+y*A+x*L+b*D,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*h-i*a*c+n*a*h+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*d+r*a*c-n*a*d+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],f=e[12],p=e[13],v=e[14],m=e[15],g=c*v*l-p*d*l+p*s*h-o*v*h-c*s*m+o*d*m,y=f*d*l-u*v*l-f*s*h+a*v*h+u*s*m-a*d*m,x=u*p*l-f*c*l+f*o*h-a*p*h-u*o*m+a*c*m,b=f*c*s-u*p*s-f*o*d+a*p*d+u*o*v-a*c*v,w=t*g+n*y+r*x+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var _=1/w;return e[0]=g*_,e[1]=(p*d*i-c*v*i-p*r*h+n*v*h+c*r*m-n*d*m)*_,e[2]=(o*v*i-p*s*i+p*r*l-n*v*l-o*r*m+n*s*m)*_,e[3]=(c*s*i-o*d*i-c*r*l+n*d*l+o*r*h-n*s*h)*_,e[4]=y*_,e[5]=(u*v*i-f*d*i+f*r*h-t*v*h-u*r*m+t*d*m)*_,e[6]=(f*s*i-a*v*i-f*r*l+t*v*l+a*r*m-t*s*m)*_,e[7]=(a*d*i-u*s*i+u*r*l-t*d*l-a*r*h+t*s*h)*_,e[8]=x*_,e[9]=(f*c*i-u*p*i-f*n*h+t*p*h+u*n*m-t*c*m)*_,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*m+t*o*m)*_,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*h-t*o*h)*_,e[12]=b*_,e[13]=(u*p*r-f*c*r+f*n*d-t*p*d-u*n*v+t*c*v)*_,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*v-t*o*v)*_,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*d+t*o*d)*_,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,d=i*l,h=i*u,f=i*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,x=s*c,b=n.x,w=n.y,_=n.z;return r[0]=(1-(p+m))*b,r[1]=(h+x)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(h-x)*w,r[5]=(1-(d+m))*w,r[6]=(v+g)*w,r[7]=0,r[8]=(f+y)*_,r[9]=(v-g)*_,r[10]=(1-(d+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=vf.set(r[0],r[1],r[2]).length(),a=vf.set(r[4],r[5],r[6]).length(),o=vf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],mf.copy(this);var s=1/i,l=1/a,u=1/o;return mf.elements[0]*=s,mf.elements[1]*=s,mf.elements[2]*=s,mf.elements[4]*=l,mf.elements[5]*=l,mf.elements[6]*=l,mf.elements[8]*=u,mf.elements[9]*=u,mf.elements[10]*=u,t.setFromRotationMatrix(mf),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i),c=(t+e)*s,d=(n+r)*l,h=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),vf=new Dh,mf=new pf,gf=new Dh(0,0,0),yf=new Dh(1,1,1),xf=new Dh,bf=new Dh,wf=new Dh,_f=new pf,Sf=new zh,Mf=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;de(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return fe(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Zd(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Zd(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Zd(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Zd(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Zd(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Zd(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return _f.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_f,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Sf.setFromEuler(this),this.setFromQuaternion(Sf,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))},{key:"toVector3",value:function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}]),t}();Mf.DefaultOrder="XYZ",Mf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var kf=function(){function e(){de(this,e),this.mask=1}return fe(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Tf=0,Ef=new Dh,Af=new zh,Cf=new pf,Pf=new Dh,Rf=new Dh,Lf=new Dh,If=new zh,Nf=new Dh(1,0,0),zf=new Dh(0,1,0),Df=new Dh(0,0,1),Of={type:"added"},Ff={type:"removed"},Uf=function(e){le(n,e);var t=ce(n);function n(){var e;de(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(se(e),"id",{value:Tf++}),e.uuid=Kd(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new Dh,i=new Mf,a=new zh,o=new Dh(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(se(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new pf},normalMatrix:{value:new oh}}),e.matrix=new pf,e.matrixWorld=new pf,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DefaultMatrixWorldAutoUpdate,e.layers=new kf,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return fe(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Af.setFromAxisAngle(e,t),this.quaternion.multiply(Af),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Af.setFromAxisAngle(e,t),this.quaternion.premultiply(Af),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Nf,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(zf,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Df,e)}},{key:"translateOnAxis",value:function(e,t){return Ef.copy(e).applyQuaternion(this.quaternion),this.position.add(Ef.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Nf,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(zf,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Df,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(Cf.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Pf.copy(e):Pf.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Rf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Cf.lookAt(Rf,Pf,this.up):Cf.lookAt(Pf,Rf,this.up),this.quaternion.setFromRotationMatrix(Cf),r&&(Cf.extractRotation(r.matrixWorld),Af.setFromRotationMatrix(Cf),this.quaternion.premultiply(Af.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Of)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ff)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Ff)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Cf.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Cf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Cf),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rf,e,Lf),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Rf,If,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,h=this.material.length;d<h;d++)c.push(i(e.materials,this.material[d]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=M(e.geometries),g=M(e.materials),y=M(e.textures),x=M(e.images),b=M(e.shapes),w=M(e.skeletons),_=M(e.animations),S=M(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),x.length>0&&(n.images=x),b.length>0&&(n.shapes=b),w.length>0&&(n.skeletons=w),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=r,n;function M(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Gd);Uf.DefaultUp=new Dh(0,1,0),Uf.DefaultMatrixAutoUpdate=!0,Uf.DefaultMatrixWorldAutoUpdate=!0;var Bf=new Dh,jf=new Dh,Hf=new Dh,Vf=new Dh,Gf=new Dh,Wf=new Dh,qf=new Dh,Xf=new Dh,Yf=new Dh,Kf=new Dh,Zf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Dh;de(this,e),this.a=t,this.b=n,this.c=r}return fe(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Bf.subVectors(this.c,this.b),jf.subVectors(this.a,this.b),.5*Bf.cross(jf).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Gf.subVectors(a,i),Wf.subVectors(o,i),Xf.subVectors(e,i);var s=Gf.dot(Xf),l=Wf.dot(Xf);if(s<=0&&l<=0)return t.copy(i);Yf.subVectors(e,a);var u=Gf.dot(Yf),c=Wf.dot(Yf);if(u>=0&&c<=u)return t.copy(a);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(Gf,n);Kf.subVectors(e,o);var h=Gf.dot(Kf),f=Wf.dot(Kf);if(f>=0&&h<=f)return t.copy(o);var p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(Wf,r);var v=u*f-h*c;if(v<=0&&c-u>=0&&h-f>=0)return qf.subVectors(o,a),r=(c-u)/(c-u+(h-f)),t.copy(a).addScaledVector(qf,r);var m=1/(v+p+d);return n=p*m,r=d*m,t.copy(i).addScaledVector(Gf,n).addScaledVector(Wf,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Bf.subVectors(e,t),r.cross(Bf);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Bf.subVectors(r,t),jf.subVectors(n,t),Hf.subVectors(e,t);var a=Bf.dot(Bf),o=Bf.dot(jf),s=Bf.dot(Hf),l=jf.dot(jf),u=jf.dot(Hf),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);var d=1/c,h=(l*s-o*u)*d,f=(a*u-o*s)*d;return i.set(1-h-f,f,h)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Vf),Vf.x>=0&&Vf.y>=0&&Vf.x+Vf.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Vf),s.set(0,0),s.addScaledVector(i,Vf.x),s.addScaledVector(a,Vf.y),s.addScaledVector(o,Vf.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Bf.subVectors(n,t),jf.subVectors(e,t),Bf.cross(jf).dot(r)<0}}]),e}(),Jf=0,Qf=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(se(e),"id",{value:Jf++}),e.uuid=Kd(),e.name="",e.type="Material",e.blending=Kl,e.side=Wl,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=uu,e.blendDst=cu,e.blendEquation=eu,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=xu,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=Rd,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=gd,e.stencilZFail=gd,e.stencilZPass=gd,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return fe(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Kl&&(n.blending=this.blending),this.side!==Wl&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Gd),$f=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new _h(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Mu,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Qf),ep=new Dh,tp=new ah,np=function(){function e(t,n,r){if(de(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Ld,this.updateRange={offset:0,count:-1},this.version=0}return fe(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)tp.fromBufferAttribute(this,t),tp.applyMatrix3(e),this.setXY(t,tp.x,tp.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)ep.fromBufferAttribute(this,r),ep.applyMatrix3(e),this.setXYZ(r,ep.x,ep.y,ep.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)ep.fromBufferAttribute(this,t),ep.applyMatrix4(e),this.setXYZ(t,ep.x,ep.y,ep.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)ep.fromBufferAttribute(this,t),ep.applyNormalMatrix(e),this.setXYZ(t,ep.x,ep.y,ep.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)ep.fromBufferAttribute(this,t),ep.transformDirection(e),this.setXYZ(t,ep.x,ep.y,ep.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=nh(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=nh(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=nh(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=nh(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=rh(t,this.array),n=rh(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=rh(t,this.array),n=rh(n,this.array),r=rh(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=rh(t,this.array),n=rh(n,this.array),r=rh(r,this.array),i=rh(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Ld&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),rp=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Int8Array(e),r,i)}return fe(n)}(np),ip=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Uint8Array(e),r,i)}return fe(n)}(np),ap=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return fe(n)}(np),op=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Int16Array(e),r,i)}return fe(n)}(np),sp=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Uint16Array(e),r,i)}return fe(n)}(np),lp=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Int32Array(e),r,i)}return fe(n)}(np),up=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Uint32Array(e),r,i)}return fe(n)}(np),cp=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;return de(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return fe(n)}(np),dp=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Float32Array(e),r,i)}return fe(n)}(np),hp=function(e){le(n,e);var t=ce(n);function n(e,r,i){return de(this,n),t.call(this,new Float64Array(e),r,i)}return fe(n)}(np),fp=0,pp=new pf,vp=new Uf,mp=new Dh,gp=new Uh,yp=new Uh,xp=new Dh,bp=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(se(e),"id",{value:fp++}),e.uuid=Kd(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return fe(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(sh(e)?up:sp)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new oh).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return pp.makeRotationFromQuaternion(e),this.applyMatrix4(pp),this}},{key:"rotateX",value:function(e){return pp.makeRotationX(e),this.applyMatrix4(pp),this}},{key:"rotateY",value:function(e){return pp.makeRotationY(e),this.applyMatrix4(pp),this}},{key:"rotateZ",value:function(e){return pp.makeRotationZ(e),this.applyMatrix4(pp),this}},{key:"translate",value:function(e,t,n){return pp.makeTranslation(e,t,n),this.applyMatrix4(pp),this}},{key:"scale",value:function(e,t,n){return pp.makeScale(e,t,n),this.applyMatrix4(pp),this}},{key:"lookAt",value:function(e){return vp.lookAt(e),vp.updateMatrix(),this.applyMatrix4(vp.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(mp).negate(),this.translate(mp.x,mp.y,mp.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new dp(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Uh);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Dh(-1/0,-1/0,-1/0),new Dh(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];gp.setFromBufferAttribute(i),this.morphTargetsRelative?(xp.addVectors(this.boundingBox.min,gp.min),this.boundingBox.expandByPoint(xp),xp.addVectors(this.boundingBox.max,gp.max),this.boundingBox.expandByPoint(xp)):(this.boundingBox.expandByPoint(gp.min),this.boundingBox.expandByPoint(gp.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new af);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Dh,1/0);if(e){var n=this.boundingSphere.center;if(gp.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];yp.setFromBufferAttribute(a),this.morphTargetsRelative?(xp.addVectors(gp.min,yp.min),gp.expandByPoint(xp),xp.addVectors(gp.max,yp.max),gp.expandByPoint(xp)):(gp.expandByPoint(yp.min),gp.expandByPoint(yp.max))}gp.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)xp.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(xp));if(t)for(var u=0,c=t.length;u<c;u++)for(var d=t[u],h=this.morphTargetsRelative,f=0,p=d.count;f<p;f++)xp.fromBufferAttribute(d,f),h&&(mp.fromBufferAttribute(e,f),xp.add(mp)),o=Math.max(o,n.distanceToSquared(xp));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new np(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new Dh,u[c]=new Dh;var d=new Dh,h=new Dh,f=new Dh,p=new ah,v=new ah,m=new ah,g=new Dh,y=new Dh,x=this.groups;0===x.length&&(x=[{start:0,count:n.length}]);for(var b=0,w=x.length;b<w;++b)for(var _=x[b],S=_.start,M=S,k=S+_.count;M<k;M+=3)D(n[M+0],n[M+1],n[M+2]);for(var T=new Dh,E=new Dh,A=new Dh,C=new Dh,P=0,R=x.length;P<R;++P)for(var L=x[P],I=L.start,N=I,z=I+L.count;N<z;N+=3)O(n[N+0]),O(n[N+1]),O(n[N+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function D(e,t,n){d.fromArray(r,3*e),h.fromArray(r,3*t),f.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),h.sub(d),f.sub(d),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(f,-v.y).multiplyScalar(i),y.copy(f).multiplyScalar(v.x).addScaledVector(h,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function O(e){A.fromArray(i,3*e),C.copy(A);var t=l[e];T.copy(t),T.sub(A.multiplyScalar(A.dot(t))).normalize(),E.crossVectors(C,t);var n=E.dot(u[e])<0?-1:1;s[4*e]=T.x,s[4*e+1]=T.y,s[4*e+2]=T.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new np(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Dh,o=new Dh,s=new Dh,l=new Dh,u=new Dh,c=new Dh,d=new Dh,h=new Dh;if(e)for(var f=0,p=e.count;f<p;f+=3){var v=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(d),u.add(d),c.add(d),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,x=t.count;y<x;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)xp.fromBufferAttribute(e,t),xp.normalize(),e.setXYZ(t,xp.x,xp.y,xp.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new np(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],d=0,h=c.length;d<h;d++){var f=e(c[d],r);u.push(f)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],d=[],h=0,f=c.length;h<f;h++){var p=c[h];d.push(p.toJSON(e.data))}d.length>0&&(s[u]=d,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,d=u.length;c<d;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,f=0,p=h.length;f<p;f++){var v=h[f];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Gd),wp=new pf,_p=new ff,Sp=new af,Mp=new Dh,kp=new Dh,Tp=new Dh,Ep=new Dh,Ap=new Dh,Cp=new Dh,Pp=new Dh,Rp=new Dh,Lp=new Dh,Ip=new ah,Np=new ah,zp=new ah,Dp=new Dh,Op=new Dh,Fp=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bp,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $f;return de(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),Sp.copy(n.boundingSphere),Sp.applyMatrix4(i),!1!==e.ray.intersectsSphere(Sp)&&(wp.copy(i).invert(),_p.copy(e.ray).applyMatrix4(wp),null===n.boundingBox||!1!==_p.intersectsBox(n.boundingBox)))){var a,o=n.index,s=n.attributes.position,l=n.morphAttributes.position,u=n.morphTargetsRelative,c=n.attributes.uv,d=n.attributes.uv2,h=n.groups,f=n.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,v=h.length;p<v;p++)for(var m=h[p],g=r[m.materialIndex],y=Math.max(m.start,f.start),x=Math.min(o.count,Math.min(m.start+m.count,f.start+f.count));y<x;y+=3){var b=o.getX(y),w=o.getX(y+1),_=o.getX(y+2);(a=Up(this,g,e,_p,s,l,u,c,d,b,w,_))&&(a.faceIndex=Math.floor(y/3),a.face.materialIndex=m.materialIndex,t.push(a))}else for(var S=Math.max(0,f.start),M=Math.min(o.count,f.start+f.count);S<M;S+=3){var k=o.getX(S),T=o.getX(S+1),E=o.getX(S+2);(a=Up(this,r,e,_p,s,l,u,c,d,k,T,E))&&(a.faceIndex=Math.floor(S/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(var A=0,C=h.length;A<C;A++)for(var P=h[A],R=r[P.materialIndex],L=Math.max(P.start,f.start),I=Math.min(s.count,Math.min(P.start+P.count,f.start+f.count));L<I;L+=3){(a=Up(this,R,e,_p,s,l,u,c,d,L,L+1,L+2))&&(a.faceIndex=Math.floor(L/3),a.face.materialIndex=P.materialIndex,t.push(a))}else for(var N=Math.max(0,f.start),z=Math.min(s.count,f.start+f.count);N<z;N+=3){(a=Up(this,r,e,_p,s,l,u,c,d,N,N+1,N+2))&&(a.faceIndex=Math.floor(N/3),t.push(a))}}}}]),n}(Uf);function Up(e,t,n,r,i,a,o,s,l,u,c,d){Mp.fromBufferAttribute(i,u),kp.fromBufferAttribute(i,c),Tp.fromBufferAttribute(i,d);var h=e.morphTargetInfluences;if(a&&h){Pp.set(0,0,0),Rp.set(0,0,0),Lp.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var v=h[f],m=a[f];0!==v&&(Ep.fromBufferAttribute(m,u),Ap.fromBufferAttribute(m,c),Cp.fromBufferAttribute(m,d),o?(Pp.addScaledVector(Ep,v),Rp.addScaledVector(Ap,v),Lp.addScaledVector(Cp,v)):(Pp.addScaledVector(Ep.sub(Mp),v),Rp.addScaledVector(Ap.sub(kp),v),Lp.addScaledVector(Cp.sub(Tp),v)))}Mp.add(Pp),kp.add(Rp),Tp.add(Lp)}e.isSkinnedMesh&&(e.boneTransform(u,Mp),e.boneTransform(c,kp),e.boneTransform(d,Tp));var g=function(e,t,n,r,i,a,o,s){if(null===(t.side===ql?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==Xl,s)))return null;Op.copy(s),Op.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Op);return l<n.near||l>n.far?null:{distance:l,point:Op.clone(),object:e}}(e,t,n,r,Mp,kp,Tp,Dp);if(g){s&&(Ip.fromBufferAttribute(s,u),Np.fromBufferAttribute(s,c),zp.fromBufferAttribute(s,d),g.uv=Zf.getUV(Dp,Mp,kp,Tp,Ip,Np,zp,new ah)),l&&(Ip.fromBufferAttribute(l,u),Np.fromBufferAttribute(l,c),zp.fromBufferAttribute(l,d),g.uv2=Zf.getUV(Dp,Mp,kp,Tp,Ip,Np,zp,new ah));var y={a:u,b:c,c:d,normal:new Dh,materialIndex:0};Zf.getNormal(Mp,kp,Tp,y.normal),g.face=y}return g}var Bp=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;de(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=se(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],d=[],h=[],f=[],p=0,v=0;function m(e,t,n,r,i,a,o,s,l,m,g){for(var y=a/l,x=o/m,b=a/2,w=o/2,_=s/2,S=l+1,M=m+1,k=0,T=0,E=new Dh,A=0;A<M;A++)for(var C=A*x-w,P=0;P<S;P++){var R=P*y-b;E[e]=R*r,E[t]=C*i,E[n]=_,d.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=s>0?1:-1,h.push(E.x,E.y,E.z),f.push(P/l),f.push(1-A/m),k+=1}for(var L=0;L<m;L++)for(var I=0;I<l;I++){var N=p+I+S*L,z=p+I+S*(L+1),D=p+(I+1)+S*(L+1),O=p+(I+1)+S*L;c.push(N,z,O),c.push(z,D,O),T+=6}u.addGroup(v,T,g),v+=T,p+=k}return m("z","y","x",-1,-1,a,i,r,l,s,0),m("z","y","x",1,-1,a,i,-r,l,s,1),m("x","z","y",1,1,r,a,i,o,l,2),m("x","z","y",1,-1,r,a,-i,o,l,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new dp(d,3)),e.setAttribute("normal",new dp(h,3)),e.setAttribute("uv",new dp(f,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(bp);function jp(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Hp(e){for(var t={},n=0;n<e.length;n++){var r=jp(e[n]);for(var i in r)t[i]=r[i]}return t}var Vp={clone:jp,merge:Hp},Gp=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jp(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(Qf),Wp=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new pf,e.projectionMatrix=new pf,e.projectionMatrixInverse=new pf,e}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Il($(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Il($(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Uf),qp=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return de(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Yd*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Xd*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Yd*Math.atan(Math.tan(.5*Xd*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Xd*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Wp),Xp=90,Yp=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;de(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i;var o=new qp(Xp,1,e,r);o.layers=a.layers,o.up.set(0,-1,0),o.lookAt(new Dh(1,0,0)),a.add(o);var s=new qp(Xp,1,e,r);s.layers=a.layers,s.up.set(0,-1,0),s.lookAt(new Dh(-1,0,0)),a.add(s);var l=new qp(Xp,1,e,r);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(new Dh(0,1,0)),a.add(l);var u=new qp(Xp,1,e,r);u.layers=a.layers,u.up.set(0,0,-1),u.lookAt(new Dh(0,-1,0)),a.add(u);var c=new qp(Xp,1,e,r);c.layers=a.layers,c.up.set(0,-1,0),c.lookAt(new Dh(0,0,1)),a.add(c);var d=new qp(Xp,1,e,r);return d.layers=a.layers,d.up.set(0,-1,0),d.lookAt(new Dh(0,0,-1)),a.add(d),a}return fe(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=u(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],d=e.getRenderTarget(),h=e.toneMapping,f=e.xr.enabled;e.toneMapping=Eu,e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(Uf),Kp=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l,u,c,d){var h;return de(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Nu,(h=t.call(this,e,r,i,a,o,s,l,u,c,d)).isCubeTexture=!0,h.flipY=!1,h}return fe(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Eh),Zp=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};de(this,n),(r=t.call(this,e,e,i)).isWebGLCubeRenderTarget=!0;var a={width:e,height:e,depth:1},o=[a,a,a,a,a,a];return r.texture=new Kp(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),r.texture.isRenderTargetTexture=!0,r.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,r.texture.minFilter=void 0!==i.minFilter?i.minFilter:Xu,r}return fe(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Bp(5,5,5),o=new Gp({name:"CubemapFromEquirect",uniforms:jp(n),vertexShader:r,fragmentShader:i,side:ql,blending:Yl});o.uniforms.tEquirect.value=t;var s=new Fp(a,o),l=t.minFilter;return t.minFilter===Zu&&(t.minFilter=Xu),new Yp(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Ch),Jp=new Dh,Qp=new Dh,$p=new oh,ev=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;de(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return fe(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Jp.subVectors(n,t).cross(Qp.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Jp),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||$p.getNormalMatrix(e),r=this.coplanarPoint(Jp).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),tv=new af,nv=new Dh,rv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ev,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ev,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ev,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ev,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ev,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ev;de(this,e),this.planes=[t,n,r,i,a,o]}return fe(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],f=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-d,y-v).normalize(),t[1].setComponents(o+r,c+s,p+d,y+v).normalize(),t[2].setComponents(o+i,c+l,p+h,y+m).normalize(),t[3].setComponents(o-i,c-l,p-h,y-m).normalize(),t[4].setComponents(o-a,c-u,p-f,y-g).normalize(),t[5].setComponents(o+a,c+u,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),tv.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(tv)}},{key:"intersectsSprite",value:function(e){return tv.center.set(0,0,0),tv.radius=.7071067811865476,tv.applyMatrix4(e.matrixWorld),this.intersectsSphere(tv)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(nv.x=r.normal.x>0?e.max.x:e.min.x,nv.y=r.normal.y>0?e.max.y:e.min.y,nv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(nv)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function iv(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function av(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var ov=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;de(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,u=Math.floor(a),c=Math.floor(o),d=u+1,h=c+1,f=r/u,p=i/c,v=[],m=[],g=[],y=[],x=0;x<h;x++)for(var b=x*p-l,w=0;w<d;w++){var _=w*f-s;m.push(_,-b,0),g.push(0,0,1),y.push(w/u),y.push(1-x/c)}for(var S=0;S<c;S++)for(var M=0;M<u;M++){var k=M+d*S,T=M+d*(S+1),E=M+1+d*(S+1),A=M+1+d*S;v.push(k,T,A),v.push(T,E,A)}return e.setIndex(v),e.setAttribute("position",new dp(m,3)),e.setAttribute("normal",new dp(g,3)),e.setAttribute("uv",new dp(y,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(bp),sv={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert\n#define Material_LightProbeLOD( material )\t(0)",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},lv={common:{diffuse:{value:new _h(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new oh},uv2Transform:{value:new oh},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ah(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _h(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _h(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oh}},sprite:{diffuse:{value:new _h(16777215)},opacity:{value:1},center:{value:new ah(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oh}}},uv={basic:{uniforms:Hp([lv.common,lv.specularmap,lv.envmap,lv.aomap,lv.lightmap,lv.fog]),vertexShader:sv.meshbasic_vert,fragmentShader:sv.meshbasic_frag},lambert:{uniforms:Hp([lv.common,lv.specularmap,lv.envmap,lv.aomap,lv.lightmap,lv.emissivemap,lv.bumpmap,lv.normalmap,lv.displacementmap,lv.fog,lv.lights,{emissive:{value:new _h(0)}}]),vertexShader:sv.meshlambert_vert,fragmentShader:sv.meshlambert_frag},phong:{uniforms:Hp([lv.common,lv.specularmap,lv.envmap,lv.aomap,lv.lightmap,lv.emissivemap,lv.bumpmap,lv.normalmap,lv.displacementmap,lv.fog,lv.lights,{emissive:{value:new _h(0)},specular:{value:new _h(1118481)},shininess:{value:30}}]),vertexShader:sv.meshphong_vert,fragmentShader:sv.meshphong_frag},standard:{uniforms:Hp([lv.common,lv.envmap,lv.aomap,lv.lightmap,lv.emissivemap,lv.bumpmap,lv.normalmap,lv.displacementmap,lv.roughnessmap,lv.metalnessmap,lv.fog,lv.lights,{emissive:{value:new _h(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sv.meshphysical_vert,fragmentShader:sv.meshphysical_frag},toon:{uniforms:Hp([lv.common,lv.aomap,lv.lightmap,lv.emissivemap,lv.bumpmap,lv.normalmap,lv.displacementmap,lv.gradientmap,lv.fog,lv.lights,{emissive:{value:new _h(0)}}]),vertexShader:sv.meshtoon_vert,fragmentShader:sv.meshtoon_frag},matcap:{uniforms:Hp([lv.common,lv.bumpmap,lv.normalmap,lv.displacementmap,lv.fog,{matcap:{value:null}}]),vertexShader:sv.meshmatcap_vert,fragmentShader:sv.meshmatcap_frag},points:{uniforms:Hp([lv.points,lv.fog]),vertexShader:sv.points_vert,fragmentShader:sv.points_frag},dashed:{uniforms:Hp([lv.common,lv.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sv.linedashed_vert,fragmentShader:sv.linedashed_frag},depth:{uniforms:Hp([lv.common,lv.displacementmap]),vertexShader:sv.depth_vert,fragmentShader:sv.depth_frag},normal:{uniforms:Hp([lv.common,lv.bumpmap,lv.normalmap,lv.displacementmap,{opacity:{value:1}}]),vertexShader:sv.meshnormal_vert,fragmentShader:sv.meshnormal_frag},sprite:{uniforms:Hp([lv.sprite,lv.fog]),vertexShader:sv.sprite_vert,fragmentShader:sv.sprite_frag},background:{uniforms:{uvTransform:{value:new oh},t2D:{value:null}},vertexShader:sv.background_vert,fragmentShader:sv.background_frag},cube:{uniforms:Hp([lv.envmap,{opacity:{value:1}}]),vertexShader:sv.cube_vert,fragmentShader:sv.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sv.equirect_vert,fragmentShader:sv.equirect_frag},distanceRGBA:{uniforms:Hp([lv.common,lv.displacementmap,{referencePosition:{value:new Dh},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sv.distanceRGBA_vert,fragmentShader:sv.distanceRGBA_frag},shadow:{uniforms:Hp([lv.lights,lv.fog,{color:{value:new _h(0)},opacity:{value:1}}]),vertexShader:sv.shadow_vert,fragmentShader:sv.shadow_frag}};function cv(e,t,n,r,i,a){var o,s,l=new _h(0),u=!0===i?0:1,c=null,d=0,h=null;function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),f(l,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){f(l,u=e)},render:function(n,i){var a=!1,p=!0===i.isScene?i.background:null;p&&p.isTexture&&(p=t.get(p));var v=e.xr,m=v.getSession&&v.getSession();m&&"additive"===m.environmentBlendMode&&(p=null),null===p?f(l,u):p&&p.isColor&&(f(p,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.mapping===Fu)?(void 0===s&&((s=new Fp(new Bp(1,1,1),new Gp({name:"BackgroundCubeMaterial",uniforms:jp(uv.cube.uniforms),vertexShader:uv.cube.vertexShader,fragmentShader:uv.cube.fragmentShader,side:ql,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),s.material.uniforms.envMap.value=p,s.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,c===p&&d===p.version&&h===e.toneMapping||(s.material.needsUpdate=!0,c=p,d=p.version,h=e.toneMapping),s.layers.enableAll(),n.unshift(s,s.geometry,s.material,0,0,null)):p&&p.isTexture&&(void 0===o&&((o=new Fp(new ov(2,2),new Gp({name:"BackgroundMaterial",uniforms:jp(uv.background.uniforms),vertexShader:uv.background.vertexShader,fragmentShader:uv.background.fragmentShader,side:Wl,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&d===p.version&&h===e.toneMapping||(o.material.needsUpdate=!0,c=p,d=p.version,h=e.toneMapping),o.layers.enableAll(),n.unshift(o,o.geometry,o.material,0,0,null))}}}function dv(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null),u=l,c=!1;function d(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function x(){b(),c=!0,u!==l&&d((u=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,x,b){var w=!1;if(o){var _=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(x,h,l);u!==_&&d((u=_).object),w=function(e,t,n,r){var i=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l],d=a[l];if(void 0===d&&("instanceMatrix"===l&&e.instanceMatrix&&(d=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(d=e.instanceColor)),void 0===c)return!0;if(c.attribute!==d)return!0;if(d&&c.data!==d.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(i,x,h,b),w&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var d={};d.attribute=c,c&&c.data&&(d.data=c.data),i[l]=d,o++}}u.attributes=i,u.attributesNum=o,u.index=r}(i,x,h,b)}else{var S=!0===l.wireframe;u.geometry===x.id&&u.program===h.id&&u.wireframe===S||(u.geometry=x.id,u.program=h.id,u.wireframe=S,w=!0)}null!==b&&n.update(b,34963),(w||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var d in u){var h=u[d];if(h.location>=0){var f=l[d];if(void 0===f&&("instanceMatrix"===d&&i.instanceMatrix&&(f=i.instanceMatrix),"instanceColor"===d&&i.instanceColor&&(f=i.instanceColor)),void 0!==f){var x=f.normalized,b=f.itemSize,w=n.get(f);if(void 0===w)continue;var _=w.buffer,S=w.type,M=w.bytesPerElement;if(f.isInterleavedBufferAttribute){var k=f.data,T=k.stride,E=f.offset;if(k.isInstancedInterleavedBuffer){for(var A=0;A<h.locationSize;A++)m(h.location+A,k.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=k.meshPerAttribute*k.count)}else for(var C=0;C<h.locationSize;C++)v(h.location+C);e.bindBuffer(34962,_);for(var P=0;P<h.locationSize;P++)y(h.location+P,b/h.locationSize,S,x,T*M,(E+b/h.locationSize*P)*M)}else{if(f.isInstancedBufferAttribute){for(var R=0;R<h.locationSize;R++)m(h.location+R,f.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=f.meshPerAttribute*f.count)}else for(var L=0;L<h.locationSize;L++)v(h.location+L);e.bindBuffer(34962,_);for(var I=0;I<h.locationSize;I++)y(h.location+I,b/h.locationSize,S,x,b*M,b/h.locationSize*I*M)}}else if(void 0!==c){var N=c[d];if(void 0!==N)switch(N.length){case 2:e.vertexAttrib2fv(h.location,N);break;case 3:e.vertexAttrib3fv(h.location,N);break;case 4:e.vertexAttrib4fv(h.location,N);break;default:e.vertexAttrib1fv(h.location,N)}}}}g()}(i,l,h,x),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:x,resetDefaultState:b,dispose:function(){for(var e in x(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)h(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function hv(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}}}function fv(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),d=e.getParameter(35660),h=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),y=d>0,x=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:x,floatVertexTextures:y&&x,maxSamples:a?e.getParameter(36183):0}}function pv(e){var t=this,n=null,r=0,i=!1,a=!1,o=new ev,s=new oh,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var h=0,f=r;h!==a;++h,f+=4)o.copy(e[h]).applyMatrix4(d,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,u()},this.setState=function(t,o,s){var d=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===d||0===d.length||a&&!f)a?c(null):u();else{var v=a?0:r,m=4*v,g=p.clippingState||null;l.value=g,g=c(d,o,m,s);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=v}}}function vv(e){var t=new WeakMap;function n(e,t){return t===Du?e.mapping=Nu:t===Ou&&(e.mapping=zu),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Du||a===Ou){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Zp(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}uv.physical={uniforms:Hp([uv.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ah(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new _h(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ah},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new _h(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new _h(1,1,1)},specularColorMap:{value:null}}]),vertexShader:sv.meshphysical_vert,fragmentShader:sv.meshphysical_frag};var mv=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return de(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Wp),gv=[.125,.215,.35,.446,.526,.582],yv=20,xv=new mv,bv=new _h,wv=null,_v=(1+Math.sqrt(5))/2,Sv=1/_v,Mv=[new Dh(1,1,1),new Dh(-1,1,1),new Dh(1,1,-1),new Dh(-1,1,-1),new Dh(0,_v,Sv),new Dh(0,_v,-Sv),new Dh(Sv,0,_v),new Dh(-Sv,0,_v),new Dh(_v,Sv,0),new Dh(-_v,Sv,0)],kv=function(){function e(t){de(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return fe(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;wv=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Cv(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Av(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(wv),e.scissorTest=!1,Ev(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Nu||e.mapping===zu?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),wv=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Xu,minFilter:Xu,generateMipmaps:!1,type:ac,format:dc,encoding:sd,depthBuffer:!1},r=Tv(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Tv(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+gv.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>e-4?l=gv[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,d=1+u,h=[c,c,d,c,d,d,c,c,d,d,c,d],f=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*f),x=new Float32Array(m*p*f),b=new Float32Array(g*p*f),w=0;w<f;w++){var _=w%3*2/3-1,S=w>2?0:-1,M=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];y.set(M,v*p*w),x.set(h,m*p*w);var k=[w,w,w,w,w,w];b.set(k,g*p*w)}var T=new bp;T.setAttribute("position",new np(y,v)),T.setAttribute("uv",new np(x,m)),T.setAttribute("faceIndex",new np(b,g)),t.push(T),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(yv),i=new Dh(0,1,0);return new Gp({name:"SphericalGaussianBlur",defines:{n:yv,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:Yl,depthTest:!1,depthWrite:!1})}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new Fp(this._lodPlanes[0],e);this._renderer.compile(t,xv)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new qp(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(bv),s.toneMapping=Eu,s.autoClear=!1;var c=new $f({name:"PMREM.Background",side:ql,depthWrite:!1,depthTest:!1}),d=new Fp(new Bp,c),h=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,h=!0):(c.color.copy(bv),h=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;Ev(r,v*m,p>2?m:0,m,m),s.setRenderTarget(r),h&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Nu||e.mapping===zu;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Cv()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Av());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new Fp(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Ev(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,xv)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Mv[(r-1)%Mv.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new Fp(this._lodPlanes[r],l),c=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):yv;p>yv&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(yv));for(var v=[],m=0,g=0;g<yv;++g){var y=g/f,x=Math.exp(-y*y/2);v.push(x),0===g?m+=x:g<p&&(m+=2*x)}for(var b=0;b<v.length;b++)v[b]=v[b]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var w=this._lodMax;c.dTheta.value=h,c.mipInt.value=w-n;var _=this._sizeLods[r];Ev(t,3*_*(r>w-4?r-w+4:0),4*(this._cubeSize-_),3*_,2*_),s.setRenderTarget(t),s.render(u,xv)}}]),e}();function Tv(e,t,n){var r=new Ch(e,t,n);return r.texture.mapping=Fu,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ev(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Av(){return new Gp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:Yl,depthTest:!1,depthWrite:!1})}function Cv(){return new Gp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:Yl,depthTest:!1,depthWrite:!1})}function Pv(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Du||a===Ou,s=a===Nu||a===zu;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new kv(e)),l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){null===n&&(n=new kv(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Rv(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Lv(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete i[s.id];var u=a.get(s);u&&(t.remove(u),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],h=s[l+2];n.push(c,d,d,h,h,c)}}else{var f=i.array;o=i.version;for(var p=0,v=f.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var x=new(sh(n)?up:sp)(n,1);x.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,x)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Iv(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](i,l,a,r*o,u),n.update(l,i,u)}}}function Nv(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function zv(e,t){return e[0]-t[0]}function Dv(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ov(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Ah,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,d){var h=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0,v=a.get(u);if(void 0===v||v.count!==p){void 0!==v&&v.texture.dispose();var m=void 0!==u.morphAttributes.position,g=void 0!==u.morphAttributes.normal,y=void 0!==u.morphAttributes.color,x=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],w=u.morphAttributes.color||[],_=0;!0===m&&(_=1),!0===g&&(_=2),!0===y&&(_=3);var S=u.attributes.position.count*_,M=1;S>t.maxTextureSize&&(M=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);var k=new Float32Array(S*M*4*p),T=new Ph(k,S,M,p);T.type=ic,T.needsUpdate=!0;for(var E=4*_,A=0;A<p;A++)for(var C=x[A],P=b[A],R=w[A],L=S*M*4*A,I=0;I<C.count;I++){var N=I*E;!0===m&&(o.fromBufferAttribute(C,I),k[L+N+0]=o.x,k[L+N+1]=o.y,k[L+N+2]=o.z,k[L+N+3]=0),!0===g&&(o.fromBufferAttribute(P,I),k[L+N+4]=o.x,k[L+N+5]=o.y,k[L+N+6]=o.z,k[L+N+7]=0),!0===y&&(o.fromBufferAttribute(R,I),k[L+N+8]=o.x,k[L+N+9]=o.y,k[L+N+10]=o.z,k[L+N+11]=4===R.itemSize?o.w:1)}v={count:p,texture:T,size:new ah(S,M)},a.set(u,v),u.addEventListener("dispose",(function e(){T.dispose(),a.delete(u),u.removeEventListener("dispose",e)}))}for(var z=0,D=0;D<h.length;D++)z+=h[D];var O=u.morphTargetsRelative?1:1-z;d.getUniforms().setValue(e,"morphTargetBaseInfluence",O),d.getUniforms().setValue(e,"morphTargetInfluences",h),d.getUniforms().setValue(e,"morphTargetsTexture",v.texture,n),d.getUniforms().setValue(e,"morphTargetsTextureSize",v.size)}else{var F=void 0===h?0:h.length,U=r[u.id];if(void 0===U||U.length!==F){U=[];for(var B=0;B<F;B++)U[B]=[B,0];r[u.id]=U}for(var j=0;j<F;j++){var H=U[j];H[0]=j,H[1]=h[j]}U.sort(Dv);for(var V=0;V<8;V++)V<F&&U[V][1]?(s[V][0]=U[V][0],s[V][1]=U[V][1]):(s[V][0]=Number.MAX_SAFE_INTEGER,s[V][1]=0);s.sort(zv);for(var G=u.morphAttributes.position,W=u.morphAttributes.normal,q=0,X=0;X<8;X++){var Y=s[X],K=Y[0],Z=Y[1];K!==Number.MAX_SAFE_INTEGER&&Z?(G&&u.getAttribute("morphTarget"+X)!==G[K]&&u.setAttribute("morphTarget"+X,G[K]),W&&u.getAttribute("morphNormal"+X)!==W[K]&&u.setAttribute("morphNormal"+X,W[K]),i[X]=Z,q+=Z):(G&&!0===u.hasAttribute("morphTarget"+X)&&u.deleteAttribute("morphTarget"+X),W&&!0===u.hasAttribute("morphNormal"+X)&&u.deleteAttribute("morphNormal"+X),i[X]=0)}var J=u.morphTargetsRelative?1:1-q;d.getUniforms().setValue(e,"morphTargetBaseInfluence",J),d.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Fv(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}var Uv=new Eh,Bv=new Ph,jv=new Lh,Hv=new Kp,Vv=[],Gv=[],Wv=new Float32Array(16),qv=new Float32Array(9),Xv=new Float32Array(4);function Yv(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Vv[i];if(void 0===a&&(a=new Float32Array(i),Vv[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Kv(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Zv(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Jv(e,t){var n=Gv[t];void 0===n&&(n=new Int32Array(t),Gv[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Qv(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function $v(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kv(n,t))return;e.uniform2fv(this.addr,t),Zv(n,t)}}function em(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Kv(n,t))return;e.uniform3fv(this.addr,t),Zv(n,t)}}function tm(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kv(n,t))return;e.uniform4fv(this.addr,t),Zv(n,t)}}function nm(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kv(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Zv(n,t)}else{if(Kv(n,r))return;Xv.set(r),e.uniformMatrix2fv(this.addr,!1,Xv),Zv(n,r)}}function rm(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kv(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Zv(n,t)}else{if(Kv(n,r))return;qv.set(r),e.uniformMatrix3fv(this.addr,!1,qv),Zv(n,r)}}function im(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kv(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Zv(n,t)}else{if(Kv(n,r))return;Wv.set(r),e.uniformMatrix4fv(this.addr,!1,Wv),Zv(n,r)}}function am(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function om(e,t){var n=this.cache;Kv(n,t)||(e.uniform2iv(this.addr,t),Zv(n,t))}function sm(e,t){var n=this.cache;Kv(n,t)||(e.uniform3iv(this.addr,t),Zv(n,t))}function lm(e,t){var n=this.cache;Kv(n,t)||(e.uniform4iv(this.addr,t),Zv(n,t))}function um(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function cm(e,t){var n=this.cache;Kv(n,t)||(e.uniform2uiv(this.addr,t),Zv(n,t))}function dm(e,t){var n=this.cache;Kv(n,t)||(e.uniform3uiv(this.addr,t),Zv(n,t))}function hm(e,t){var n=this.cache;Kv(n,t)||(e.uniform4uiv(this.addr,t),Zv(n,t))}function fm(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Uv,i)}function pm(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||jv,i)}function vm(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Hv,i)}function mm(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Bv,i)}function gm(e,t){e.uniform1fv(this.addr,t)}function ym(e,t){var n=Yv(t,this.size,2);e.uniform2fv(this.addr,n)}function xm(e,t){var n=Yv(t,this.size,3);e.uniform3fv(this.addr,n)}function bm(e,t){var n=Yv(t,this.size,4);e.uniform4fv(this.addr,n)}function wm(e,t){var n=Yv(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function _m(e,t){var n=Yv(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Sm(e,t){var n=Yv(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Mm(e,t){e.uniform1iv(this.addr,t)}function km(e,t){e.uniform2iv(this.addr,t)}function Tm(e,t){e.uniform3iv(this.addr,t)}function Em(e,t){e.uniform4iv(this.addr,t)}function Am(e,t){e.uniform1uiv(this.addr,t)}function Cm(e,t){e.uniform2uiv(this.addr,t)}function Pm(e,t){e.uniform3uiv(this.addr,t)}function Rm(e,t){e.uniform4uiv(this.addr,t)}function Lm(e,t,n){var r=t.length,i=Jv(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2D(t[a]||Uv,i[a])}function Im(e,t,n){var r=t.length,i=Jv(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture3D(t[a]||jv,i[a])}function Nm(e,t,n){var r=t.length,i=Jv(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTextureCube(t[a]||Hv,i[a])}function zm(e,t,n){var r=t.length,i=Jv(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2DArray(t[a]||Bv,i[a])}var Dm=fe((function e(t,n,r){de(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Qv;case 35664:return $v;case 35665:return em;case 35666:return tm;case 35674:return nm;case 35675:return rm;case 35676:return im;case 5124:case 35670:return am;case 35667:case 35671:return om;case 35668:case 35672:return sm;case 35669:case 35673:return lm;case 5125:return um;case 36294:return cm;case 36295:return dm;case 36296:return hm;case 35678:case 36198:case 36298:case 36306:case 35682:return fm;case 35679:case 36299:case 36307:return pm;case 35680:case 36300:case 36308:case 36293:return vm;case 36289:case 36303:case 36311:case 36292:return mm}}(n.type)})),Om=fe((function e(t,n,r){de(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return gm;case 35664:return ym;case 35665:return xm;case 35666:return bm;case 35674:return wm;case 35675:return _m;case 35676:return Sm;case 5124:case 35670:return Mm;case 35667:case 35671:return km;case 35668:case 35672:return Tm;case 35669:case 35673:return Em;case 5125:return Am;case 36294:return Cm;case 36295:return Pm;case 36296:return Rm;case 35678:case 36198:case 36298:case 36306:case 35682:return Lm;case 35679:case 36299:case 36307:return Im;case 35680:case 36300:case 36308:case 36293:return Nm;case 36289:case 36303:case 36311:case 36292:return zm}}(n.type)})),Fm=function(){function e(t){de(this,e),this.id=t,this.seq=[],this.map={}}return fe(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),Um=/(\w+)(\])?(\[|\.)?/g;function Bm(e,t){e.seq.push(t),e.map[t.id]=t}function jm(e,t,n){var r=e.name,i=r.length;for(Um.lastIndex=0;;){var a=Um.exec(r),o=Um.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){Bm(n,void 0===u?new Dm(s,e,t):new Om(s,e,t));break}var c=n.map[s];void 0===c&&Bm(n,c=new Fm(s)),n=c}}var Hm=function(){function e(t,n){de(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,35718),i=0;i<r;++i){var a=t.getActiveUniform(n,i);jm(a,t.getUniformLocation(n,a.name),this)}}return fe(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function Vm(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Gm=0;function Wm(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function qm(e,t){var n=function(e){switch(e){case sd:return["Linear","( value )"];case ld:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Xm(e,t){var n;switch(t){case Au:n="Linear";break;case Cu:n="Reinhard";break;case Pu:n="OptimizedCineon";break;case Ru:n="ACESFilmic";break;case Lu:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ym(e){return""!==e}function Km(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Zm(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Jm=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qm(e){return e.replace(Jm,$m)}function $m(e,t){var n=sv[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Qm(n)}var eg=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tg(e){return e.replace(eg,ng)}function ng(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function rg(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ig(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Hl?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Vl?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Gl&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Nu:case zu:t="ENVMAP_TYPE_CUBE";break;case Fu:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===zu&&(t="ENVMAP_MODE_REFRACTION");return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Mu:t="ENVMAP_BLENDING_MULTIPLY";break;case ku:t="ENVMAP_BLENDING_MIX";break;case Tu:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ym).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(Ym).join("\n")).length>0&&(i+="\n"),(a=[v,m].filter(Ym).join("\n")).length>0&&(a+="\n")):(i=[rg(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ym).join("\n"),a=[v,rg(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Eu?"#define TONE_MAPPING":"",n.toneMapping!==Eu?sv.tonemapping_pars_fragment:"",n.toneMapping!==Eu?Xm("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",sv.encodings_pars_fragment,qm("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ym).join("\n")),l=Zm(l=Km(l=Qm(l),n),n),u=Zm(u=Km(u=Qm(u),n),n),l=tg(l),u=tg(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Hd?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Hd?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var x,b,w=y+a+u,_=Vm(o,35633,y+i+l),S=Vm(o,35632,w);if(o.attachShader(g,_),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var M=o.getProgramInfoLog(g).trim(),k=o.getShaderInfoLog(_).trim(),T=o.getShaderInfoLog(S).trim(),E=!0,A=!0;if(!1===o.getProgramParameter(g,35714)){E=!1;var C=Wm(o,_,"vertex"),P=Wm(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+M+"\n"+C+"\n"+P)}else""!==M?console.warn("THREE.WebGLProgram: Program Info Log:",M):""!==k&&""!==T||(A=!1);A&&(this.diagnostics={runnable:E,programLog:M,vertexShader:{log:k,prefix:i},fragmentShader:{log:T,prefix:a}})}return o.deleteShader(_),o.deleteShader(S),this.getUniforms=function(){return void 0===x&&(x=new Hm(o,g)),x},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Gm++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=_,this.fragmentShader=S,this}var ag=0,og=function(){function e(){de(this,e),this.shaderCache=new Map,this.materialCache=new Map}return fe(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=oe(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new sg(e),t.set(e,n)),n}}]),e}(),sg=fe((function e(t){de(this,e),this.id=ag++,this.code=t,this.usedTimes=0}));function lg(e,t,n,r,i,a,o){var s=new kf,l=new og,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,u,v,m){var g=v.fog,y=m.geometry,x=a.isMeshStandardMaterial?v.environment:null,b=(a.isMeshStandardMaterial?n:t).get(a.envMap||x),w=b&&b.mapping===Fu?b.image.height:null,_=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead.");var S,M,k,T,E=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,A=void 0!==E?E.length:0,C=0;if(void 0!==y.morphAttributes.position&&(C=1),void 0!==y.morphAttributes.normal&&(C=2),void 0!==y.morphAttributes.color&&(C=3),_){var P=uv[_];S=P.vertexShader,M=P.fragmentShader}else S=a.vertexShader,M=a.fragmentShader,l.update(a),k=l.getVertexShaderID(a),T=l.getFragmentShaderID(a);var R=e.getRenderTarget(),L=a.alphaTest>0,I=a.clearcoat>0,N=a.iridescence>0;return{isWebGL2:c,shaderID:_,shaderName:a.type,vertexShader:S,fragmentShader:M,defines:a.defines,customVertexShaderID:k,customFragmentShaderID:T,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:h,outputEncoding:null===R?e.outputEncoding:!0===R.isXRRenderTarget?R.texture.encoding:sd,map:!!a.map,matcap:!!a.matcap,envMap:!!b,envMapMode:b&&b.mapping,envMapCubeUVHeight:w,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===hd,tangentSpaceNormalMap:a.normalMapType===dd,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===ld,clearcoat:I,clearcoatMap:I&&!!a.clearcoatMap,clearcoatRoughnessMap:I&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:I&&!!a.clearcoatNormalMap,iridescence:N,iridescenceMap:N&&!!a.iridescenceMap,iridescenceThicknessMap:N&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===Kl,alphaMap:!!a.alphaMap,alphaTest:L,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!g,useFog:!0===a.fog,fogExp2:g&&g.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:A,morphTextureStride:C,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Eu,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===Xl,flipSided:a.side===ql,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.iridescence&&s.enable(18);t.iridescenceMap&&s.enable(19);t.iridescenceThicknessMap&&s.enable(20);t.displacementMap&&s.enable(21);t.specularMap&&s.enable(22);t.roughnessMap&&s.enable(23);t.metalnessMap&&s.enable(24);t.gradientMap&&s.enable(25);t.alphaMap&&s.enable(26);t.alphaTest&&s.enable(27);t.vertexColors&&s.enable(28);t.vertexAlphas&&s.enable(29);t.vertexUvs&&s.enable(30);t.vertexTangents&&s.enable(31);t.uvsVertexOnly&&s.enable(32);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=uv[n];t=Vp.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=u.length;i<o;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new ig(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function ug(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function cg(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function dg(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function hg(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||cg),r.length>1&&r.sort(t||dg),i.length>1&&i.sort(t||dg)}}}function fg(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new hg,e.set(t,[r])):n>=i.length?(r=new hg,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function pg(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Dh,color:new _h};break;case"SpotLight":n={position:new Dh,direction:new Dh,color:new _h,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Dh,color:new _h,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Dh,skyColor:new _h,groundColor:new _h};break;case"RectAreaLight":n={color:new _h,position:new Dh,halfWidth:new Dh,halfHeight:new Dh}}return e[t.id]=n,n}}}var vg=0;function mg(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function gg(e,t){for(var n=new pg,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ah};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ah,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new Dh);var o=new Dh,s=new pf,l=new pf;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var d=0,h=0,f=0,p=0,v=0,m=0,g=0,y=0,x=0,b=0;a.sort(mg);for(var w=!0!==o?Math.PI:1,_=0,S=a.length;_<S;_++){var M=a[_],k=M.color,T=M.intensity,E=M.distance,A=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)s+=k.r*T*w,l+=k.g*T*w,u+=k.b*T*w;else if(M.isLightProbe)for(var C=0;C<9;C++)i.probe[C].addScaledVector(M.sh.coefficients[C],T);else if(M.isDirectionalLight){var P=n.get(M);if(P.color.copy(M.color).multiplyScalar(M.intensity*w),M.castShadow){var R=M.shadow,L=r.get(M);L.shadowBias=R.bias,L.shadowNormalBias=R.normalBias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,i.directionalShadow[d]=L,i.directionalShadowMap[d]=A,i.directionalShadowMatrix[d]=M.shadow.matrix,m++}i.directional[d]=P,d++}else if(M.isSpotLight){var I=n.get(M);I.position.setFromMatrixPosition(M.matrixWorld),I.color.copy(k).multiplyScalar(T*w),I.distance=E,I.coneCos=Math.cos(M.angle),I.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),I.decay=M.decay,i.spot[f]=I;var N=M.shadow;if(M.map&&(i.spotLightMap[x]=M.map,x++,N.updateMatrices(M),M.castShadow&&b++),i.spotLightMatrix[f]=N.matrix,M.castShadow){var z=r.get(M);z.shadowBias=N.bias,z.shadowNormalBias=N.normalBias,z.shadowRadius=N.radius,z.shadowMapSize=N.mapSize,i.spotShadow[f]=z,i.spotShadowMap[f]=A,y++}f++}else if(M.isRectAreaLight){var D=n.get(M);D.color.copy(k).multiplyScalar(T),D.halfWidth.set(.5*M.width,0,0),D.halfHeight.set(0,.5*M.height,0),i.rectArea[p]=D,p++}else if(M.isPointLight){var O=n.get(M);if(O.color.copy(M.color).multiplyScalar(M.intensity*w),O.distance=M.distance,O.decay=M.decay,M.castShadow){var F=M.shadow,U=r.get(M);U.shadowBias=F.bias,U.shadowNormalBias=F.normalBias,U.shadowRadius=F.radius,U.shadowMapSize=F.mapSize,U.shadowCameraNear=F.camera.near,U.shadowCameraFar=F.camera.far,i.pointShadow[h]=U,i.pointShadowMap[h]=A,i.pointShadowMatrix[h]=M.shadow.matrix,g++}i.point[h]=O,h++}else if(M.isHemisphereLight){var B=n.get(M);B.skyColor.copy(M.color).multiplyScalar(T*w),B.groundColor.copy(M.groundColor).multiplyScalar(T*w),i.hemi[v]=B,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=lv.LTC_FLOAT_1,i.rectAreaLTC2=lv.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=lv.LTC_HALF_1,i.rectAreaLTC2=lv.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var j=i.hash;j.directionalLength===d&&j.pointLength===h&&j.spotLength===f&&j.rectAreaLength===p&&j.hemiLength===v&&j.numDirectionalShadows===m&&j.numPointShadows===g&&j.numSpotShadows===y&&j.numSpotMaps===x||(i.directional.length=d,i.spot.length=f,i.rectArea.length=p,i.point.length=h,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+x-b,i.spotLightMap.length=x,i.numSpotLightShadowsWithMaps=b,j.directionalLength=d,j.pointLength=h,j.spotLength=f,j.rectAreaLength=p,j.hemiLength=v,j.numDirectionalShadows=m,j.numPointShadows=g,j.numSpotShadows=y,j.numSpotMaps=x,i.version=vg++)},setupView:function(e,t){for(var n=0,r=0,a=0,u=0,c=0,d=t.matrixWorldInverse,h=0,f=e.length;h<f;h++){var p=e[h];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(d),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(d),a++}else if(p.isRectAreaLight){var g=i.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(d),l.identity(),s.copy(p.matrixWorld),s.premultiply(d),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(d),r++}else if(p.isHemisphereLight){var x=i.hemi[c];x.direction.setFromMatrixPosition(p.matrixWorld),x.direction.transformDirection(d),c++}}},state:i}}function yg(e,t){var n=new gg(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function xg(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new yg(e,t),n.set(r,[i])):a>=o.length?(i=new yg(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var bg=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=ud,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Qf),wg=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.referencePosition=new Dh,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Qf);function _g(e,t,n){var r=new rv,i=new ah,a=new ah,o=new Ah,s=new bg({depthPacking:cd}),l=new wg,u={},c=n.maxTextureSize,d={0:ql,1:Wl,2:Xl},h=new Gp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ah},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;var p=new bp;p.setAttribute("position",new np(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new Fp(p,h),m=this;function g(n,r){var a=t.update(v);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Ch(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,v,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,v,null)}function y(t,n,r,i,a,o){var c=null,h=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==h?h:!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){var f=c.uuid,p=n.uuid,v=u[f];void 0===v&&(v={},u[f]=v);var m=v[p];void 0===m&&(m=c.clone(),v[p]=m),c=m}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=o===Gl?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=a),c}function x(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===Gl)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,d=0,h=c.length;d<h;d++){var f=c[d],p=u[f.materialIndex];if(p&&p.visible){var v=y(n,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,v,n,f)}}else if(u.visible){var m=y(n,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var g=n.children,b=0,w=g.length;b<w;b++)x(g[b],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Hl,this.render=function(t,n,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(Yl),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var v=t[f],y=v.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),a.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/b.x),i.x=a.x*b.x,y.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/b.y),i.y=a.y*b.y,y.mapSize.y=a.y)),null===y.map){var w=this.type!==Gl?{minFilter:Hu,magFilter:Hu}:{};y.map=new Ch(i.x,i.y,w),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var _=y.getViewportCount(),S=0;S<_;S++){var M=y.getViewport(S);o.set(a.x*M.x,a.y*M.y,a.x*M.z,a.y*M.w),h.viewport(o),y.updateMatrices(v,S),r=y.getFrustum(),x(n,s,y.camera,v,this.type)}!0!==y.isPointLightShadow&&this.type===Gl&&g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(l,u,d)}}}function Sg(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new Ah,r=null,i=new Ah(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?H(2929):V(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case mu:e.depthFunc(512);break;case gu:e.depthFunc(519);break;case yu:e.depthFunc(513);break;case xu:e.depthFunc(515);break;case bu:e.depthFunc(514);break;case wu:e.depthFunc(518);break;case _u:e.depthFunc(516);break;case Su:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?H(2960):V(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},u=new WeakMap,c=new WeakMap,d={},h={},f=new WeakMap,p=[],v=null,m=!1,g=null,y=null,x=null,b=null,w=null,_=null,S=null,M=!1,k=null,T=null,E=null,A=null,C=null,P=e.getParameter(35661),R=!1,L=0,I=e.getParameter(7938);-1!==I.indexOf("WebGL")?(L=parseFloat(/^WebGL (\d)/.exec(I)[1]),R=L>=1):-1!==I.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),R=L>=2);var N=null,z={},D=e.getParameter(3088),O=e.getParameter(2978),F=(new Ah).fromArray(D),U=(new Ah).fromArray(O);function B(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var j={};function H(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function V(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}j[3553]=B(3553,3553,1),j[34067]=B(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),H(2929),s.setFunc(xu),K(!1),Z(Fl),H(2884),Y(Yl);var G=(W(r={},eu,32774),W(r,tu,32778),W(r,nu,32779),r);if(a)G[ru]=32775,G[iu]=32776;else{var q=t.get("EXT_blend_minmax");null!==q&&(G[ru]=q.MIN_EXT,G[iu]=q.MAX_EXT)}var X=(W(i={},au,0),W(i,ou,1),W(i,su,768),W(i,uu,770),W(i,vu,776),W(i,fu,774),W(i,du,772),W(i,lu,769),W(i,cu,771),W(i,pu,775),W(i,hu,773),i);function Y(t,n,r,i,a,o,s,l){if(t!==Yl){if(!1===m&&(H(3042),m=!0),t===$l)a=a||n,o=o||r,s=s||i,n===y&&a===w||(e.blendEquationSeparate(G[n],G[a]),y=n,w=a),r===x&&i===b&&o===_&&s===S||(e.blendFuncSeparate(X[r],X[i],X[o],X[s]),x=r,b=i,_=o,S=s),g=t,M=null;else if(t!==g||l!==M){if(y===eu&&w===eu||(e.blendEquation(32774),y=eu,w=eu),l)switch(t){case Kl:e.blendFuncSeparate(1,771,1,771);break;case Zl:e.blendFunc(1,1);break;case Jl:e.blendFuncSeparate(0,769,0,1);break;case Ql:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Kl:e.blendFuncSeparate(770,771,1,771);break;case Zl:e.blendFunc(770,1);break;case Jl:e.blendFuncSeparate(0,769,0,1);break;case Ql:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}x=null,b=null,_=null,S=null,g=t,M=l}}else!0===m&&(V(3042),m=!1)}function K(t){k!==t&&(t?e.frontFace(2304):e.frontFace(2305),k=t)}function Z(t){t!==Ol?(H(2884),t!==T&&(t===Fl?e.cullFace(1029):t===Ul?e.cullFace(1028):e.cullFace(1032))):V(2884),T=t}function J(t,n,r){t?(H(32823),A===n&&C===r||(e.polygonOffset(n,r),A=n,C=r)):V(32823)}function Q(t){void 0===t&&(t=33984+P-1),N!==t&&(e.activeTexture(t),N=t)}return{buffers:{color:o,depth:s,stencil:l},enable:H,disable:V,bindFramebuffer:function(t,n){return h[t]!==n&&(e.bindFramebuffer(t,n),h[t]=n,a&&(36009===t&&(h[36160]=n),36160===t&&(h[36009]=n)),!0)},drawBuffers:function(r,i){var a=p,o=!1;if(r)if(void 0===(a=f.get(i))&&(a=[],f.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||36064!==a[0]){for(var l=0,u=s.length;l<u;l++)a[l]=36064+l;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:Y,setMaterial:function(e,t){e.side===Xl?V(2884):H(2884);var n=e.side===ql;t&&(n=!n),K(n),e.blending===Kl&&!1===e.transparent?Y(Yl):Y(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),J(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?H(32926):V(32926)},setFlipSided:K,setCullFace:Z,setLineWidth:function(t){t!==E&&(R&&e.lineWidth(t),E=t)},setPolygonOffset:J,setScissorTest:function(e){e?H(3089):V(3089)},activeTexture:Q,bindTexture:function(t,n){null===N&&Q();var r=z[N];void 0===r&&(r={type:void 0,texture:void 0},z[N]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||j[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=z[N];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);u.get(t)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),u.set(t,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===F.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),F.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},N=null,z={},h={},f=new WeakMap,p=[],v=null,m=!1,g=null,y=null,x=null,b=null,w=null,_=null,S=null,M=!1,k=null,T=null,E=null,A=null,C=null,F.set(0,0,e.canvas.width,e.canvas.height),U.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),l.reset()}}}function Mg(e,t,n,r,i,a,o){var s,l,u,c=i.isWebGL2,d=i.maxTextures,h=i.maxCubemapSize,f=i.maxTextureSize,p=i.maxSamples,v=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,y=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(G){}function b(e,t){return x?new OffscreenCanvas(e,t):ch("canvas")}function w(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?th:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===u&&(u=b(o,s));var l=n?b(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return $d(e.width)&&$d(e.height)}function S(e,t){return e.generateMipmaps&&t&&e.minFilter!==Hu&&e.minFilter!==Xu}function M(t){e.generateMipmap(t)}function k(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===ld&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function T(e,t,n){return!0===S(e,n)||e.isFramebufferTexture&&e.minFilter!==Hu&&e.minFilter!==Xu?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function E(e){return e===Hu||e===Vu||e===Wu?9728:9729}function A(e){var t=e.target;t.removeEventListener("dispose",A),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=y.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&P(e),0===Object.keys(i).length&&y.delete(n)}r.remove(e)}(t),t.isVideoTexture&&g.delete(t)}function C(t){var n=t.target;n.removeEventListener("dispose",C),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var l=0;l<i.__webglColorRenderbuffer.length;l++)i.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[l]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var d=r.get(n[u]);d.__webglTexture&&(e.deleteTexture(d.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}function P(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete y.get(i)[n.__cacheKey],o.memory.textures--}var R=0;function L(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;g.get(e)!==t&&(g.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void O(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}var I=(W(s={},Uu,10497),W(s,Bu,33071),W(s,ju,33648),s),N=(W(l={},Hu,9728),W(l,Vu,9984),W(l,Wu,9986),W(l,Xu,9729),W(l,Yu,9985),W(l,Zu,9987),l);function z(n,a,o){if(o?(e.texParameteri(n,10242,I[a.wrapS]),e.texParameteri(n,10243,I[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,I[a.wrapR]),e.texParameteri(n,10240,N[a.magFilter]),e.texParameteri(n,10241,N[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===Bu&&a.wrapT===Bu||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,E(a.magFilter)),e.texParameteri(n,10241,E(a.minFilter)),a.minFilter!==Hu&&a.minFilter!==Xu&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.type===ic&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===ac&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function D(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",A));var i=n.source,a=y.get(i);void 0===a&&(a={},y.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&P(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function O(t,r,i){var o=3553;r.isDataArrayTexture&&(o=35866),r.isData3DTexture&&(o=32879);var s=D(t,r),l=r.source;if(n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),l.version!==l.__currentVersion||!0===s){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var u,d=function(e){return!c&&(e.wrapS!==Bu||e.wrapT!==Bu||e.minFilter!==Hu&&e.minFilter!==Xu)}(r)&&!1===_(r.image),h=w(r.image,d,!1,f),p=_(h=V(r,h))||c,v=a.convert(r.format,r.encoding),m=a.convert(r.type),g=k(r.internalFormat,v,m,r.encoding,r.isVideoTexture);z(o,r,p);var y=r.mipmaps,x=c&&!0!==r.isVideoTexture,b=void 0===l.__currentVersion||!0===s,E=T(r,h,p);if(r.isDepthTexture)g=6402,c?g=r.type===ic?36012:r.type===rc?33190:r.type===lc?35056:33189:r.type===ic&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===pc&&6402===g&&r.type!==tc&&r.type!==rc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=rc,m=a.convert(r.type)),r.format===vc&&6402===g&&(g=34041,r.type!==lc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=lc,m=a.convert(r.type))),b&&(x?n.texStorage2D(3553,1,g,h.width,h.height):n.texImage2D(3553,0,g,h.width,h.height,0,v,m,null));else if(r.isDataTexture)if(y.length>0&&p){x&&b&&n.texStorage2D(3553,E,g,y[0].width,y[0].height);for(var A=0,C=y.length;A<C;A++)u=y[A],x?n.texSubImage2D(3553,A,0,0,u.width,u.height,v,m,u.data):n.texImage2D(3553,A,g,u.width,u.height,0,v,m,u.data);r.generateMipmaps=!1}else x?(b&&n.texStorage2D(3553,E,g,h.width,h.height),n.texSubImage2D(3553,0,0,0,h.width,h.height,v,m,h.data)):n.texImage2D(3553,0,g,h.width,h.height,0,v,m,h.data);else if(r.isCompressedTexture){x&&b&&n.texStorage2D(3553,E,g,y[0].width,y[0].height);for(var P=0,R=y.length;P<R;P++)u=y[P],r.format!==dc?null!==v?x?n.compressedTexSubImage2D(3553,P,0,0,u.width,u.height,v,u.data):n.compressedTexImage2D(3553,P,g,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?n.texSubImage2D(3553,P,0,0,u.width,u.height,v,m,u.data):n.texImage2D(3553,P,g,u.width,u.height,0,v,m,u.data)}else if(r.isDataArrayTexture)x?(b&&n.texStorage3D(35866,E,g,h.width,h.height,h.depth),n.texSubImage3D(35866,0,0,0,0,h.width,h.height,h.depth,v,m,h.data)):n.texImage3D(35866,0,g,h.width,h.height,h.depth,0,v,m,h.data);else if(r.isData3DTexture)x?(b&&n.texStorage3D(32879,E,g,h.width,h.height,h.depth),n.texSubImage3D(32879,0,0,0,0,h.width,h.height,h.depth,v,m,h.data)):n.texImage3D(32879,0,g,h.width,h.height,h.depth,0,v,m,h.data);else if(r.isFramebufferTexture){if(b)if(x)n.texStorage2D(3553,E,g,h.width,h.height);else for(var L=h.width,I=h.height,N=0;N<E;N++)n.texImage2D(3553,N,g,L,I,0,v,m,null),L>>=1,I>>=1}else if(y.length>0&&p){x&&b&&n.texStorage2D(3553,E,g,y[0].width,y[0].height);for(var O=0,F=y.length;O<F;O++)u=y[O],x?n.texSubImage2D(3553,O,0,0,v,m,u):n.texImage2D(3553,O,g,v,m,u);r.generateMipmaps=!1}else x?(b&&n.texStorage2D(3553,E,g,h.width,h.height),n.texSubImage2D(3553,0,0,0,v,m,h)):n.texImage2D(3553,0,g,v,m,h);S(r,p)&&M(o),l.__currentVersion=l.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function F(t,i,o,s,l){var u=a.convert(o.format,o.encoding),c=a.convert(o.type),d=k(o.internalFormat,u,c,o.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,d,i.width,i.height,0,u,c,null)),n.bindFramebuffer(36160,t),H(i)?v.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,j(i)):e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function U(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||H(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===ic?i=36012:o.type===rc&&(i=33190));var s=j(n);H(n)?v.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=j(n);r&&!1===H(n)?e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):H(n)?v.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var d=u[c],h=a.convert(d.format,d.encoding),f=a.convert(d.type),p=k(d.internalFormat,h,f,d.encoding),m=j(n);r&&!1===H(n)?e.renderbufferStorageMultisample(36161,m,p,n.width,n.height):H(n)?v.renderbufferStorageMultisampleEXT(36161,m,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function B(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),L(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=j(i);if(i.depthTexture.format===pc)H(i)?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==vc)throw new Error("Unknown depthTexture format");H(i)?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),U(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function j(e){return Math.min(p,e.samples)}function H(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Vd||r!==sd&&(r===ld?!1===c?!0===t.has("EXT_sRGB")&&i===dc?(e.format=Vd,e.minFilter=Xu,e.generateMipmaps=!1):n=Sh.sRGBToLinear(n):i===dc&&a===Qu||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=R;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),R+=1,e},this.resetTextureUnits=function(){R=0},this.setTexture2D=L,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?O(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?O(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;var o=D(t,r),s=r.source;if(n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),s.version!==s.__currentVersion||!0===o){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var l=r.isCompressedTexture||r.image[0].isCompressedTexture,u=r.image[0]&&r.image[0].isDataTexture,d=[],f=0;f<6;f++)d[f]=l||u?u?r.image[f].image:r.image[f]:w(r.image[f],!1,!0,h),d[f]=V(r,d[f]);var p,v=d[0],m=_(v)||c,g=a.convert(r.format,r.encoding),y=a.convert(r.type),x=k(r.internalFormat,g,y,r.encoding),b=c&&!0!==r.isVideoTexture,E=void 0===s.__currentVersion||!0===o,A=T(r,v,m);if(z(34067,r,m),l){b&&E&&n.texStorage2D(34067,A,x,v.width,v.height);for(var C=0;C<6;C++){p=d[C].mipmaps;for(var P=0;P<p.length;P++){var R=p[P];r.format!==dc?null!==g?b?n.compressedTexSubImage2D(34069+C,P,0,0,R.width,R.height,g,R.data):n.compressedTexImage2D(34069+C,P,x,R.width,R.height,0,R.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):b?n.texSubImage2D(34069+C,P,0,0,R.width,R.height,g,y,R.data):n.texImage2D(34069+C,P,x,R.width,R.height,0,g,y,R.data)}}}else{p=r.mipmaps,b&&E&&(p.length>0&&A++,n.texStorage2D(34067,A,x,d[0].width,d[0].height));for(var L=0;L<6;L++)if(u){b?n.texSubImage2D(34069+L,0,0,0,d[L].width,d[L].height,g,y,d[L].data):n.texImage2D(34069+L,0,x,d[L].width,d[L].height,0,g,y,d[L].data);for(var I=0;I<p.length;I++){var N=p[I].image[L].image;b?n.texSubImage2D(34069+L,I+1,0,0,N.width,N.height,g,y,N.data):n.texImage2D(34069+L,I+1,x,N.width,N.height,0,g,y,N.data)}}else{b?n.texSubImage2D(34069+L,0,0,0,g,y,d[L]):n.texImage2D(34069+L,0,x,g,y,d[L]);for(var O=0;O<p.length;O++){var F=p[O];b?n.texSubImage2D(34069+L,O+1,0,0,g,y,F.image[L]):n.texImage2D(34069+L,O+1,x,g,y,F.image[L])}}}S(r,m)&&M(34067),s.__currentVersion=s.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}(o,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture))},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&F(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&B(e)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),u=r.get(s);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);var d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=_(t)||c;if(d){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=r.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===H(t)){var x=h?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(var b=0;b<x.length;b++){var w=x[b];l.__webglColorRenderbuffer[b]=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer[b]);var T=a.convert(w.format,w.encoding),E=a.convert(w.type),A=k(w.internalFormat,T,E,w.encoding),P=j(t);e.renderbufferStorageMultisample(36161,P,A,t.width,t.height),e.framebufferRenderbuffer(36160,36064+b,36161,l.__webglColorRenderbuffer[b])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),U(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(d){n.bindTexture(34067,u.__webglTexture),z(34067,s,f);for(var R=0;R<6;R++)F(l.__webglFramebuffer[R],t,s,36064,34069+R);S(s,f)&&M(34067),n.unbindTexture()}else if(h){for(var L=t.texture,I=0,N=L.length;I<N;I++){var D=L[I],O=r.get(D);n.bindTexture(3553,O.__webglTexture),z(3553,D,f),F(l.__webglFramebuffer,t,D,36064+I,3553),S(D,f)&&M(3553)}n.unbindTexture()}else{var V=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?V=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(V,u.__webglTexture),z(V,s,f),F(l.__webglFramebuffer,t,s,36064,V),S(s,f)&&M(V),n.unbindTexture()}t.depthBuffer&&B(t)},this.updateRenderTargetMipmap=function(e){for(var t=_(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(S(s,t)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=r.get(s).__webglTexture;n.bindTexture(l,u),M(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===H(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,l=[],u=t.stencilBuffer?33306:36096,d=r.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(var f=0;f<i.length;f++)n.bindFramebuffer(36160,d.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+f,36161,null),n.bindFramebuffer(36160,d.__webglFramebuffer),e.framebufferTexture2D(36009,36064+f,3553,null,0);n.bindFramebuffer(36008,d.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,d.__webglFramebuffer);for(var p=0;p<i.length;p++){l.push(36064+p),t.depthBuffer&&l.push(u);var v=void 0!==d.__ignoreDepthValues&&d.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),h&&e.framebufferRenderbuffer(36008,36064,36161,d.__webglColorRenderbuffer[p]),!0===v&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),h){var g=r.get(i[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,g,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),m&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),h)for(var y=0;y<i.length;y++){n.bindFramebuffer(36160,d.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+y,36161,d.__webglColorRenderbuffer[y]);var x=r.get(i[y]).__webglTexture;n.bindFramebuffer(36160,d.__webglFramebuffer),e.framebufferTexture2D(36009,36064+y,3553,x,0)}n.bindFramebuffer(36009,d.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=B,this.setupFrameBufferTexture=F,this.useMultisampledRTT=H}function kg(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===Qu)return 5121;if(n===oc)return 32819;if(n===sc)return 32820;if(n===$u)return 5120;if(n===ec)return 5122;if(n===tc)return 5123;if(n===nc)return 5124;if(n===rc)return 5125;if(n===ic)return 5126;if(n===ac)return r?5131:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===uc)return 6406;if(n===dc)return 6408;if(n===hc)return 6409;if(n===fc)return 6410;if(n===pc)return 6402;if(n===vc)return 34041;if(n===mc)return 6403;if(n===cc)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===Vd)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===gc)return 36244;if(n===yc)return 33319;if(n===xc)return 33320;if(n===bc)return 36249;if(n===wc||n===_c||n===Sc||n===Mc)if(a===ld){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===wc)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===_c)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Sc)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Mc)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===wc)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===_c)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Sc)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Mc)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===kc||n===Tc||n===Ec||n===Ac){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===kc)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Tc)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Ec)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ac)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Cc)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Pc||n===Rc){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===Pc)return a===ld?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===Rc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===Lc||n===Ic||n===Nc||n===zc||n===Dc||n===Oc||n===Fc||n===Uc||n===Bc||n===jc||n===Hc||n===Vc||n===Gc||n===Wc){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===Lc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ic)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Nc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===zc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Dc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Oc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Fc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Uc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Bc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===jc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Hc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Vc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Gc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Wc)return a===ld?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===qc){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===qc)return a===ld?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===lc?r?34042:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var Tg=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return de(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return fe(n)}(qp),Eg=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return fe(n)}(Uf),Ag={type:"move"},Cg=function(){function e(){de(this,e),this._targetRay=null,this._grip=null,this._hand=null}return fe(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Eg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Eg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Dh,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Dh),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Eg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Dh,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Dh),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var u,c=oe(e.hand.values());try{for(c.s();!(u=c.n()).done;){var d=u.value,h=t.getJointPose(d,n);if(void 0===l.joints[d.jointName]){var f=new Eg;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[d.jointName]=f,l.add(f)}var p=l.joints[d.jointName];null!==h&&(p.matrix.fromArray(h.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=h.radius),p.visible=null!==h}}catch(y){c.e(y)}finally{c.f()}var v=l.joints["index-finger-tip"],m=l.joints["thumb-tip"],g=v.position.distanceTo(m.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Ag)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}}]),e}(),Pg=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l,u,c,d){var h;if(de(this,n),(d=void 0!==d?d:pc)!==pc&&d!==vc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&d===pc&&(i=rc),void 0===i&&d===vc&&(i=lc),(h=t.call(this,null,a,o,s,l,u,d,i,c)).isDepthTexture=!0,h.image={width:e,height:r},h.magFilter=void 0!==l?l:Hu,h.minFilter=void 0!==u?u:Hu,h.flipY=!1,h.generateMipmaps=!1,h}return fe(n)}(Eh),Rg=function(e){le(n,e);var t=ce(n);function n(e,r){var i;de(this,n);var a=se(i=t.call(this)),o=null,s=1,l=null,u="local-floor",c=null,d=null,h=null,f=null,p=null,v=null,m=r.getContextAttributes(),g=null,y=null,x=[],b=[],w=new qp;w.layers.enable(1),w.viewport=new Ah;var _=new qp;_.layers.enable(2),_.viewport=new Ah;var S=[w,_],M=new Tg;M.layers.enable(1),M.layers.enable(2);var k=null,T=null;function E(e){var t=b.indexOf(e.inputSource);if(-1!==t){var n=x[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function A(){o.removeEventListener("select",E),o.removeEventListener("selectstart",E),o.removeEventListener("selectend",E),o.removeEventListener("squeeze",E),o.removeEventListener("squeezestart",E),o.removeEventListener("squeezeend",E),o.removeEventListener("end",A),o.removeEventListener("inputsourceschange",C);for(var t=0;t<x.length;t++){var n=b[t];null!==n&&(b[t]=null,x[t].disconnect(n))}k=null,T=null,e.setRenderTarget(g),p=null,f=null,h=null,o=null,y=null,N.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function C(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=b.indexOf(n);r>=0&&(b[r]=null,x[r].dispatchEvent({type:"disconnected",data:n}))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=b.indexOf(a);if(-1===o){for(var s=0;s<x.length;s++){if(s>=b.length){b.push(a),o=s;break}if(null===b[s]){b[s]=a,o=s;break}}if(-1===o)break}var l=x[o];l&&l.dispatchEvent({type:"connected",data:a})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=x[e];return void 0===t&&(t=new Cg,x[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=x[e];return void 0===t&&(t=new Cg,x[e]=t),t.getGripSpace()},i.getHand=function(e){var t=x[e];return void 0===t&&(t=new Cg,x[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){u=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return c||l},i.setReferenceSpace=function(e){c=e},i.getBaseLayer=function(){return null!==f?f:p},i.getBinding=function(){return h},i.getFrame=function(){return v},i.getSession=function(){return o},i.setSession=function(){var t=Q(ae().mark((function t(n){var i,d,v,x,b;return ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(g=e.getRenderTarget(),o.addEventListener("select",E),o.addEventListener("selectstart",E),o.addEventListener("selectend",E),o.addEventListener("squeeze",E),o.addEventListener("squeezestart",E),o.addEventListener("squeezeend",E),o.addEventListener("end",A),o.addEventListener("inputsourceschange",C),!0===m.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||m.antialias,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s},p=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:p}),y=new Ch(p.framebufferWidth,p.framebufferHeight,{format:dc,type:Qu,encoding:e.outputEncoding,stencilBuffer:m.stencil})):(d=null,v=null,x=null,m.depth&&(x=m.stencil?35056:33190,d=m.stencil?vc:pc,v=m.stencil?lc:rc),b={colorFormat:32856,depthFormat:x,scaleFactor:s},h=new XRWebGLBinding(o,r),f=h.createProjectionLayer(b),o.updateRenderState({layers:[f]}),y=new Ch(f.textureWidth,f.textureHeight,{format:dc,type:Qu,depthTexture:new Pg(f.textureWidth,f.textureHeight,v,void 0,void 0,void 0,void 0,void 0,void 0,d),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0}),e.properties.get(y).__ignoreDepthValues=f.ignoreDepthValues),y.isXRRenderTarget=!0,this.setFoveation(1),c=null,t.next=20,o.requestReferenceSpace(u);case 20:l=t.sent,N.setContext(o),N.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var P=new Dh,R=new Dh;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){M.near=_.near=w.near=e.near,M.far=_.far=w.far=e.far,k===M.near&&T===M.far||(o.updateRenderState({depthNear:M.near,depthFar:M.far}),k=M.near,T=M.far);var t=e.parent,n=M.cameras;L(M,t);for(var r=0;r<n.length;r++)L(n[r],t);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),e.matrix.copy(M.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var i=e.children,a=0,s=i.length;a<s;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){P.setFromMatrixPosition(t.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);var r=P.distanceTo(R),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*c,f=o*d,p=r/(-c+d),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=s+p,y=h-v,x=f+(r-v),b=l*s/g*m,w=u*s/g*m;e.projectionMatrix.makePerspective(y,x,b,w,m,g)}(M,w,_):M.projectionMatrix.copy(w.projectionMatrix)}},i.getCamera=function(){return M},i.getFoveation=function(){return null!==f?f.fixedFoveation:null!==p?p.fixedFoveation:void 0},i.setFoveation=function(e){null!==f&&(f.fixedFoveation=e),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=e)};var I=null;var N=new iv;return N.setAnimationLoop((function(t,n){if(d=n.getViewerPose(c||l),v=n,null!==d){var r=d.views;null!==p&&(e.setRenderTargetFramebuffer(y,p.framebuffer),e.setRenderTarget(y));var i=!1;r.length!==M.cameras.length&&(M.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var o=r[a],s=null;if(null!==p)s=p.getViewport(o);else{var u=h.getViewSubImage(f,o);s=u.viewport,0===a&&(e.setRenderTargetTextures(y,u.colorTexture,f.ignoreDepthValues?void 0:u.depthStencilTexture),e.setRenderTarget(y))}var m=S[a];void 0===m&&((m=new qp).layers.enable(a),m.viewport=new Ah,S[a]=m),m.matrix.fromArray(o.transform.matrix),m.projectionMatrix.fromArray(o.projectionMatrix),m.viewport.set(s.x,s.y,s.width,s.height),0===a&&M.matrix.copy(m.matrix),!0===i&&M.cameras.push(m)}}for(var g=0;g<x.length;g++){var w=b[g],_=x[g];null!==w&&void 0!==_&&_.update(w,n,c||l)}I&&I(t,n),v=null})),i.setAnimationLoop=function(e){I=e},i.dispose=function(){},i}return fe(n)}(Gd);function Lg(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===ql&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===ql&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var i,a,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*s}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.iridescenceMap?i=r.iridescenceMap:r.iridescenceThicknessMap?i=r.iridescenceThicknessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===ql&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Ig(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){var r=e.value;if(void 0===n[t])return n[t]="number"===typeof r?r:r.clone(),!0;if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{var i=n[t];if(!1===i.equals(r))return i.copy(r),!0}return!1}function u(e){var t=e.value,n={boundary:0,storage:0};return"number"===typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),n}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){var h=i[n.id];void 0===h&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){var s=t[a],l=u(s);if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-l.boundary<0&&(n+=r-i,s.__offset=n);n+=l.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",c));var f=d.program;r.updateUBOMapping(n,f);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=r.length;o<s;o++){var u=r[o];if(!0===l(u,o,a)){var c=u.value,d=u.__offset;"number"===typeof c?(u.__data[0]=c,e.bufferSubData(35345,d,u.__data)):(u.value.isMatrix3?(u.__data[0]=u.value.elements[0],u.__data[1]=u.value.elements[1],u.__data[2]=u.value.elements[2],u.__data[3]=u.value.elements[0],u.__data[4]=u.value.elements[3],u.__data[5]=u.value.elements[4],u.__data[6]=u.value.elements[5],u.__data[7]=u.value.elements[0],u.__data[8]=u.value.elements[6],u.__data[9]=u.value.elements[7],u.__data[10]=u.value.elements[8],u.__data[11]=u.value.elements[0]):c.toArray(u.__data),e.bufferSubData(35345,d,u.__data))}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function Ng(){var e=ch("canvas");return e.style.display="block",e}function zg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var t,n=void 0!==e.canvas?e.canvas:Ng(),r=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==r?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var d=null,h=null,f=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=sd,this.physicallyCorrectLights=!1,this.toneMapping=Eu,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});var v=this,m=!1,g=0,y=0,x=null,b=-1,w=null,_=new Ah,S=new Ah,M=null,k=n.width,T=n.height,E=1,A=null,C=null,P=new Ah(0,0,k,T),R=new Ah(0,0,k,T),L=!1,I=new rv,N=!1,z=!1,D=null,O=new pf,F=new ah,U=new Dh,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return null===x?E:1}var H,V,G,W,q,X,Y,K,Z,J,Q,$,ee,te,ne,re,ie,ae,oe,se,le,ue,ce,de,he=r;function fe(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{var pe={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(Nl)),n.addEventListener("webglcontextlost",ye,!1),n.addEventListener("webglcontextrestored",xe,!1),n.addEventListener("webglcontextcreationerror",be,!1),null===he){var ve=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&ve.shift(),null===(he=fe(ve,pe)))throw fe(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===he.getShaderPrecisionFormat&&(he.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ue){throw console.error("THREE.WebGLRenderer: "+Ue.message),Ue}function me(){H=new Rv(he),V=new fv(he,H,e),H.init(V),ue=new kg(he,H,V),G=new Sg(he,H,V),W=new Nv,q=new ug,X=new Mg(he,H,G,q,V,ue,W),Y=new vv(v),K=new Pv(v),Z=new av(he,V),ce=new dv(he,H,Z,V),J=new Lv(he,Z,W,ce),Q=new Fv(he,J,Z,W),oe=new Ov(he,V,X),re=new pv(q),$=new lg(v,Y,K,H,V,ce,re),ee=new Lg(v,q),te=new fg,ne=new xg(H,V),ae=new cv(v,Y,G,Q,t,s),ie=new _g(v,Q,V),de=new Ig(he,W,V,G),se=new hv(he,H,W,V),le=new Iv(he,H,W,V),W.programs=$.programs,v.capabilities=V,v.extensions=H,v.properties=q,v.renderLists=te,v.shadowMap=ie,v.state=G,v.info=W}me();var ge=new Rg(v,he);function ye(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function xe(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=W.autoReset,t=ie.enabled,n=ie.autoUpdate,r=ie.needsUpdate,i=ie.type;me(),W.autoReset=e,ie.enabled=t,ie.autoUpdate=n,ie.needsUpdate=r,ie.type=i}function be(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function we(e){var t=e.target;t.removeEventListener("dispose",we),_e(t)}function _e(e){Se(e),q.remove(e)}function Se(e){var t=q.get(e).programs;void 0!==t&&(t.forEach((function(e){$.releaseProgram(e)})),e.isShaderMaterial&&$.releaseShaderCache(e))}this.xr=ge,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){var e=H.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=H.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(e){void 0!==e&&(E=e,this.setSize(k,T,!1))},this.getSize=function(e){return e.set(k,T)},this.setSize=function(e,t,r){ge.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=e,T=t,n.width=Math.floor(e*E),n.height=Math.floor(t*E),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(k*E,T*E).floor()},this.setDrawingBufferSize=function(e,t,r){k=e,T=t,E=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(_)},this.getViewport=function(e){return e.copy(P)},this.setViewport=function(e,t,n,r){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,n,r),G.viewport(_.copy(P).multiplyScalar(E).floor())},this.getScissor=function(e){return e.copy(R)},this.setScissor=function(e,t,n,r){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,r),G.scissor(S.copy(R).multiplyScalar(E).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(e){G.setScissorTest(L=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(e){return e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),he.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ye,!1),n.removeEventListener("webglcontextrestored",xe,!1),n.removeEventListener("webglcontextcreationerror",be,!1),te.dispose(),ne.dispose(),q.dispose(),Y.dispose(),K.dispose(),Q.dispose(),ce.dispose(),de.dispose(),$.dispose(),ge.dispose(),ge.removeEventListener("sessionstart",Te),ge.removeEventListener("sessionend",Ee),D&&(D.dispose(),D=null),Ae.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=B);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=De(e,t,n,r,i);G.setMaterial(r,o);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,d=1;!0===r.wireframe&&(l=J.getWireframeAttribute(n),d=2),ce.setup(i,r,s,n,l);var h=se;null!==l&&(c=Z.get(l),(h=le).setIndex(c));var f=null!==l?l.count:u.count,p=n.drawRange.start*d,v=n.drawRange.count*d,m=null!==a?a.start*d:0,g=null!==a?a.count*d:1/0,y=Math.max(p,m),x=Math.min(f,p+v,m+g)-1,b=Math.max(0,x-y+1);if(0!==b){if(i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*j()),h.setMode(1)):h.setMode(4);else if(i.isLine){var w=r.linewidth;void 0===w&&(w=1),G.setLineWidth(w*j()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(y,b,i.count);else if(n.isInstancedBufferGeometry){var _=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,b,_)}else h.render(y,b)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===Xl?(e.side=ql,e.needsUpdate=!0,Ne(e,t,n),e.side=Wl,e.needsUpdate=!0,Ne(e,t,n),e.side=Xl):Ne(e,t,n)}(h=ne.get(e)).init(),p.push(h),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(v.physicallyCorrectLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),p.pop(),h=null};var Me=null;function ke(e){Me&&Me(e)}function Te(){Ae.stop()}function Ee(){Ae.start()}var Ae=new iv;function Ce(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||I.intersectsSprite(e)){r&&U.setFromMatrixPosition(e.matrixWorld).applyMatrix4(O);var i=Q.update(e),a=e.material;a.visible&&d.push(e,i,a,n,U.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==W.render.frame&&(e.skeleton.update(),e.skeleton.frame=W.render.frame),!e.frustumCulled||I.intersectsObject(e))){r&&U.setFromMatrixPosition(e.matrixWorld).applyMatrix4(O);var o=Q.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&d.push(e,o,p,n,U.z,f)}else s.visible&&d.push(e,o,s,n,U.z,null)}for(var v=e.children,m=0,g=v.length;m<g;m++)Ce(v[m],t,n,r)}}function Pe(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;h.setupLightsView(n),a.length>0&&Re(i,t,n),r&&G.viewport(_.copy(r)),i.length>0&&Le(i,t,n),a.length>0&&Le(a,t,n),o.length>0&&Le(o,t,n),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1)}function Re(e,t,n){var r=V.isWebGL2;null===D&&(D=new Ch(1,1,{generateMipmaps:!0,type:H.has("EXT_color_buffer_half_float")?ac:Qu,minFilter:Zu,samples:r&&!0===o?4:0})),v.getDrawingBufferSize(F),r?D.setSize(F.x,F.y):D.setSize(th(F.x),th(F.y));var i=v.getRenderTarget();v.setRenderTarget(D),v.clear();var a=v.toneMapping;v.toneMapping=Eu,Le(e,t,n),v.toneMapping=a,X.updateMultisampleRenderTarget(D),X.updateRenderTargetMipmap(D),v.setRenderTarget(i)}function Le(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&Ie(s,t,n,l,u,c)}}function Ie(e,t,n,r,i,a){e.onBeforeRender(v,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(v,t,n,r,e,a),!0===i.transparent&&i.side===Xl?(i.side=ql,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=Wl,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=Xl):v.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(v,t,n,r,i,a)}function Ne(e,t,n){!0!==t.isScene&&(t=B);var r=q.get(e),i=h.state.lights,a=h.state.shadowsArray,o=i.state.version,s=$.getParameters(e,i.state,a,t,n),l=$.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?K:Y).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",we),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return ze(e,s),c}else s.uniforms=$.getUniforms(e),e.onBuild(n,s,v),e.onBeforeCompile(s,v),c=$.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=re.uniform),ze(e,s),r.needsLights=Fe(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),p=Hm.seqWithValue(f.seq,d);return r.currentProgram=c,r.uniformsList=p,c}function ze(e,t){var n=q.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function De(e,t,n,r,i){!0!==t.isScene&&(t=B),X.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===x?v.outputEncoding:!0===x.isXRRenderTarget?x.texture.encoding:sd,l=(r.isMeshStandardMaterial?K:Y).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,d=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=r.toneMapped?v.toneMapping:Eu,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,_=q.get(r),S=h.state.lights;if(!0===N&&(!0===z||e!==w)){var M=e===w&&r.id===b;re.setState(r,e,M)}var k=!1;r.version===_.__version?_.needsLights&&_.lightsStateVersion!==S.state.version||_.outputEncoding!==s||i.isInstancedMesh&&!1===_.instancing?k=!0:i.isInstancedMesh||!0!==_.instancing?i.isSkinnedMesh&&!1===_.skinning?k=!0:i.isSkinnedMesh||!0!==_.skinning?_.envMap!==l||!0===r.fog&&_.fog!==a?k=!0:void 0===_.numClippingPlanes||_.numClippingPlanes===re.numPlanes&&_.numIntersection===re.numIntersection?(_.vertexAlphas!==u||_.vertexTangents!==c||_.morphTargets!==d||_.morphNormals!==f||_.morphColors!==p||_.toneMapping!==m||!0===V.isWebGL2&&_.morphTargetsCount!==y)&&(k=!0):k=!0:k=!0:k=!0:(k=!0,_.__version=r.version);var A=_.currentProgram;!0===k&&(A=Ne(r,t,i));var C=!1,P=!1,R=!1,L=A.getUniforms(),I=_.uniforms;if(G.useProgram(A.program)&&(C=!0,P=!0,R=!0),r.id!==b&&(b=r.id,P=!0),C||w!==e){if(L.setValue(he,"projectionMatrix",e.projectionMatrix),V.logarithmicDepthBuffer&&L.setValue(he,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,P=!0,R=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var O=L.map.cameraPosition;void 0!==O&&O.setValue(he,U.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&L.setValue(he,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&L.setValue(he,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){L.setOptional(he,i,"bindMatrix"),L.setOptional(he,i,"bindMatrixInverse");var F=i.skeleton;F&&(V.floatVertexTextures?(null===F.boneTexture&&F.computeBoneTexture(),L.setValue(he,"boneTexture",F.boneTexture,X),L.setValue(he,"boneTextureSize",F.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var j=n.morphAttributes;if((void 0!==j.position||void 0!==j.normal||void 0!==j.color&&!0===V.isWebGL2)&&oe.update(i,n,r,A),(P||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,L.setValue(he,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(I.envMap.value=l,I.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),P&&(L.setValue(he,"toneMappingExposure",v.toneMappingExposure),_.needsLights&&Oe(I,R),a&&!0===r.fog&&ee.refreshFogUniforms(I,a),ee.refreshMaterialUniforms(I,r,E,T,D),Hm.upload(he,_.uniformsList,I,X)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Hm.upload(he,_.uniformsList,I,X),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&L.setValue(he,"center",i.center),L.setValue(he,"modelViewMatrix",i.modelViewMatrix),L.setValue(he,"normalMatrix",i.normalMatrix),L.setValue(he,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var H=r.uniformsGroups,W=0,Z=H.length;W<Z;W++)if(V.isWebGL2){var J=H[W];de.update(J,A),de.bind(J,A)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return A}function Oe(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function Fe(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ae.setAnimationLoop(ke),"undefined"!==typeof self&&Ae.setContext(self),this.setAnimationLoop=function(e){Me=e,ge.setAnimationLoop(e),null===e?Ae.stop():Ae.start()},ge.addEventListener("sessionstart",Te),ge.addEventListener("sessionend",Ee),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===ge.enabled&&!0===ge.isPresenting&&(!0===ge.cameraAutoUpdate&&ge.updateCamera(t),t=ge.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,x),(h=ne.get(e,p.length)).init(),p.push(h),O.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(O),z=this.localClippingEnabled,N=re.init(this.clippingPlanes,z,t),(d=te.get(e,f.length)).init(),f.push(d),Ce(e,t,0,v.sortObjects),d.finish(),!0===v.sortObjects&&d.sort(A,C),!0===N&&re.beginShadows();var n=h.state.shadowsArray;if(ie.render(n,e,t),!0===N&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(d,e),h.setupLights(v.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Pe(d,e,o,o.viewport)}else Pe(d,e,t);null!==x&&(X.updateMultisampleRenderTarget(x),X.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(v,e,t),ce.resetDefaultState(),b=-1,w=null,p.pop(),h=p.length>0?p[p.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){q.get(e.texture).__webglTexture=t,q.get(e.depthTexture).__webglTexture=n;var r=q.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===H.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;x=e,g=t,y=n;var r=!0;if(e){var i=q.get(e);void 0!==i.__useDefaultFramebuffer?(G.bindFramebuffer(36160,null),r=!1):void 0===i.__webglFramebuffer?X.setupRenderTarget(e):i.__hasExternalTextures&&X.rebindTextures(e,q.get(e.texture).__webglTexture,q.get(e.depthTexture).__webglTexture)}var a=null,o=!1,s=!1;if(e){var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture)&&(s=!0);var u=q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=u[t],o=!0):a=V.isWebGL2&&e.samples>0&&!1===X.useMultisampledRTT(e)?q.get(e).__webglMultisampledFramebuffer:u,_.copy(e.viewport),S.copy(e.scissor),M=e.scissorTest}else _.copy(P).multiplyScalar(E).floor(),S.copy(R).multiplyScalar(E).floor(),M=L;var c=G.bindFramebuffer(36160,a);if(c&&V.drawBuffers&&r&&G.drawBuffers(e,a),G.viewport(_),G.scissor(S),G.setScissorTest(M),o){var d=q.get(e.texture);he.framebufferTexture2D(36160,36064,34069+t,d.__webglTexture,n)}else if(s){var h=q.get(e.texture),f=t||0;he.framebufferTextureLayer(36160,36064,h.__webglTexture,n||0,f)}b=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==dc&&ue.convert(u)!==he.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=c===ac&&(H.has("EXT_color_buffer_half_float")||V.isWebGL2&&H.has("EXT_color_buffer_float"));if(c!==Qu&&ue.convert(c)!==he.getParameter(35738)&&(c!==ic||!(V.isWebGL2||H.has("OES_texture_float")||H.has("WEBGL_color_buffer_float")))&&!d)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&he.readPixels(t,n,r,i,ue.convert(u),ue.convert(c),a)}finally{var h=null!==x?q.get(x).__webglFramebuffer:null;G.bindFramebuffer(36160,h)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);X.setTexture2D(t,0),he.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=ue.convert(n.format),s=ue.convert(n.type);X.setTexture2D(n,0),he.pixelStorei(37440,n.flipY),he.pixelStorei(37441,n.premultiplyAlpha),he.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?he.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?he.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):he.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&he.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ue.convert(r.format),c=ue.convert(r.type);if(r.isData3DTexture)X.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");X.setTexture2DArray(r,0),a=35866}he.pixelStorei(37440,r.flipY),he.pixelStorei(37441,r.premultiplyAlpha),he.pixelStorei(3317,r.unpackAlignment);var d=he.getParameter(3314),h=he.getParameter(32878),f=he.getParameter(3316),p=he.getParameter(3315),m=he.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;he.pixelStorei(3314,g.width),he.pixelStorei(32878,g.height),he.pixelStorei(3316,e.min.x),he.pixelStorei(3315,e.min.y),he.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?he.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),he.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,g.data)):he.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,g),he.pixelStorei(3314,d),he.pixelStorei(32878,h),he.pixelStorei(3316,f),he.pixelStorei(3315,p),he.pixelStorei(32877,m),0===i&&r.generateMipmaps&&he.generateMipmap(a),G.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?X.setTextureCube(e,0):e.isData3DTexture?X.setTexture3D(e,0):e.isDataArrayTexture?X.setTexture2DArray(e,0):X.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){g=0,y=0,x=null,G.reset(),ce.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Dg=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(zg);Dg.prototype.isWebGL1Renderer=!0;var Og,Fg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;de(this,e),this.isFogExp2=!0,this.name="",this.color=new _h(t),this.density=n}return fe(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),Ug=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;de(this,e),this.isFog=!0,this.name="",this.color=new _h(t),this.near=n,this.far=r}return fe(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),Bg=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:se(e)})),e}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(Uf),jg=function(){function e(t,n){de(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Ld,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Kd()}return fe(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kd()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kd()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),Hg=new Dh,Vg=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];de(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return fe(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Hg.fromBufferAttribute(this,t),Hg.applyMatrix4(e),this.setXYZ(t,Hg.x,Hg.y,Hg.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Hg.fromBufferAttribute(this,t),Hg.applyNormalMatrix(e),this.setXYZ(t,Hg.x,Hg.y,Hg.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Hg.fromBufferAttribute(this,t),Hg.transformDirection(e),this.setXYZ(t,Hg.x,Hg.y,Hg.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=rh(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=nh(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=nh(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=nh(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=nh(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=rh(t,this.array),n=rh(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=rh(t,this.array),n=rh(n,this.array),r=rh(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rh(t,this.array),n=rh(n,this.array),r=rh(r,this.array),i=rh(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new np(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),Gg=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new _h(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Qf),Wg=new Dh,qg=new Dh,Xg=new Dh,Yg=new ah,Kg=new ah,Zg=new pf,Jg=new Dh,Qg=new Dh,$g=new Dh,ey=new ah,ty=new ah,ny=new ah,ry=function(e){le(n,e);var t=ce(n);function n(e){var r;if(de(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===Og){Og=new bp;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new jg(i,5);Og.setIndex([0,1,2,0,2,3]),Og.setAttribute("position",new Vg(a,3,0,!1)),Og.setAttribute("uv",new Vg(a,2,3,!1))}return r.geometry=Og,r.material=void 0!==e?e:new Gg,r.center=new ah(.5,.5),r}return fe(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qg.setFromMatrixScale(this.matrixWorld),Zg.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Xg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&qg.multiplyScalar(-Xg.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;iy(Jg.set(-.5,-.5,0),Xg,a,qg,n,r),iy(Qg.set(.5,-.5,0),Xg,a,qg,n,r),iy($g.set(.5,.5,0),Xg,a,qg,n,r),ey.set(0,0),ty.set(1,0),ny.set(1,1);var o=e.ray.intersectTriangle(Jg,Qg,$g,!1,Wg);if(null!==o||(iy(Qg.set(-.5,.5,0),Xg,a,qg,n,r),ty.set(0,1),null!==(o=e.ray.intersectTriangle(Jg,$g,Qg,!1,Wg)))){var s=e.ray.origin.distanceTo(Wg);s<e.near||s>e.far||t.push({distance:s,point:Wg.clone(),uv:Zf.getUV(Wg,Jg,Qg,$g,ey,ty,ny,new ah),face:null,object:this})}}},{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Uf);function iy(e,t,n,r,i,a){Yg.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Kg.x=a*Yg.x-i*Yg.y,Kg.y=i*Yg.x+a*Yg.y):Kg.copy(Yg),e.copy(t),e.x+=Kg.x,e.y+=Kg.y,e.applyMatrix4(Zg)}var ay=new Dh,oy=new Dh,sy=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(se(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return fe(n,[{key:"copy",value:function(e){Il($(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){ay.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(ay);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){ay.setFromMatrixPosition(e.matrixWorld),oy.setFromMatrixPosition(this.matrixWorld);var n,r,i=ay.distanceTo(oy)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(Uf),ly=new Dh,uy=new Ah,cy=new Ah,dy=new Dh,hy=new pf,fy=function(e){le(n,e);var t=ce(n);function n(e,r){var i;return de(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new pf,i.bindMatrixInverse=new pf,i}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Ah,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Il($(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;uy.fromBufferAttribute(r.attributes.skinIndex,e),cy.fromBufferAttribute(r.attributes.skinWeight,e),ly.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=cy.getComponent(i);if(0!==a){var o=uy.getComponent(i);hy.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(dy.copy(ly).applyMatrix4(hy),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Fp),py=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return fe(n)}(Uf),vy=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Hu,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Hu,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return de(this,n),(e=t.call(this,null,l,u,c,d,h,o,s,f,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return fe(n)}(Eh),my=new pf,gy=new pf,yy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];de(this,e),this.uuid=Kd(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return fe(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new pf)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new pf;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:gy;my.multiplyMatrices(o,t[i]),my.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=eh(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new vy(t,e,e,dc,ic);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new py),this.bones.push(a),this.boneInverses.push((new pf).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),xy=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return de(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(np),by=new pf,wy=new pf,_y=[],Sy=new Fp,My=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;return de(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new xy(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1,a}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Sy.geometry=this.geometry,Sy.material=this.material,void 0!==Sy.material)for(var i=0;i<r;i++){this.getMatrixAt(i,by),wy.multiplyMatrices(n,by),Sy.matrixWorld=wy,Sy.raycast(e,_y);for(var a=0,o=_y.length;a<o;a++){var s=_y[a];s.instanceId=i,s.object=this,t.push(s)}_y.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new xy(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Fp),ky=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new _h(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Qf),Ty=new Dh,Ey=new Dh,Ay=new pf,Cy=new ff,Py=new af,Ry=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bp,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ky;return de(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Ty.fromBufferAttribute(t,r-1),Ey.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Ty.distanceTo(Ey);e.setAttribute("lineDistance",new dp(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Py.copy(n.boundingSphere),Py.applyMatrix4(r),Py.radius+=i,!1!==e.ray.intersectsSphere(Py)){Ay.copy(r).invert(),Cy.copy(e.ray).applyMatrix4(Ay);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new Dh,u=new Dh,c=new Dh,d=new Dh,h=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f)for(var v=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count)-1;v<m;v+=h){var g=f.getX(v),y=f.getX(v+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(Cy.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(d);x<e.near||x>e.far||t.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),w=Math.min(p.count,a.start+a.count)-1;b<w;b+=h){if(l.fromBufferAttribute(p,b),u.fromBufferAttribute(p,b+1),!(Cy.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(d);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Uf),Ly=new Dh,Iy=new Dh,Ny=function(e){le(n,e);var t=ce(n);function n(e,r){var i;return de(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return fe(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Ly.fromBufferAttribute(t,r),Iy.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Ly.distanceTo(Iy);e.setAttribute("lineDistance",new dp(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(Ry),zy=function(e){le(n,e);var t=ce(n);function n(e,r){var i;return de(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return fe(n)}(Ry),Dy=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new _h(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Qf),Oy=new pf,Fy=new ff,Uy=new af,By=new Dh,jy=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bp,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dy;return de(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Uy.copy(n.boundingSphere),Uy.applyMatrix4(r),Uy.radius+=i,!1!==e.ray.intersectsSphere(Uy)){Oy.copy(r).invert(),Fy.copy(e.ray).applyMatrix4(Oy);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),d=Math.min(l.count,a.start+a.count);c<d;c++){var h=l.getX(c);By.fromBufferAttribute(u,h),Hy(By,h,s,r,e,t,this)}else for(var f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);f<p;f++)By.fromBufferAttribute(u,f),Hy(By,f,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Uf);function Hy(e,t,n,r,i,a,o){var s=Fy.distanceSqToPoint(e);if(s<n){var l=new Dh;Fy.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var Vy=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l,u,c){var d;de(this,n),(d=t.call(this,e,r,i,a,o,s,l,u,c)).isVideoTexture=!0,d.minFilter=void 0!==s?s:Xu,d.magFilter=void 0!==o?o:Xu,d.generateMipmaps=!1;var h=se(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){h.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return fe(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Eh),Gy=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;return de(this,n),(a=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,a.format=i,a.magFilter=Hu,a.minFilter=Hu,a.generateMipmaps=!1,a.needsUpdate=!0,a}return fe(n)}(Eh),Wy=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l,u,c,d,h,f){var p;return de(this,n),(p=t.call(this,null,s,l,u,c,d,a,o,h,f)).isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return fe(n)}(Eh),qy=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l,u,c){var d;return de(this,n),(d=t.call(this,e,r,i,a,o,s,l,u,c)).isCanvasTexture=!0,d.needsUpdate=!0,d}return fe(n)}(Eh),Xy=function(){function e(){de(this,e),this.type="Curve",this.arcLengthDivisions=200}return fe(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new ah:new Dh);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Dh,r=[],i=[],a=[],o=new Dh,s=new pf,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new Dh)}i[0]=new Dh,a[0]=new Dh;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Zd(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(Zd(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),Yy=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return de(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return fe(n,[{key:"getPoint",value:function(e,t){for(var n=t||new ah,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*u-h*c+this.aX,l=d*c+h*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Xy),Ky=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s){var l;return de(this,n),(l=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return fe(n)}(Yy);function Zy(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var Jy=new Dh,Qy=new Zy,$y=new Zy,ex=new Zy,tx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return de(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return fe(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,i=r,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?t=a[(l-1)%o]:(Jy.subVectors(a[0],a[1]).add(a[0]),t=Jy);var c=a[l%o],d=a[(l+1)%o];if(this.closed||l+2<o?n=a[(l+2)%o]:(Jy.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=Jy),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(d),h),v=Math.pow(d.distanceToSquared(n),h);p<1e-4&&(p=1),f<1e-4&&(f=p),v<1e-4&&(v=p),Qy.initNonuniformCatmullRom(t.x,c.x,d.x,n.x,f,p,v),$y.initNonuniformCatmullRom(t.y,c.y,d.y,n.y,f,p,v),ex.initNonuniformCatmullRom(t.z,c.z,d.z,n.z,f,p,v)}else"catmullrom"===this.curveType&&(Qy.initCatmullRom(t.x,c.x,d.x,n.x,this.tension),$y.initCatmullRom(t.y,c.y,d.y,n.y,this.tension),ex.initCatmullRom(t.z,c.z,d.z,n.z,this.tension));return i.set(Qy.calc(u),$y.calc(u),ex.calc(u)),i}},{key:"copy",value:function(e){Il($(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Il($(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Dh).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Xy);function nx(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function rx(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function ix(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var ax=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ah,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ah,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ah;return de(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return fe(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ix(e,r.x,i.x,a.x,o.x),ix(e,r.y,i.y,a.y,o.y)),n}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Xy),ox=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Dh,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Dh;return de(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return fe(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ix(e,r.x,i.x,a.x,o.x),ix(e,r.y,i.y,a.y,o.y),ix(e,r.z,i.z,a.z,o.z)),n}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Xy),sx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ah,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah;return de(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return fe(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new ah;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Xy),lx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh;return de(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return fe(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Xy),ux=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ah,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ah;return de(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return fe(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(rx(e,r.x,i.x,a.x),rx(e,r.y,i.y,a.y)),n}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Xy),cx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Dh;return de(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return fe(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(rx(e,r.x,i.x,a.x),rx(e,r.y,i.y,a.y),rx(e,r.z,i.z,a.z)),n}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Xy),dx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return de(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return fe(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(nx(o,s.x,l.x,u.x,c.x),nx(o,s.y,l.y,u.y,c.y)),n}},{key:"copy",value:function(e){Il($(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){Il($(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new ah).fromArray(i))}return this}}]),n}(Xy),hx=Object.freeze({__proto__:null,ArcCurve:Ky,CatmullRomCurve3:tx,CubicBezierCurve:ax,CubicBezierCurve3:ox,EllipseCurve:Yy,LineCurve:sx,LineCurve3:lx,QuadraticBezierCurve:ux,QuadraticBezierCurve3:cx,SplineCurve:dx}),fx=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return fe(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new sx(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){Il($(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Il($(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new hx[i.type]).fromJSON(i))}return this}}]),n}(Xy),px=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).type="Path",r.currentPoint=new ah,e&&r.setFromPoints(e),r}return fe(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new sx(this.currentPoint.clone(),new ah(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new ux(this.currentPoint.clone(),new ah(e,t),new ah(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new ax(this.currentPoint.clone(),new ah(e,t),new ah(n,r),new ah(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new dx(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var l=new Yy(e,t,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Il($(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(fx),vx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new ah(0,-.5),new ah(.5,0),new ah(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;de(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=Zd(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],d=[],h=1/i,f=new Dh,p=new ah,v=new Dh,m=new Dh,g=new Dh,y=0,x=0,b=0;b<=r.length-1;b++)switch(b){case 0:y=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,v.x=1*x,v.y=-y,v.z=0*x,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,v.x=1*x,v.y=-y,v.z=0*x,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var w=0;w<=i;w++)for(var _=a+w*h*o,S=Math.sin(_),M=Math.cos(_),k=0;k<=r.length-1;k++){f.x=r[k].x*S,f.y=r[k].y,f.z=r[k].x*M,l.push(f.x,f.y,f.z),p.x=w/i,p.y=k/(r.length-1),u.push(p.x,p.y);var T=c[3*k+0]*S,E=c[3*k+1],A=c[3*k+0]*M;d.push(T,E,A)}for(var C=0;C<i;C++)for(var P=0;P<r.length-1;P++){var R=P+C*r.length,L=R,I=R+r.length,N=R+r.length+1,z=R+1;s.push(L,I,z),s.push(N,z,I)}return e.setIndex(s),e.setAttribute("position",new dp(l,3)),e.setAttribute("uv",new dp(u,2)),e.setAttribute("normal",new dp(d,3)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(bp),mx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;de(this,n);var s=new px;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(vx),gx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;de(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],l=[],u=[],c=[],d=new Dh,h=new ah;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var f=0,p=3;f<=i;f++,p+=3){var v=a+f/i*o;d.x=r*Math.cos(v),d.y=r*Math.sin(v),l.push(d.x,d.y,d.z),u.push(0,0,1),h.x=(l[p]/r+1)/2,h.y=(l[p+1]/r+1)/2,c.push(h.x,h.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new dp(l,3)),e.setAttribute("normal",new dp(u,3)),e.setAttribute("uv",new dp(c,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(bp),yx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;de(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var d=se(e);o=Math.floor(o),s=Math.floor(s);var h=[],f=[],p=[],v=[],m=0,g=[],y=a/2,x=0;function b(){for(var e=new Dh,t=new Dh,n=0,l=(i-r)/a,b=0;b<=s;b++){for(var w=[],_=b/s,S=_*(i-r)+r,M=0;M<=o;M++){var k=M/o,T=k*c+u,E=Math.sin(T),A=Math.cos(T);t.x=S*E,t.y=-_*a+y,t.z=S*A,f.push(t.x,t.y,t.z),e.set(E,l,A).normalize(),p.push(e.x,e.y,e.z),v.push(k,1-_),w.push(m++)}g.push(w)}for(var C=0;C<o;C++)for(var P=0;P<s;P++){var R=g[P][C],L=g[P+1][C],I=g[P+1][C+1],N=g[P][C+1];h.push(R,L,N),h.push(L,I,N),n+=6}d.addGroup(x,n,0),x+=n}function w(e){for(var t=m,n=new ah,a=new Dh,s=0,l=!0===e?r:i,g=!0===e?1:-1,b=1;b<=o;b++)f.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var w=m,_=0;_<=o;_++){var S=_/o*c+u,M=Math.cos(S),k=Math.sin(S);a.x=l*k,a.y=y*g,a.z=l*M,f.push(a.x,a.y,a.z),p.push(0,g,0),n.x=.5*M+.5,n.y=.5*k*g+.5,v.push(n.x,n.y),m++}for(var T=0;T<o;T++){var E=t+T,A=w+T;!0===e?h.push(A,A+1,E):h.push(A+1,A,E),s+=3}d.addGroup(x,s,!0===e?1:2),x+=s}return b(),!1===l&&(r>0&&w(!0),i>0&&w(!1)),e.setIndex(h),e.setAttribute("position",new dp(f,3)),e.setAttribute("normal",new dp(p,3)),e.setAttribute("uv",new dp(v,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(bp),xx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return de(this,n),(e=t.call(this,0,r,i,a,o,s,l,u)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(yx),bx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;de(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],l=[];function u(e){for(var t=new Dh,n=new Dh,r=new Dh,a=0;a<i.length;a+=3)v(i[a+0],t),v(i[a+1],n),v(i[a+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),l=t.clone().lerp(n,o/i),u=i-o,c=0;c<=u;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(l,c/u)}for(var d=0;d<i;d++)for(var h=0;h<2*(i-d)-1;h++){var f=Math.floor(h/2);h%2===0?(p(a[d][f+1]),p(a[d+1][f]),p(a[d][f])):(p(a[d][f+1]),p(a[d+1][f+1]),p(a[d+1][f]))}}function d(e){for(var t=new Dh,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function h(){for(var e=new Dh,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=y(e)/2/Math.PI+.5,r=x(e)/Math.PI+.5;l.push(n,1-r)}m(),f()}function f(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}function p(e){s.push(e.x,e.y,e.z)}function v(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function m(){for(var e=new Dh,t=new Dh,n=new Dh,r=new Dh,i=new ah,a=new ah,o=new ah,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),i.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=y(r);g(i,c+0,e,d),g(a,c+2,t,d),g(o,c+4,n,d)}}function g(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function y(e){return Math.atan2(e.z,-e.x)}function x(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return u(o),d(a),h(),e.setAttribute("position",new dp(s,3)),e.setAttribute("normal",new dp(s.slice(),3)),e.setAttribute("uv",new dp(l,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(bp),wx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;de(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,l,r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(bx),_x=new Dh,Sx=new Dh,Mx=new Dh,kx=new Zf,Tx=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(de(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=4,o=Math.pow(10,a),s=Math.cos(Xd*i),l=r.getIndex(),u=r.getAttribute("position"),c=l?l.count:u.count,d=[0,0,0],h=["a","b","c"],f=new Array(3),p={},v=[],m=0;m<c;m+=3){l?(d[0]=l.getX(m),d[1]=l.getX(m+1),d[2]=l.getX(m+2)):(d[0]=m,d[1]=m+1,d[2]=m+2);var g=kx.a,y=kx.b,x=kx.c;if(g.fromBufferAttribute(u,d[0]),y.fromBufferAttribute(u,d[1]),x.fromBufferAttribute(u,d[2]),kx.getNormal(Mx),f[0]="".concat(Math.round(g.x*o),",").concat(Math.round(g.y*o),",").concat(Math.round(g.z*o)),f[1]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),f[2]="".concat(Math.round(x.x*o),",").concat(Math.round(x.y*o),",").concat(Math.round(x.z*o)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var b=0;b<3;b++){var w=(b+1)%3,_=f[b],S=f[w],M=kx[h[b]],k=kx[h[w]],T="".concat(_,"_").concat(S),E="".concat(S,"_").concat(_);E in p&&p[E]?(Mx.dot(p[E].normal)<=s&&(v.push(M.x,M.y,M.z),v.push(k.x,k.y,k.z)),p[E]=null):T in p||(p[T]={index0:d[b],index1:d[w],normal:Mx.clone()})}}for(var A in p)if(p[A]){var C=p[A],P=C.index0,R=C.index1;_x.fromBufferAttribute(u,P),Sx.fromBufferAttribute(u,R),v.push(_x.x,_x.y,_x.z),v.push(Sx.x,Sx.y,Sx.z)}e.setAttribute("position",new dp(v,3))}return e}return fe(n)}(bp),Ex=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this,e)).uuid=Kd(),r.type="Shape",r.holes=[],r}return fe(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Il($(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){Il($(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new px).fromJSON(i))}return this}}]),n}(px),Ax=function(e,t){var n,r,i,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,d=c?t[0]*u:e.length,h=Cx(e,0,d,u,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=Dx(e,t,h,u)),e.length>80*u){n=i=e[0],r=a=e[1];for(var p=u;p<d;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);l=0!==(l=Math.max(i-n,a-r))?1/l:0}return Rx(h,f,u,n,r,l),f};function Cx(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Jx(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Jx(a,e[a],e[a+1],o);return o&&Wx(o,o.next)&&(Qx(o),o=o.next),o}function Px(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Wx(r,r.next)&&0!==Gx(r.prev,r,r.next))r=r.next;else{if(Qx(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Rx(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Bx(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Ix(e,r,i,a):Lx(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),Qx(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Rx(e=Nx(Px(e),t,n),t,n,r,i,a,2):2===o&&zx(e,t,n,r,i,a):Rx(Px(e),t,n,r,i,a,1);break}}}function Lx(e){var t=e.prev,n=e,r=e.next;if(Gx(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Hx(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Gx(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ix(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Gx(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Bx(s,l,t,n,r),h=Bx(u,c,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=d&&p&&p.z<=h;){if(f!==e.prev&&f!==e.next&&Hx(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Gx(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Hx(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Gx(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&Hx(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Gx(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Hx(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Gx(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Nx(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Wx(i,a)&&qx(i,r,r.next,a)&&Kx(i,a)&&Kx(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Qx(r),Qx(r.next),r=e=a),r=r.next}while(r!==e);return Px(r)}function zx(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Vx(o,s)){var l=Zx(o,s);return o=Px(o,o.next),l=Px(l,l.next),Rx(o,t,n,r,i,a),void Rx(l,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Dx(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Cx(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(jx(o));for(s.sort(Ox),i=0;i<s.length;i++)Fx(s[i],n),n=Px(n,n.next);return n}function Ox(e,t){return e.x-t.x}function Fx(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var l,u=n,c=n.x,d=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Hx(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),Kx(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&Ux(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(e,t),t){var n=Zx(t,e);Px(t,t.next),Px(n,n.next)}}function Ux(e,t){return Gx(e.prev,e,t.prev)<0&&Gx(t.next,e,e.next)<0}function Bx(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function jx(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Hx(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Vx(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&qx(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Kx(e,t)&&Kx(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Gx(e.prev,e,t.prev)||Gx(e,t.prev,t))||Wx(e,t)&&Gx(e.prev,e,e.next)>0&&Gx(t.prev,t,t.next)>0)}function Gx(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Wx(e,t){return e.x===t.x&&e.y===t.y}function qx(e,t,n,r){var i=Yx(Gx(e,t,n)),a=Yx(Gx(e,t,r)),o=Yx(Gx(n,r,e)),s=Yx(Gx(n,r,t));return i!==a&&o!==s||(!(0!==i||!Xx(e,n,t))||(!(0!==a||!Xx(e,r,t))||(!(0!==o||!Xx(n,e,r))||!(0!==s||!Xx(n,t,r)))))}function Xx(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Yx(e){return e>0?1:e<0?-1:0}function Kx(e,t){return Gx(e.prev,e,e.next)<0?Gx(e,t,e.next)>=0&&Gx(e,e.prev,t)>=0:Gx(e,t,e.prev)<0||Gx(e,e.next,t)<0}function Zx(e,t){var n=new $x(e.i,e.x,e.y),r=new $x(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Jx(e,t,n,r){var i=new $x(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qx(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $x(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var eb=function(){function e(){de(this,e)}return fe(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];tb(e),nb(n,e);var a=e.length;t.forEach(tb);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,nb(n,t[o]);for(var s=Ax(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function tb(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function nb(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var rb=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ex([new ah(.5,.5),new ah(-.5,.5),new ah(-.5,-.5),new ah(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};de(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=se(e),o=[],s=[],l=0,u=r.length;l<u;l++){var c=r[l];d(c)}function d(e){var t,n,r,l,u,c=[],d=void 0!==i.curveSegments?i.curveSegments:12,h=void 0!==i.steps?i.steps:1,f=void 0!==i.depth?i.depth:1,p=void 0===i.bevelEnabled||i.bevelEnabled,v=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:v-.1,g=void 0!==i.bevelOffset?i.bevelOffset:0,y=void 0!==i.bevelSegments?i.bevelSegments:3,x=i.extrudePath,b=void 0!==i.UVGenerator?i.UVGenerator:ib,w=!1;x&&(t=x.getSpacedPoints(h),w=!0,p=!1,n=x.computeFrenetFrames(h,!1),r=new Dh,l=new Dh,u=new Dh),p||(y=0,v=0,m=0,g=0);var _=e.extractPoints(d),S=_.shape,M=_.holes;if(!eb.isClockWise(S)){S=S.reverse();for(var k=0,T=M.length;k<T;k++){var E=M[k];eb.isClockWise(E)&&(M[k]=E.reverse())}}for(var A=eb.triangulateShape(S,M),C=S,P=0,R=M.length;P<R;P++){var L=M[P];S=S.concat(L)}function I(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var N=S.length,z=A.length;function D(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(c),f=Math.sqrt(l*l+u*u),p=t.x-s/h,v=t.y+o/h,m=((n.x-u/f-p)*u-(n.y+l/f-v)*l)/(o*u-s*l),g=(r=p+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(g<=2)return new ah(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new ah(r/a,i/a)}for(var O=[],F=0,U=C.length,B=U-1,j=F+1;F<U;F++,B++,j++)B===U&&(B=0),j===U&&(j=0),O[F]=D(C[F],C[B],C[j]);for(var H,V=[],G=O.concat(),W=0,q=M.length;W<q;W++){var X=M[W];H=[];for(var Y=0,K=X.length,Z=K-1,J=Y+1;Y<K;Y++,Z++,J++)Z===K&&(Z=0),J===K&&(J=0),H[Y]=D(X[Y],X[Z],X[J]);V.push(H),G=G.concat(H)}for(var Q=0;Q<y;Q++){for(var $=Q/y,ee=v*Math.cos($*Math.PI/2),te=m*Math.sin($*Math.PI/2)+g,ne=0,re=C.length;ne<re;ne++){var ie=I(C[ne],O[ne],te);Re(ie.x,ie.y,-ee)}for(var ae=0,oe=M.length;ae<oe;ae++){var se=M[ae];H=V[ae];for(var le=0,ue=se.length;le<ue;le++){var ce=I(se[le],H[le],te);Re(ce.x,ce.y,-ee)}}}for(var de=m+g,he=0;he<N;he++){var fe=p?I(S[he],G[he],de):S[he];w?(l.copy(n.normals[0]).multiplyScalar(fe.x),r.copy(n.binormals[0]).multiplyScalar(fe.y),u.copy(t[0]).add(l).add(r),Re(u.x,u.y,u.z)):Re(fe.x,fe.y,0)}for(var pe=1;pe<=h;pe++)for(var ve=0;ve<N;ve++){var me=p?I(S[ve],G[ve],de):S[ve];w?(l.copy(n.normals[pe]).multiplyScalar(me.x),r.copy(n.binormals[pe]).multiplyScalar(me.y),u.copy(t[pe]).add(l).add(r),Re(u.x,u.y,u.z)):Re(me.x,me.y,f/h*pe)}for(var ge=y-1;ge>=0;ge--){for(var ye=ge/y,xe=v*Math.cos(ye*Math.PI/2),be=m*Math.sin(ye*Math.PI/2)+g,we=0,_e=C.length;we<_e;we++){var Se=I(C[we],O[we],be);Re(Se.x,Se.y,f+xe)}for(var Me=0,ke=M.length;Me<ke;Me++){var Te=M[Me];H=V[Me];for(var Ee=0,Ae=Te.length;Ee<Ae;Ee++){var Ce=I(Te[Ee],H[Ee],be);w?Re(Ce.x,Ce.y+t[h-1].y,t[h-1].x+xe):Re(Ce.x,Ce.y,f+xe)}}}function Pe(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=h+2*y;a<o;a++){var s=N*a,l=N*(a+1);Ie(t+r+s,t+i+s,t+i+l,t+r+l)}}}function Re(e,t,n){c.push(e),c.push(t),c.push(n)}function Le(e,t,n){Ne(e),Ne(t),Ne(n);var r=o.length/3,i=b.generateTopUV(a,o,r-3,r-2,r-1);ze(i[0]),ze(i[1]),ze(i[2])}function Ie(e,t,n,r){Ne(e),Ne(t),Ne(r),Ne(t),Ne(n),Ne(r);var i=o.length/3,s=b.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);ze(s[0]),ze(s[1]),ze(s[3]),ze(s[1]),ze(s[2]),ze(s[3])}function Ne(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function ze(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=N*t,r=0;r<z;r++){var i=A[r];Le(i[2]+n,i[1]+n,i[0]+n)}n=N*(t=h+2*y);for(var s=0;s<z;s++){var l=A[s];Le(l[0]+n,l[1]+n,l[2]+n)}}else{for(var u=0;u<z;u++){var c=A[u];Le(c[2],c[1],c[0])}for(var d=0;d<z;d++){var f=A[d];Le(f[0]+N*h,f[1]+N*h,f[2]+N*h)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Pe(C,t),t+=C.length;for(var n=0,r=M.length;n<r;n++){var i=M[n];Pe(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new dp(o,3)),e.setAttribute("uv",new dp(s,2)),e.computeVertexNormals(),e}return fe(n,[{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new hx[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(bp),ib={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new ah(a,o),new ah(s,l),new ah(u,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new ah(o,1-l),new ah(u,1-d),new ah(h,1-p),new ah(v,1-g)]:[new ah(s,1-l),new ah(c,1-d),new ah(f,1-p),new ah(m,1-g)]}};var ab=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;de(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(bx),ob=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;de(this,n);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,a,o,r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(bx),sb=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;de(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],d=[],h=[],f=r,p=(i-r)/(o=Math.max(1,o)),v=new Dh,m=new ah,g=0;g<=o;g++){for(var y=0;y<=a;y++){var x=s+y/a*l;v.x=f*Math.cos(x),v.y=f*Math.sin(x),c.push(v.x,v.y,v.z),d.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,h.push(m.x,m.y)}f+=p}for(var b=0;b<o;b++)for(var w=b*(a+1),_=0;_<a;_++){var S=_+w,M=S,k=S+a+1,T=S+a+2,E=S+1;u.push(M,k,E),u.push(k,T,E)}return e.setIndex(u),e.setAttribute("position",new dp(c,3)),e.setAttribute("normal",new dp(d,3)),e.setAttribute("uv",new dp(h,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(bp),lb=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ex([new ah(0,.5),new ah(-.5,-.5),new ah(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;de(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(r))h(r);else for(var d=0;d<r.length;d++)h(r[d]),e.addGroup(u,c,d),u+=c,c=0;function h(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,u=n.holes;!1===eb.isClockWise(r)&&(r=r.reverse());for(var d=0,h=u.length;d<h;d++){var f=u[d];!0===eb.isClockWise(f)&&(u[d]=f.reverse())}for(var p=eb.triangulateShape(r,u),v=0,m=u.length;v<m;v++){var g=u[v];r=r.concat(g)}for(var y=0,x=r.length;y<x;y++){var b=r[y];o.push(b.x,b.y,0),s.push(0,0,1),l.push(b.x,b.y)}for(var w=0,_=p.length;w<_;w++){var S=p[w],M=S[0]+t,k=S[1]+t,T=S[2]+t;a.push(M,k,T),c+=3}}return e.setIndex(a),e.setAttribute("position",new dp(o,3)),e.setAttribute("normal",new dp(s,3)),e.setAttribute("uv",new dp(l,2)),e}return fe(n,[{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(bp);var ub=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;de(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),d=0,h=[],f=new Dh,p=new Dh,v=[],m=[],g=[],y=[],x=0;x<=a;x++){var b=[],w=x/a,_=0;0==x&&0==l?_=.5/i:x==a&&c==Math.PI&&(_=-.5/i);for(var S=0;S<=i;S++){var M=S/i;f.x=-r*Math.cos(o+M*s)*Math.sin(l+w*u),f.y=r*Math.cos(l+w*u),f.z=r*Math.sin(o+M*s)*Math.sin(l+w*u),m.push(f.x,f.y,f.z),p.copy(f).normalize(),g.push(p.x,p.y,p.z),y.push(M+_,1-w),b.push(d++)}h.push(b)}for(var k=0;k<a;k++)for(var T=0;T<i;T++){var E=h[k][T+1],A=h[k][T],C=h[k+1][T],P=h[k+1][T+1];(0!==k||l>0)&&v.push(E,A,P),(k!==a-1||c<Math.PI)&&v.push(A,C,P)}return e.setIndex(v),e.setAttribute("position",new dp(m,3)),e.setAttribute("normal",new dp(g,3)),e.setAttribute("uv",new dp(y,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(bp),cb=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;de(this,n);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,a,o,r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(bx),db=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;de(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],d=[],h=new Dh,f=new Dh,p=new Dh,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*s,y=v/a*Math.PI*2;f.x=(r+i*Math.cos(y))*Math.cos(g),f.y=(r+i*Math.cos(y))*Math.sin(g),f.z=i*Math.sin(y),u.push(f.x,f.y,f.z),h.x=r*Math.cos(g),h.y=r*Math.sin(g),p.subVectors(f,h).normalize(),c.push(p.x,p.y,p.z),d.push(m/o),d.push(v/a)}for(var x=1;x<=a;x++)for(var b=1;b<=o;b++){var w=(o+1)*x+b-1,_=(o+1)*(x-1)+b-1,S=(o+1)*(x-1)+b,M=(o+1)*x+b;l.push(w,_,M),l.push(_,S,M)}return e.setIndex(l),e.setAttribute("position",new dp(u,3)),e.setAttribute("normal",new dp(c,3)),e.setAttribute("uv",new dp(d,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(bp),hb=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;de(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var u=[],c=[],d=[],h=[],f=new Dh,p=new Dh,v=new Dh,m=new Dh,g=new Dh,y=new Dh,x=new Dh,b=0;b<=a;++b){var w=b/a*s*Math.PI*2;L(w,s,l,r,v),L(w+.01,s,l,r,m),y.subVectors(m,v),x.addVectors(m,v),g.crossVectors(y,x),x.crossVectors(g,y),g.normalize(),x.normalize();for(var _=0;_<=o;++_){var S=_/o*Math.PI*2,M=-i*Math.cos(S),k=i*Math.sin(S);f.x=v.x+(M*x.x+k*g.x),f.y=v.y+(M*x.y+k*g.y),f.z=v.z+(M*x.z+k*g.z),c.push(f.x,f.y,f.z),p.subVectors(f,v).normalize(),d.push(p.x,p.y,p.z),h.push(b/a),h.push(_/o)}}for(var T=1;T<=a;T++)for(var E=1;E<=o;E++){var A=(o+1)*(T-1)+(E-1),C=(o+1)*T+(E-1),P=(o+1)*T+E,R=(o+1)*(T-1)+E;u.push(A,C,R),u.push(C,P,R)}function L(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new dp(c,3)),e.setAttribute("normal",new dp(d,3)),e.setAttribute("uv",new dp(h,2)),e}return fe(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(bp),fb=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cx(new Dh(-1,-1,0),new Dh(-1,1,0),new Dh(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];de(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var l=r.computeFrenetFrames(i,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var u=new Dh,c=new Dh,d=new ah,h=new Dh,f=[],p=[],v=[],m=[];function g(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),b(),x()}function y(e){h=r.getPointAt(e/i,h);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=o;s++){var d=s/o*Math.PI*2,v=Math.sin(d),m=-Math.cos(d);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=h.x+a*c.x,u.y=h.y+a*c.y,u.z=h.z+a*c.z,f.push(u.x,u.y,u.z)}}function x(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}function b(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)d.x=e/i,d.y=t/o,v.push(d.x,d.y)}return g(),e.setIndex(m),e.setAttribute("position",new dp(f,3)),e.setAttribute("normal",new dp(p,3)),e.setAttribute("uv",new dp(v,2)),e}return fe(n,[{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new hx[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(bp),pb=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(de(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new Dh,s=new Dh;if(null!==r.index){var l=r.attributes.position,u=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var d=0,h=c.length;d<h;++d)for(var f=c[d],p=f.start,v=f.count,m=p,g=p+v;m<g;m+=3)for(var y=0;y<3;y++){var x=u.getX(m+y),b=u.getX(m+(y+1)%3);o.fromBufferAttribute(l,x),s.fromBufferAttribute(l,b),!0===vb(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var w=r.attributes.position,_=0,S=w.count/3;_<S;_++)for(var M=0;M<3;M++){var k=3*_+M,T=3*_+(M+1)%3;o.fromBufferAttribute(w,k),s.fromBufferAttribute(w,T),!0===vb(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new dp(i,3))}return e}return fe(n)}(bp);function vb(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var mb=Object.freeze({__proto__:null,BoxGeometry:Bp,CapsuleGeometry:mx,CircleGeometry:gx,ConeGeometry:xx,CylinderGeometry:yx,DodecahedronGeometry:wx,EdgesGeometry:Tx,ExtrudeGeometry:rb,IcosahedronGeometry:ab,LatheGeometry:vx,OctahedronGeometry:ob,PlaneGeometry:ov,PolyhedronGeometry:bx,RingGeometry:sb,ShapeGeometry:lb,SphereGeometry:ub,TetrahedronGeometry:cb,TorusGeometry:db,TorusKnotGeometry:hb,TubeGeometry:fb,WireframeGeometry:pb}),gb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new _h(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(Qf),yb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return fe(n)}(Gp),xb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new _h(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new _h(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dd,r.normalScale=new ah(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Qf),bb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new ah(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(se(r),"reflectivity",{get:function(){return Zd(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new _h(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new _h(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new _h(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._iridescence=0,r._transmission=0,r.setValues(e),r}return fe(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=K(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(xb),wb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new _h(16777215),r.specular=new _h(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new _h(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dd,r.normalScale=new ah(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Mu,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Qf),_b=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new _h(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new _h(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dd,r.normalScale=new ah(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Qf),Sb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dd,r.normalScale=new ah(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Qf),Mb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new _h(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new _h(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dd,r.normalScale=new ah(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Mu,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Qf),kb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new _h(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=dd,r.normalScale=new ah(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Qf),Tb=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(ky);function Eb(e,t,n){return Cb(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Ab(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Cb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Pb(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Rb(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i}function Lb(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var Ib=Object.freeze({__proto__:null,arraySlice:Eb,convertArray:Ab,isTypedArray:Cb,getKeyframeOrder:Pb,sortedArray:Rb,flattenJSON:Lb,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],u=l.getValueSize(),c=[],d=[],h=0;h<l.times.length;++h){var f=l.times[h]*i;if(!(f<n||f>=r)){c.push(l.times[h]);for(var p=0;p<u;++p)d.push(l.values[h*u+p])}}0!==c.length&&(l.times=Ab(c,l.times.constructor),l.values=Ab(d,l.values.constructor),o.push(l))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var d=r.times.length-1,h=void 0;if(a<=r.times[0]){var f=s,p=l-s;h=Eb(r.values,f,p)}else if(a>=r.times[d]){var v=d*l+s,m=v+l-s;h=Eb(r.values,v,m)}else{var g=r.createInterpolant(),y=s,x=l-s;g.evaluate(a),h=Eb(g.resultBuffer,y,x)}"quaternion"===i&&(new zh).fromArray(h).normalize().conjugate().toArray(h);for(var b=o.times.length,w=0;w<b;++w){var _=w*c+u;if("quaternion"===i)zh.multiplyQuaternionsFlat(o.values,_,h,0,o.values,_);else for(var S=c-2*u,M=0;M<S;++M)o.values[_+M]-=h[M]}},s=0;s<i;++s)o(s);return e.blendMode=rd,e}}),Nb=function(){function e(t,n,r,i){de(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return fe(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),zb=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){var o;return de(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:$c,endingEnd:$c},o}return fe(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case ed:i=e,o=2*t-n;break;case td:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ed:a=e,s=2*n-t;break;case td:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,v=p*f,m=-d*v+2*d*p-d*f,g=(1+d)*v+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*v+(1.5+h)*p+.5*f,x=h*v-h*p,b=0;b!==o;++b)i[b]=m*a[u+b]+g*a[l+b]+y*a[s+b]+x*a[c+b];return i}}]),n}(Nb),Db=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),t.call(this,e,r,i,a)}return fe(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,d=0;d!==o;++d)i[d]=a[l+d]*c+a[s+d]*u;return i}}]),n}(Nb),Ob=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),t.call(this,e,r,i,a)}return fe(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Nb),Fb=function(){function e(t,n,r,i){if(de(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ab(n,this.TimeBufferType),this.values=Ab(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return fe(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Ob(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Db(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new zb(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Zc:t=this.InterpolantFactoryMethodDiscrete;break;case Jc:t=this.InterpolantFactoryMethodLinear;break;case Qc:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Zc;case this.InterpolantFactoryMethodLinear:return Jc;case this.InterpolantFactoryMethodSmooth:return Qc}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Eb(n,i,a),this.values=Eb(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Cb(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Eb(this.times),t=Eb(this.values),n=this.getValueSize(),r=this.getInterpolation()===Qc,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,d=u+n,h=0;h!==n;++h){var f=t[u+h];if(f!==t[c+h]||f!==t[d+h]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,x=0;x!==n;++x)t[y+x]=t[g+x];++a}return a!==e.length?(this.times=Eb(e,0,a),this.values=Eb(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Eb(this.times,0),t=Eb(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ab(e.times,Array),values:Ab(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Fb.prototype.TimeBufferType=Float32Array,Fb.prototype.ValueBufferType=Float32Array,Fb.prototype.DefaultInterpolation=Jc;var Ub=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(Fb);Ub.prototype.ValueTypeName="bool",Ub.prototype.ValueBufferType=Array,Ub.prototype.DefaultInterpolation=Zc,Ub.prototype.InterpolantFactoryMethodLinear=void 0,Ub.prototype.InterpolantFactoryMethodSmooth=void 0;var Bb=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(Fb);Bb.prototype.ValueTypeName="color";var jb=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(Fb);jb.prototype.ValueTypeName="number";var Hb=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),t.call(this,e,r,i,a)}return fe(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)zh.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(Nb),Vb=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Hb(this.times,this.values,this.getValueSize(),e)}}]),n}(Fb);Vb.prototype.ValueTypeName="quaternion",Vb.prototype.DefaultInterpolation=Jc,Vb.prototype.InterpolantFactoryMethodSmooth=void 0;var Gb=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(Fb);Gb.prototype.ValueTypeName="string",Gb.prototype.ValueBufferType=Array,Gb.prototype.DefaultInterpolation=Zc,Gb.prototype.InterpolantFactoryMethodLinear=void 0,Gb.prototype.InterpolantFactoryMethodSmooth=void 0;var Wb=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n)}(Fb);Wb.prototype.ValueTypeName="vector";var qb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nd;de(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Kd(),this.duration<0&&this.resetDuration()}return fe(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Xb(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(Fb.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=Pb(s);s=Rb(s,1,u),l=Rb(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new jb(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var d=[];for(var h in r)d.push(this.CreateFromMorphTargetSequence(h,r[h],t,n));return d}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Lb(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},h=void 0;for(h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)d[c[h].morphTargets[f]]=-1;for(var p in d){for(var v=[],m=[],g=0;g!==c[h].morphTargets.length;++g){var y=c[h];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new jb(".morphTargetInfluence["+p+"]",v,m))}s=d.length*a}else{var x=".bones["+t[u].name+"]";n(Wb,x+".position",c,"pos",r),n(Vb,x+".quaternion",c,"rot",r),n(Wb,x+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function Xb(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jb;case"vector":case"vector2":case"vector3":case"vector4":return Wb;case"color":return Bb;case"quaternion":return Vb;case"bool":case"boolean":return Ub;case"string":return Gb}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Lb(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Yb,Kb={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Zb=fe((function e(t,n,r){de(this,e);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),Jb=new Zb,Qb=function(){function e(t){de(this,e),this.manager=void 0!==t?t:Jb,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return fe(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),$b={},ew=function(e){le(n,e);var t=ce(n);function n(e,r){var i;return de(this,n),(i=t.call(this,e)).response=r,i}return fe(n)}(re(Error)),tw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=Kb.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===$b[e]){$b[e]=[],$b[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=$b[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,d=n.length;c<d;c++){var h=n[c];h.onProgress&&h.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new ew('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){Kb.add(e,t);var n=$b[e];delete $b[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=$b[e];if(void 0===n)throw i.manager.itemError(e),t;delete $b[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else $b[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(Qb),nw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new tw(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=qb.parse(e[n]);t.push(r)}return t}}]),n}(Qb),rw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new Wy,s=new tw(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function u(u){s.load(e[u],(function(e){var n=i.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=Xu),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,d=e.length;c<d;++c)u(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Xu),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(Qb),iw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Kb.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=ch("img");function s(){u(),Kb.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(Qb),aw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=new Kp,a=new iw(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}]),n}(Qb),ow=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new vy,o=new tw(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Bu,a.wrapT=void 0!==n.wrapT?n.wrapT:Bu,a.magFilter=void 0!==n.magFilter?n.magFilter:Xu,a.minFilter=void 0!==n.minFilter?n.minFilter:Xu,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Zu),1===n.mipmapCount&&(a.minFilter=Xu),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(Qb),sw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=new Eh,a=new iw(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(Qb),lw=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return de(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new _h(e),r.intensity=i,r}return fe(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Uf),uw=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;return de(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Uf.DefaultUp),a.updateMatrix(),a.groundColor=new _h(r),a}return fe(n,[{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(lw),cw=new pf,dw=new Dh,hw=new Dh,fw=function(){function e(t){de(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ah(512,512),this.map=null,this.mapPass=null,this.matrix=new pf,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rv,this._frameExtents=new ah(1,1),this._viewportCount=1,this._viewports=[new Ah(0,0,1,1)]}return fe(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;dw.setFromMatrixPosition(e.matrixWorld),t.position.copy(dw),hw.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(hw),t.updateMatrixWorld(),cw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cw),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),pw=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,new qp(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return fe(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Yd*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),Il($(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(fw),vw=function(e){le(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return de(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Uf.DefaultUp),i.updateMatrix(),i.target=new Uf,i.distance=a,i.angle=o,i.penumbra=s,i.decay=l,i.map=null,i.shadow=new pw,i}return fe(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(lw),mw=new pf,gw=new Dh,yw=new Dh,xw=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,new qp(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new ah(4,2),e._viewportCount=6,e._viewports=[new Ah(2,1,1,1),new Ah(0,1,1,1),new Ah(3,1,1,1),new Ah(1,1,1,1),new Ah(3,0,1,1),new Ah(1,0,1,1)],e._cubeDirections=[new Dh(1,0,0),new Dh(-1,0,0),new Dh(0,0,1),new Dh(0,0,-1),new Dh(0,1,0),new Dh(0,-1,0)],e._cubeUps=[new Dh(0,1,0),new Dh(0,1,0),new Dh(0,1,0),new Dh(0,1,0),new Dh(0,0,1),new Dh(0,0,-1)],e}return fe(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),gw.setFromMatrixPosition(e.matrixWorld),n.position.copy(gw),yw.copy(n.position),yw.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(yw),n.updateMatrixWorld(),r.makeTranslation(-gw.x,-gw.y,-gw.z),mw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mw)}}]),n}(fw),bw=function(e){le(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return de(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new xw,i}return fe(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(lw),ww=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,new mv(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return fe(n)}(fw),_w=function(e){le(n,e);var t=ce(n);function n(e,r){var i;return de(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Uf.DefaultUp),i.updateMatrix(),i.target=new Uf,i.shadow=new ww,i}return fe(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(lw),Sw=function(e){le(n,e);var t=ce(n);function n(e,r){var i;return de(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return fe(n)}(lw),Mw=function(e){le(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return de(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return fe(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(lw),kw=function(){function e(){de(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Dh)}return fe(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),Tw=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new kw,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return de(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(lw),Ew=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this,e)).textures={},r}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new tw(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new _h).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new _h).setHex(o.value);break;case"v2":i.uniforms[a].value=(new ah).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new Dh).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new Ah).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new oh).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new pf).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var l=e.normalScale;!1===Array.isArray(l)&&(l=[l,l]),i.normalScale=(new ah).fromArray(l)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new ah).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:gb,SpriteMaterial:Gg,RawShaderMaterial:yb,ShaderMaterial:Gp,PointsMaterial:Dy,MeshPhysicalMaterial:bb,MeshStandardMaterial:xb,MeshPhongMaterial:wb,MeshToonMaterial:_b,MeshNormalMaterial:Sb,MeshLambertMaterial:Mb,MeshDepthMaterial:bg,MeshDistanceMaterial:wg,MeshBasicMaterial:$f,MeshMatcapMaterial:kb,LineDashedMaterial:Tb,LineBasicMaterial:ky,Material:Qf}[e]}}]),n}(Qb),Aw=function(){function e(){de(this,e)}return fe(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),Cw=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=Il($(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(bp),Pw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new tw(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),o=uh(i.type,a),s=new jg(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new Cw:new bp,a=e.data.index;if(void 0!==a){var o=uh(a.type,a.array);i.setIndex(new np(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var d=r(e.data,u.data);c=new Vg(d,u.itemSize,u.offset,u.normalized)}else{var h=uh(u.type,u.array);c=new(u.isInstancedBufferAttribute?xy:np)(h,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),i.setAttribute(l,c)}var f=e.data.morphAttributes;if(f)for(var p in f){for(var v=f[p],m=[],g=0,y=v.length;g<y;g++){var x=v[g],b=void 0;if(x.isInterleavedBufferAttribute){var w=r(e.data,x.data);b=new Vg(w,x.itemSize,x.offset,x.normalized)}else{var _=uh(x.type,x.array);b=new np(_,x.itemSize,x.normalized)}void 0!==x.name&&(b.name=x.name),m.push(b)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(var M=0,k=S.length;M!==k;++M){var T=S[M];i.addGroup(T.start,T.count,T.materialIndex)}var E=e.data.boundingSphere;if(void 0!==E){var A=new Dh;void 0!==E.center&&A.fromArray(E.center),i.boundingSphere=new af(A,E.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(Qb),Rw=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?Aw.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new tw(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"loadAsync",value:function(){var e=Q(ae().mark((function e(t,n){var r,i,a,o,s,l;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?Aw.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new tw(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){var c=!1;for(var d in a)if(a[d].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseAsync",value:function(){var e=Q(ae().mark((function e(t){var n,r,i,a,o,s,l,u;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,i,s,o,n),u=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,u),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Ex).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new yy).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new Pw,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in mb?o=mb[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new Ew;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=qb.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:uh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new Zb(t);(n=new iw(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){for(var d=[],h=0,f=c.length;h<f;h++){var p=a(c[h]);null!==p&&(p instanceof HTMLImageElement?d.push(p):d.push(new vy(p.data,p.width,p.height)))}i[u.uuid]=new Mh(d)}else{var v=a(u.url);i[u.uuid]=new Mh(v)}}}return i}},{key:"parseImagesAsync",value:function(){var e=Q(ae().mark((function e(t){var n,r,i,a,o,s,l,u,c,d,h,f,p,v,m;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=Q(ae().mark((function e(t){var r,a;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:uh(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new iw(this.manager)).setCrossOrigin(this.crossOrigin),s=0,l=t.length;case 8:if(!(s<l)){e.next=33;break}if(u=t[s],c=u.url,!Array.isArray(c)){e.next=26;break}d=[],h=0,f=c.length;case 14:if(!(h<f)){e.next=23;break}return p=c[h],e.next=18,a(p);case 18:null!==(v=e.sent)&&(v instanceof HTMLImageElement?d.push(v):d.push(new vy(v.data,v.width,v.height)));case 20:h++,e.next=14;break;case 23:r[u.uuid]=new Mh(d),e.next=30;break;case 26:return e.next=28,a(u.url);case 28:m=e.sent,r[u.uuid]=new Mh(m);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],l=s.data,u=void 0;Array.isArray(l)?(u=new Kp,6===l.length&&(u.needsUpdate=!0)):(u=l&&l.data?new vy:new Eh,l&&(u.needsUpdate=!0)),u.source=s,u.uuid=o.uuid,void 0!==o.name&&(u.name=o.name),void 0!==o.mapping&&(u.mapping=n(o.mapping,Lw)),void 0!==o.offset&&u.offset.fromArray(o.offset),void 0!==o.repeat&&u.repeat.fromArray(o.repeat),void 0!==o.center&&u.center.fromArray(o.center),void 0!==o.rotation&&(u.rotation=o.rotation),void 0!==o.wrap&&(u.wrapS=n(o.wrap[0],Iw),u.wrapT=n(o.wrap[1],Iw)),void 0!==o.format&&(u.format=o.format),void 0!==o.type&&(u.type=o.type),void 0!==o.encoding&&(u.encoding=o.encoding),void 0!==o.minFilter&&(u.minFilter=n(o.minFilter,Nw)),void 0!==o.magFilter&&(u.magFilter=n(o.magFilter,Nw)),void 0!==o.anisotropy&&(u.anisotropy=o.anisotropy),void 0!==o.flipY&&(u.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(u.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(u.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(u.userData=o.userData),r[o.uuid]=u}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new Bg,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new _h(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Ug(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Fg(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new qp(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new mv(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Sw(e.color,e.intensity);break;case"DirectionalLight":a=new _w(e.color,e.intensity);break;case"PointLight":a=new bw(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Mw(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new vw(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new uw(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new Tw).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),a=new fy(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),a=new Fp(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);var d=e.count,h=e.instanceMatrix,f=e.instanceColor;(a=new My(o,s,d)).instanceMatrix=new xy(new Float32Array(h.array),16),void 0!==f&&(a.instanceColor=new xy(new Float32Array(f.array),f.itemSize));break;case"LOD":a=new sy;break;case"Line":a=new Ry(l(e.geometry),u(e.material));break;case"LineLoop":a=new zy(l(e.geometry),u(e.material));break;case"LineSegments":a=new Ny(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new jy(l(e.geometry),u(e.material));break;case"Sprite":a=new ry(u(e.material));break;case"Group":a=new Eg;break;case"Bone":a=new py;break;default:a=new Uf}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var x=e.levels,b=0;b<x.length;b++){var w=x[b],_=a.getObjectByProperty("uuid",w.object);void 0!==_&&a.addLevel(_,w.distance)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(Qb),Lw={UVMapping:Iu,CubeReflectionMapping:Nu,CubeRefractionMapping:zu,EquirectangularReflectionMapping:Du,EquirectangularRefractionMapping:Ou,CubeUVReflectionMapping:Fu},Iw={RepeatWrapping:Uu,ClampToEdgeWrapping:Bu,MirroredRepeatWrapping:ju},Nw={NearestFilter:Hu,NearestMipmapNearestFilter:Vu,NearestMipmapLinearFilter:Wu,LinearFilter:Xu,LinearMipmapNearestFilter:Yu,LinearMipmapLinearFilter:Zu},zw=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return fe(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Kb.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){Kb.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(Qb),Dw={getContext:function(){return void 0===Yb&&(Yb=new(window.AudioContext||window.webkitAudioContext)),Yb},setContext:function(e){Yb=e}},Ow=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new tw(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);Dw.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}]),n}(Qb),Fw=function(e){le(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;de(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new _h).set(e),s=(new _h).set(r),l=new Dh(o.r,o.g,o.b),u=new Dh(s.r,s.g,s.b),c=Math.sqrt(Math.PI),d=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),i.sh.coefficients[1].copy(l).sub(u).multiplyScalar(d),i}return fe(n)}(Tw),Uw=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;de(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new _h).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return fe(n)}(Tw),Bw=new pf,jw=new pf,Hw=new pf,Vw=function(){function e(){de(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qp,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qp,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return fe(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Hw.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Xd*t.fov*.5)/t.zoom;jw.elements[12]=-i,Bw.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,Hw.elements[0]=2*t.near/(r-n),Hw.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(Hw),n=-o*t.aspect-a,r=o*t.aspect-a,Hw.elements[0]=2*t.near/(r-n),Hw.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(Hw)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(jw),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Bw)}}]),e}(),Gw=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];de(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return fe(e,[{key:"start",value:function(){this.startTime=Ww(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Ww();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Ww(){return("undefined"===typeof performance?Date:performance).now()}var qw=new Dh,Xw=new zh,Yw=new Dh,Kw=new Dh,Zw=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).type="AudioListener",e.context=Dw.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Gw,e}return fe(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){Il($(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qw,Xw,Yw),Kw.set(0,0,-1).applyQuaternion(Xw),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qw.x,i),t.positionY.linearRampToValueAtTime(qw.y,i),t.positionZ.linearRampToValueAtTime(qw.z,i),t.forwardX.linearRampToValueAtTime(Kw.x,i),t.forwardY.linearRampToValueAtTime(Kw.y,i),t.forwardZ.linearRampToValueAtTime(Kw.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(qw.x,qw.y,qw.z),t.setOrientation(Kw.x,Kw.y,Kw.z,r.x,r.y,r.z)}}]),n}(Uf),Jw=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return fe(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Uf),Qw=new Dh,$w=new zh,e_=new Dh,t_=new Dh,n_=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return fe(n,[{key:"disconnect",value:function(){Il($(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(Il($(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Qw,$w,e_),t_.set(0,0,1).applyQuaternion($w);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Qw.x,r),t.positionY.linearRampToValueAtTime(Qw.y,r),t.positionZ.linearRampToValueAtTime(Qw.z,r),t.orientationX.linearRampToValueAtTime(t_.x,r),t.orientationY.linearRampToValueAtTime(t_.y,r),t.orientationZ.linearRampToValueAtTime(t_.z,r)}else t.setPosition(Qw.x,Qw.y,Qw.z),t.setOrientation(t_.x,t_.y,t_.z)}}}]),n}(Jw),r_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;de(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return fe(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),i_=function(){function e(t,n,r){var i,a,o;switch(de(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return fe(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){zh.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;zh.multiplyQuaternionsFlat(e,a,e,t,e,n),zh.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),a_="\\[\\]\\.:\\/",o_=new RegExp("[\\[\\]\\.:\\/]","g"),s_="[^\\[\\]\\.:\\/]",l_="[^"+a_.replace("\\.","")+"]",u_=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",s_)+/(WCOD+)?/.source.replace("WCOD",l_)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",s_)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",s_)+"$"),c_=["material","materials","bones","map"],d_=function(){function e(t,n,r){de(this,e);var i=r||h_.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return fe(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),h_=function(){function e(t,n,r){de(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return fe(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(o_,"")}},{key:"parseTrackName",value:function(e){var t=u_.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==c_.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();h_.Composite=d_,h_.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},h_.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},h_.prototype.GetterByBindingType=[h_.prototype._getValue_direct,h_.prototype._getValue_array,h_.prototype._getValue_arrayElement,h_.prototype._getValue_toArray],h_.prototype.SetterByBindingTypeAndVersioning=[[h_.prototype._setValue_direct,h_.prototype._setValue_direct_setNeedsUpdate,h_.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[h_.prototype._setValue_array,h_.prototype._setValue_array_setNeedsUpdate,h_.prototype._setValue_array_setMatrixWorldNeedsUpdate],[h_.prototype._setValue_arrayElement,h_.prototype._setValue_arrayElement_setNeedsUpdate,h_.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[h_.prototype._setValue_fromArray,h_.prototype._setValue_fromArray_setNeedsUpdate,h_.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var f_=function(){function e(){de(this,e),this.isAnimationObjectGroup=!0,this.uuid=Kd(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return fe(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var d=arguments[u],h=d.uuid,f=t[h];if(void 0===f){f=s++,t[h]=f,e.push(d);for(var p=0,v=a;p!==v;++p)i[p].push(new h_(d,n[p],r[p]))}else if(f<l){o=e[f];var m=--l,g=e[m];t[g.uuid]=f,e[f]=g,t[h]=m,e[m]=d;for(var y=0,x=a;y!==x;++y){var b=i[y],w=b[m],_=b[f];b[f]=w,void 0===_&&(_=new h_(d,n[y],r[y])),b[m]=_}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,d=e[c];t[d.uuid]=u,e[u]=d,t[l]=c,e[c]=s;for(var h=0,f=r;h!==f;++h){var p=n[h],v=p[c],m=p[u];p[u]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=t[u];if(void 0!==c)if(delete t[u],c<i){var d=--i,h=e[d],f=--a,p=e[f];t[h.uuid]=c,e[c]=h,t[p.uuid]=d,e[d]=p,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[d],x=g[f];g[c]=y,g[d]=x,g.pop()}}else{var b=--a,w=e[b];b>0&&(t[w.uuid]=c),e[c]=w,e.pop();for(var _=0,S=r;_!==S;++_){var M=n[_];M[c]=M[b],M.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var d=u,h=s.length;d!==h;++d){var f=s[d];c[d]=new h_(f,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),p_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;de(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:$c,endingEnd:$c},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Yc,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return fe(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===rd)for(var c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var h=0,f=l.length;h!==f;++h)l[h].evaluate(o),u[h].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Kc;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Xc){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=ed,r.endingEnd=ed):(r.endingStart=e?this.zeroSlopeAtStart?ed:$c:td,r.endingEnd=t?this.zeroSlopeAtEnd?ed:$c:td)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),v_=new Float32Array(1),m_=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return fe(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var d=r[c],h=d.name,f=u[h];if(void 0!==f)++f.referenceCount,a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new i_(h_.create(n,h,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(f,s,h),a[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Db(new Float32Array(2),new Float32Array(2),1,v_)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?qb.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:nd),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new p_(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?qb.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Gd),g_=function(){function e(t){de(this,e),this.value=t}return fe(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),y_=0,x_=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(se(e),"id",{value:y_++}),e.name="",e.usage=Ld,e.uniforms=[],e}return fe(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Gd),b_=function(e){le(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return de(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=Il($(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=Il($(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(jg),w_=function(){function e(t,n,r,i,a){de(this,e),this.isGLBufferAttribute=!0,this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return fe(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),__=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;de(this,e),this.ray=new ff(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new kf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return fe(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return M_(e,this,n,t),n.sort(S_),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)M_(e[r],this,n,t);return n.sort(S_),n}}]),e}();function S_(e,t){return e.distance-t.distance}function M_(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)M_(i[a],t,n,!0)}var k_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return de(this,e),this.radius=t,this.phi=n,this.theta=r,this}return fe(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Zd(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),T_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return de(this,e),this.radius=t,this.theta=n,this.y=r,this}return fe(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),E_=new ah,A_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ah(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ah(-1/0,-1/0);de(this,e),this.isBox2=!0,this.min=t,this.max=n}return fe(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=E_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return E_.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),C_=new Dh,P_=new Dh,R_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh;de(this,e),this.start=t,this.end=n}return fe(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){C_.subVectors(e,this.start),P_.subVectors(this.end,this.start);var n=P_.dot(P_),r=P_.dot(C_)/n;return t&&(r=Zd(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),L_=new Dh,I_=function(e){le(n,e);var t=ce(n);function n(e,r){var i;de(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var a=new bp,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;o.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new dp(o,3));var d=new ky({fog:!1,toneMapped:!1});return i.cone=new Ny(a,d),i.add(i.cone),i.update(),i}return fe(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),L_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(L_),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Uf),N_=new Dh,z_=new pf,D_=new pf,O_=function(e){le(n,e);var t=ce(n);function n(e){var r;de(this,n);for(var i=F_(e),a=new bp,o=[],s=[],l=new _h(0,0,1),u=new _h(0,1,0),c=0;c<i.length;c++){var d=i[c];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}a.setAttribute("position",new dp(o,3)),a.setAttribute("color",new dp(s,3));var h=new ky({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,h)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return fe(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");D_.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(z_.multiplyMatrices(D_,s.matrixWorld),N_.setFromMatrixPosition(z_),i.setXYZ(o,N_.x,N_.y,N_.z),z_.multiplyMatrices(D_,s.parent.matrixWorld),N_.setFromMatrixPosition(z_),i.setXYZ(o+1,N_.x,N_.y,N_.z),o+=2)}r.getAttribute("position").needsUpdate=!0,Il($(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Ny);function F_(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,F_(e.children[n]));return t}var U_=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;de(this,n);var o=new ub(r,4,2),s=new $f({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.light.updateMatrixWorld(),a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return fe(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Fp),B_=new Dh,j_=new _h,H_=new _h,V_=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;de(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i;var o=new ob(r);o.rotateY(.5*Math.PI),a.material=new $f({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),l=new Float32Array(3*s.count);return o.setAttribute("color",new np(l,3)),a.add(new Fp(o,a.material)),a.update(),a}return fe(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");j_.copy(this.light.color),H_.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?j_:H_;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(B_.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Uf),G_=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;de(this,n),a=new _h(a),o=new _h(o);for(var s=i/2,l=r/i,u=r/2,c=[],d=[],h=0,f=0,p=-u;h<=i;h++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var v=h===s?a:o;v.toArray(d,f),f+=3,v.toArray(d,f),f+=3,v.toArray(d,f),f+=3,v.toArray(d,f),f+=3}var m=new bp;m.setAttribute("position",new dp(c,3)),m.setAttribute("color",new dp(d,3));var g=new ky({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return fe(n)}(Ny),W_=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;de(this,n),s=new _h(s),l=new _h(l);var u=[],c=[];if(i>1)for(var d=0;d<i;d++){var h=d/i*(2*Math.PI),f=Math.sin(h)*r,p=Math.cos(h)*r;u.push(0,0,0),u.push(f,0,p);var v=1&d?s:l;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var g=1&m?s:l,y=r-r/a*m,x=0;x<o;x++){var b=x/o*(2*Math.PI),w=Math.sin(b)*y,_=Math.cos(b)*y;u.push(w,0,_),c.push(g.r,g.g,g.b),b=(x+1)/o*(2*Math.PI),w=Math.sin(b)*y,_=Math.cos(b)*y,u.push(w,0,_),c.push(g.r,g.g,g.b)}var S=new bp;S.setAttribute("position",new dp(u,3)),S.setAttribute("color",new dp(c,3));var M=new ky({vertexColors:!0,toneMapped:!1});return(e=t.call(this,S,M)).type="PolarGridHelper",e}return fe(n)}(Ny),q_=new Dh,X_=new Dh,Y_=new Dh,K_=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;de(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,void 0===r&&(r=1);var o=new bp;o.setAttribute("position",new dp([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new ky({fog:!1,toneMapped:!1});return a.lightPlane=new Ry(o,s),a.add(a.lightPlane),(o=new bp).setAttribute("position",new dp([0,0,0,0,0,1],3)),a.targetLine=new Ry(o,s),a.add(a.targetLine),a.update(),a}return fe(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){q_.setFromMatrixPosition(this.light.matrixWorld),X_.setFromMatrixPosition(this.light.target.matrixWorld),Y_.subVectors(X_,q_),this.lightPlane.lookAt(X_),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(X_),this.targetLine.scale.z=Y_.length()}}]),n}(Uf),Z_=new Dh,J_=new Wp,Q_=function(e){le(n,e);var t=ce(n);function n(e){var r;de(this,n);var i=new bp,a=new ky({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],l={};function u(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===l[e]&&(l[e]=[]),l[e].push(o.length/3-1)}u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4"),i.setAttribute("position",new dp(o,3)),i.setAttribute("color",new dp(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update();var d=new _h(16755200),h=new _h(16711680),f=new _h(43775),p=new _h(16777215),v=new _h(3355443);return r.setColors(d,h,f,p,v),r}return fe(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;J_.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),$_("c",t,e,J_,0,0,-1),$_("t",t,e,J_,0,0,1),$_("n1",t,e,J_,-1,-1,-1),$_("n2",t,e,J_,1,-1,-1),$_("n3",t,e,J_,-1,1,-1),$_("n4",t,e,J_,1,1,-1),$_("f1",t,e,J_,-1,-1,1),$_("f2",t,e,J_,1,-1,1),$_("f3",t,e,J_,-1,1,1),$_("f4",t,e,J_,1,1,1),$_("u1",t,e,J_,.7,1.1,-1),$_("u2",t,e,J_,-.7,1.1,-1),$_("u3",t,e,J_,0,2,-1),$_("cf1",t,e,J_,-1,0,1),$_("cf2",t,e,J_,1,0,1),$_("cf3",t,e,J_,0,-1,1),$_("cf4",t,e,J_,0,1,1),$_("cn1",t,e,J_,-1,0,-1),$_("cn2",t,e,J_,1,0,-1),$_("cn3",t,e,J_,0,-1,-1),$_("cn4",t,e,J_,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ny);function $_(e,t,n,r,i,a,o){Z_.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],Z_.x,Z_.y,Z_.z)}var eS,tS,nS=new Uh,rS=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;de(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new bp;return s.setIndex(new np(a,1)),s.setAttribute("position",new np(o,3)),(r=t.call(this,s,new ky({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return fe(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&nS.setFromObject(this.object),!nS.isEmpty()){var t=nS.min,n=nS.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return Il($(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}}]),n}(Ny),iS=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;de(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new bp;return s.setIndex(new np(a,1)),s.setAttribute("position",new dp(o,3)),(r=t.call(this,s,new ky({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return fe(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Il($(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(Ny),aS=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;de(this,n);var o=a,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new bp;l.setAttribute("position",new dp(s,3)),l.computeBoundingSphere(),(r=t.call(this,l,new ky({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new bp;return c.setAttribute("position",new dp(u,3)),c.computeBoundingSphere(),r.add(new Fp(c,new $f({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return fe(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),Il($(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Ry),oS=new Dh,sS=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Dh(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return de(this,n),(e=t.call(this)).type="ArrowHelper",void 0===eS&&((eS=new bp).setAttribute("position",new dp([0,0,0,0,1,0],3)),(tS=new yx(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new Ry(eS,new ky({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Fp(tS,new $f({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,l),e}return fe(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{oS.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(oS,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(Uf),lS=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;de(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new bp;o.setAttribute("position",new dp(i,3)),o.setAttribute("color",new dp(a,3));var s=new ky({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return fe(n,[{key:"setColors",value:function(e,t,n){var r=new _h,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ny),uS=function(){function e(){de(this,e),this.type="ShapePath",this.color=new _h,this.subPaths=[],this.currentPath=null}return fe(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new px,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[i],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=eb.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new Ex).curves=r.curves,s.push(i),s;var l=!a(o[0].getPoints());l=e?!l:l;var u,c,d=[],h=[],f=[],p=0;h[p]=void 0,f[p]=[];for(var v=0,m=o.length;v<m;v++)n=a(u=(r=o[v]).getPoints()),(n=e?!n:n)?(!l&&h[p]&&p++,h[p]={s:new Ex,p:u},h[p].s.curves=r.curves,l&&p++,f[p]=[]):f[p].push({h:r,p:u[0]});if(!h[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Ex;a.curves=i.curves,t.push(a)}return t}(o);if(h.length>1){for(var g=!1,y=0,x=0,b=h.length;x<b;x++)d[x]=[];for(var w=0,_=h.length;w<_;w++)for(var S=f[w],M=0;M<S.length;M++){for(var k=S[M],T=!0,E=0;E<h.length;E++)t(k.p,h[E].p)&&(w!==E&&y++,T?(T=!1,d[E].push(k)):g=!0);T&&d[w].push(k)}y>0&&!1===g&&(f=d)}for(var A=0,C=h.length;A<C;A++){i=h[A].s,s.push(i);for(var P=0,R=(c=f[A]).length;P<R;P++)i.holes.push(c[P].h)}return s}}]),e}(),cS=dS();function dS(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64),c=1;c<1024;++c){for(var d=c<<13,h=0;0===(8388608&d);)d<<=1,h-=8388608;d&=-8388609,h+=947912704,s[c]=d|h}for(var f=1024;f<2048;++f)s[f]=939524096+(f-1024<<13);for(var p=1;p<31;++p)l[p]=p<<23;l[31]=1199570944,l[32]=2147483648;for(var v=33;v<63;++v)l[v]=2147483648+(v-32<<23);l[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(u[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:u}}var hS=Object.freeze({__proto__:null,toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Zd(e,-65504,65504),cS.floatView[0]=e;var t=cS.uint32View[0],n=t>>23&511;return cS.baseTable[n]+((8388607&t)>>cS.shiftTable[n])},fromHalfFloat:function(e){var t=e>>10;return cS.uint32View[0]=cS.mantissaTable[cS.offsetTable[t]+(1023&e)]+cS.exponentTable[t],cS.floatView[0]}});function fS(){console.error("THREE.ImmediateRenderObject has been removed.")}var pS=function(e){le(n,e);var t=ce(n);function n(e,r,i){var a;return de(this,n),console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),(a=t.call(this,e,r,i)).samples=4,a}return fe(n)}(Ch),vS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),t.call(this,e,r,i,a)}return fe(n)}(Ph),mS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),t.call(this,e,r,i,a)}return fe(n)}(Lh),gS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s){return de(this,n),console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),t.call(this,e,r,i,a,o,s)}return fe(n)}(Bp),yS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),t.call(this,e,r,i,a)}return fe(n)}(mx),xS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),t.call(this,e,r,i,a)}return fe(n)}(gx),bS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l){return de(this,n),console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),t.call(this,e,r,i,a,o,s,l)}return fe(n)}(xx),wS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l,u){return de(this,n),console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),t.call(this,e,r,i,a,o,s,l,u)}return fe(n)}(yx),_S=function(e){le(n,e);var t=ce(n);function n(e,r){return de(this,n),console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),t.call(this,e,r)}return fe(n)}(wx),SS=function(e){le(n,e);var t=ce(n);function n(e,r){return de(this,n),console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),t.call(this,e,r)}return fe(n)}(rb),MS=function(e){le(n,e);var t=ce(n);function n(e,r){return de(this,n),console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),t.call(this,e,r)}return fe(n)}(ab),kS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),t.call(this,e,r,i,a)}return fe(n)}(vx),TS=function(e){le(n,e);var t=ce(n);function n(e,r){return de(this,n),console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),t.call(this,e,r)}return fe(n)}(ob),ES=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),t.call(this,e,r,i,a)}return fe(n)}(ov),AS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),t.call(this,e,r,i,a)}return fe(n)}(bx),CS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s){return de(this,n),console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),t.call(this,e,r,i,a,o,s)}return fe(n)}(sb),PS=function(e){le(n,e);var t=ce(n);function n(e,r){return de(this,n),console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),t.call(this,e,r)}return fe(n)}(lb),RS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s,l){return de(this,n),console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),t.call(this,e,r,i,a,o,s,l)}return fe(n)}(ub),LS=function(e){le(n,e);var t=ce(n);function n(e,r){return de(this,n),console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),t.call(this,e,r)}return fe(n)}(cb),IS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o){return de(this,n),console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),t.call(this,e,r,i,a,o)}return fe(n)}(db),NS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o,s){return de(this,n),console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),t.call(this,e,r,i,a,o,s)}return fe(n)}(hb),zS=function(e){le(n,e);var t=ce(n);function n(e,r,i,a,o){return de(this,n),console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),t.call(this,e,r,i,a,o)}return fe(n)}(fb);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Nl}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nl);var DS=n(70);function OS(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var FS="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;var US=n(258),BS=n.n(US),jS=n(296);function HS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}var VS=[];function GS(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=oe(VS);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(HS(t,o.keys,o.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return o.response;if(!r)throw o.promise}}}catch(l){a.e(l)}finally{a.f()}var s={keys:t,equal:i.equal,promise:e.apply(void 0,K(t)).then((function(e){return s.response=e})).then((function(){i.lifespan&&i.lifespan>0&&setTimeout((function(){var e=VS.indexOf(s);-1!==e&&VS.splice(e,1)}),i.lifespan)})).catch((function(e){return s.error=e}))};if(VS.push(s),!r)throw s.promise}var WS,qS,XS=["children","key","ref"],YS=["children","key","ref"],KS=["args","attach"],ZS=["args","children"],JS=["args","children"],QS=["params"],$S=function(e){return e&&e.isOrthographicCamera},eM="undefined"!==typeof window&&(null!=(WS=window.document)&&WS.createElement||"ReactNative"===(null==(qS=window.navigator)?void 0:qS.product))?r.useLayoutEffect:r.useEffect;function tM(e){var t=r.useRef(e);return eM((function(){t.current=e}),[e]),t}function nM(e){var t=e.set;return eM((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var rM=function(e){le(n,e);var t=ce(n);function n(){var e;de(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return fe(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(r.Component);rM.getDerivedStateFromError=function(){return{error:!0}};var iM="__default";function aM(e){var t="undefined"!==typeof window?window.devicePixelRatio:1;return Array.isArray(e)?Math.min(Math.max(e[0],t),e[1]):e}var oM=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},sM={obj:function(e){return e===Object(e)&&!sM.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,l=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(sM.str(e)||sM.num(e))return e===t;var u=sM.obj(e);if(u&&"reference"===o)return e===t;var c,d=sM.arr(e);if(d&&"reference"===i)return e===t;if((d||u)&&e===t)return!0;for(c in e)if(!(c in t))return!1;for(c in l?t:e)if(e[c]!==t[c])return!1;if(sM.und(c)){if(d&&0===e.length&&0===t.length)return!0;if(u&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function lM(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function uM(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=X({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}function cM(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var dM=/-\d+$/;function hM(e,t,n){if(sM.str(n)){if(dM.test(n)){var r=cM(e,n.replace(dM,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=cM(e,n),s=o.target,l=o.key;t.__r3f.previousAttach=s[l],s[l]=t}else t.__r3f.previousAttach=n(e,t)}function fM(e,t,n){var r,i;if(sM.str(n)){var a=cM(e,n),o=a.target,s=a.key,l=t.__r3f.previousAttach;void 0===l?delete o[s]:o[s]=l}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function pM(e,t){t.children,t.key,t.ref;var n,r=Z(t,XS),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,Z(i,YS)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},l=Object.entries(r),c=[];if(o)for(var d=Object.keys(a),h=0;h<d.length;h++)r.hasOwnProperty(d[h])||l.unshift([d[h],iM+"remove"]);l.forEach((function(t){var n,r=u(t,2),i=r[0],o=r[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==i)&&!sM.equ(o,a[i])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(i))return c.push([i,o,!0,[]]);var s=[];i.includes("-")&&(s=i.split("-")),c.push([i,o,!1,s])}}));var f=X({},r);return s.memoizedProps&&s.memoizedProps.args&&(f.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(f.attach=s.memoizedProps.attach),{memoized:f,changes:c}}function vM(e,t){var n,r,i,o=null!=(n=e.__r3f)?n:{},c=o.root,d=null!=(r=null==c||null==c.getState?void 0:c.getState())?r:{},h=(i=t)&&i.memoized&&i.changes?t:pM(e,t),f=h.memoized,p=h.changes,v=o.eventCount;if(e.__r3f&&(e.__r3f.memoizedProps=f),p.forEach((function(t){var n,r,i=u(t,4),c=i[0],h=i[1],p=i[2],v=i[3],m=e,g=m[c];if(v.length&&(g=v.reduce((function(e,t){return e[t]}),e),!g||!g.set)){var y=v.reverse(),x=a(n=y)||Y(n)||s(n)||l(),b=x[0];m=x.slice(1).reverse().reduce((function(e,t){return e[t]}),e),c=b}if(h===iM+"remove")if(g&&g.constructor)h=ne(g.constructor,K(null!=(r=f.args)?r:[]));else if(m.constructor){var w,_=ne(m.constructor,K(null!=(w=m.__r3f.memoizedProps.args)?w:[]));h=_[g],_.dispose&&_.dispose()}else h=0;if(p)h?o.handlers[c]=h:delete o.handlers[c],o.eventCount=Object.keys(o.handlers).length;else if(g&&g.set&&(g.copy||g instanceof kf)){var S;if(Array.isArray(h))g.fromArray?g.fromArray(h):(S=g).set.apply(S,K(h));else if(g.copy&&h&&h.constructor&&g.constructor.name===h.constructor.name)g.copy(h);else if(void 0!==h){var M=g instanceof _h;!M&&g.setScalar?g.setScalar(h):g instanceof kf&&h instanceof kf?g.mask=h.mask:g.set(h);0}}else m[c]=h,!d.linear&&m[c]instanceof Eh&&(m[c].encoding=ld);mM(e)})),o.parent&&d.internal&&e.raycast&&v!==o.eventCount){var m=d.internal.interaction.indexOf(e);m>-1&&d.internal.interaction.splice(m,1),o.eventCount&&d.internal.interaction.push(e)}return p.length&&e.parent&&gM(e),e}function mM(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function gM(e){null==e.onUpdate||e.onUpdate(e)}function yM(e,t){e.manual||($S(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function xM(e,t,n){var r=n.pop(),i=n.reduce((function(e,t){return e[t]}),e);return i[r]=t}function bM(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function wM(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function _M(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n=e.getState().internal;Array.from(n.hovered.values()).forEach((function(e){if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(bM(e)),null!=r&&r.eventCount){var a=X(X({},e),{},{intersections:t});null==i.onPointerOut||i.onPointerOut(a),null==i.onPointerLeave||i.onPointerLeave(a)}}}))}function r(e,t){t.forEach((function(t){var n;return null==(n=t.__r3f)||null==n.handlers.onPointerMissed?void 0:n.handlers.onPointerMissed(e)}))}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&!r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}}return function(a){var o=e.getState(),s=o.onPointerMissed,l=o.internal;l.lastEvent.current=a;var u="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,d=function(t,n){var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;o.forEach((function(e){var t=oM(e);t&&(t.raycaster.camera=void 0)})),r.previousRoot||null==r.events.compute||r.events.compute(t,r);var s=o.flatMap((function(e){var n,r=oM(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=oM(e.object),r=oM(t.object);return n&&r?r.events.priority-n.events.priority||e.distance-t.distance:0})).filter((function(e){var t=bM(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));var l,u=oe(s);try{for(u.s();!(l=u.n()).done;)for(var c=l.value,d=c.object;d;){var h;null!=(h=d.__r3f)&&h.eventCount&&a.push(X(X({},c),{},{eventObject:d})),d=d.parent}}catch(m){u.e(m)}finally{u.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var f,p=oe(r.internal.capturedMap.get(t.pointerId).values());try{for(p.s();!(f=p.n()).done;){var v=f.value;a.push(v.intersection)}}catch(m){p.e(m)}finally{p.f()}}return a}(a,u?t:void 0),h=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(l.initialClick=[a.offsetX,a.offsetY],l.initialHits=d.map((function(e){return e.eventObject}))),c&&!d.length&&h<=2&&(r(a,l.interaction),s&&s(a)),u&&n(d),function(e,t,r,i){e.length&&function(){var a,o={stopped:!1},s=oe(e);try{var l=function(){var s=a.value,l=oM(s.object);if(l){var u=l.raycaster,c=l.pointer,d=l.camera,h=l.internal,f=new Dh(c.x,c.y,0).unproject(d),p=function(e){var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},v=function(e){var n={intersection:s,target:t.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(s.eventObject,n):h.capturedMap.set(e,new Map([[s.eventObject,n]])),t.target.setPointerCapture(e)},m=function(e){var t=h.capturedMap.get(e);t&&wM(h.capturedMap,s.eventObject,t,e)},g={};for(var y in t){var x=t[y];"function"!==typeof x&&(g[y]=x)}var b=X(X(X({},s),g),{},{pointer:c,intersections:e,stopped:o.stopped,delta:r,unprojectedPoint:f,ray:u.ray,camera:d,stopPropagation:function(){var r="pointerId"in t&&h.capturedMap.get(t.pointerId);if((!r||r.has(s.eventObject))&&(b.stopped=o.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((function(e){return e.eventObject===s.eventObject})))){var i=e.slice(0,e.indexOf(s));n([].concat(K(i),[s]))}},target:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:m},currentTarget:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:m},nativeEvent:t});if(i(b),!0===o.stopped)return"break"}};for(s.s();!(a=s.n()).done&&"break"!==l(););}catch(u){s.e(u)}finally{s.f()}}()}(d,a,h,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(u){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=bM(e),d=l.hovered.get(s);d?d.stopped&&e.stopPropagation():(l.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var h=o[i];h?c&&!l.initialHits.includes(t)||(r(a,l.interaction.filter((function(e){return!l.initialHits.includes(e)}))),h(e)):c&&l.initialHits.includes(t)&&r(a,l.interaction.filter((function(e){return!l.initialHits.includes(e)})))}}))}}}}var SM={};var MM,kM=function(e){return!(null==e||!e.render)},TM=r.createContext(null);var EM,AM,CM=new Set,PM=new Set,RM=new Set;function LM(e,t){e.size&&e.forEach((function(e){return(0,e.callback)(t)}))}function IM(e,t){switch(e){case"before":return LM(CM,t);case"after":return LM(PM,t);case"tail":return LM(RM,t)}}function NM(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),EM=t.internal.subscribers,MM=0;MM<EM.length;MM++)(AM=EM[MM]).ref.current(AM.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function zM(){var e=r.useContext(TM);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function DM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return zM()(e,t)}function OM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=zM(),r=n.getState().internal.subscribe,i=tM(e);return eM((function(){return r(i,t,n)}),[t,r,n]),null}function FM(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,lM(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message,")")))}))}))})))}}function UM(e,t,n,r){var i=Array.isArray(t)?t:[t],a=function(e,t,n){return GS(e,t,!1,n)}(FM(n,r),[e].concat(K(i)),{equal:sM.equ});return Array.isArray(t)?a:a[0]}UM.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){GS(e,t,!0,n)}(FM(n),[e].concat(K(r)))},UM.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)VS.splice(0,VS.length);else{var t=VS.find((function(t){return HS(e,t.keys,t.equal)}));if(t){var n=VS.indexOf(t);-1!==n&&VS.splice(n,1)}}}([e].concat(K(n)))};var BM=new Map,jM=function(e){var t,n,r,i=!1;function a(o){if(n=requestAnimationFrame(a),i=!0,t=0,IM("before",o),e.forEach((function(e){var n;!(r=e.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(n=r.gl.xr)&&n.isPresenting||(t+=NM(o,r))})),IM("after",o),0===t)return IM("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;n&&IM("before",t),r?NM(t,r,i):e.forEach((function(e){return NM(t,e.store.getState())})),n&&IM("after",t)}}}(BM),HM=jM.invalidate,VM=jM.advance,GM=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=Z(t,KS),l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=uM(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var u=SM[l];if(!u)throw new Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=uM(ne(u,K(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof bp?r.__r3f.attach="geometry":r instanceof Qf&&(r.__r3f.attach="material")),"inject"!==l&&vM(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?hM(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||uM(t,{}),t.__r3f.parent=e,gM(t),mM(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)hM(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat(K(o.slice(0,s)),[t],K(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||uM(t,{}),t.__r3f.parent=e,gM(t),mM(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&K(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)fM(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){wM(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var l,u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;if(!u)a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,u||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,jS.unstable_scheduleCallback)(jS.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),mM(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")},l=BS()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];var i=r.args,a=void 0===i?[]:i,o=(r.children,Z(r,ZS)),s=n.args,l=void 0===s?[]:s,u=(n.children,Z(n,JS));if(!Array.isArray(a))throw new Error("R3F: the args prop must be an array!");if(a.some((function(e,t){return e!==l[t]})))return[!0];var c=pM(e,o,u,!0);return c.changes.length?[!1,c]:null},commitUpdate:function(e,t,i,a,s,l){var c=u(t,2),d=c[0],h=c[1];d?function(e,t,i,a){var s,l=null==(s=e.__r3f)?void 0:s.parent;if(l){var u=n(t,i,e.__r3f.root);if(e.children){var c,d=oe(e.children);try{for(d.s();!(c=d.n()).done;){var h=c.value;h.__r3f&&r(u,h)}}catch(f){d.e(f)}finally{d.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(u,e)})),e.__r3f.objects=[],o(l,e),r(l,u),u.raycast&&u.__r3f.eventCount&&u.__r3f.root.getState().internal.interaction.push(u),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=u,e.ref&&("function"===typeof e.ref?e.ref(u):e.ref.current=u))}))}}(e,i,s,l):vM(e,h)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return uM(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&fM(i,e,r),e.isObject3D&&(e.visible=!1),mM(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&hM(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),mM(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():DS.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&sM.fun(performance.now)?performance.now:sM.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:sM.fun(setTimeout)?setTimeout:void 0,cancelTimeout:sM.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:l,applyProps:vM}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return DS.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return DS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return DS.ContinuousEventPriority;default:return DS.DefaultEventPriority}})),WM=GM.reconciler,qM=GM.applyProps,XM={objects:"shallow",strict:!1},YM=function(e,t){var n="function"===typeof e?e(t):e;return kM(n)?n:new zg(X({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function KM(e,t){if(t)return t;if(e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return{width:0,height:0,top:0,left:0}}function ZM(t){var n=BM.get(t),i=null==n?void 0:n.fiber,a=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var o,s="function"===typeof reportError?reportError:console.error,l=a||function(e,t){var n=function(e){var t="function"===typeof e?OS(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=u((0,r.useReducer)((function(e){return e+1}),0),2)[1],o=t.getState(),s=(0,r.useRef)(o),l=(0,r.useRef)(n),c=(0,r.useRef)(i),d=(0,r.useRef)(!1),h=(0,r.useRef)();void 0===h.current&&(h.current=n(o));var f=!1;(s.current!==o||l.current!==n||c.current!==i||d.current)&&(e=n(o),f=!i(h.current,e)),FS((function(){f&&(h.current=e),s.current=o,l.current=n,c.current=i,d.current=!1}));var p=(0,r.useRef)(o);FS((function(){var e=function(){try{var e=t.getState(),n=l.current(e);c.current(h.current,n)||(s.current=e,h.current=n,a())}catch(r){d.current=!0,a()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);var v=f?e:h.current;return(0,r.useDebugValue)(v),v};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}((function(n,i){var a=new Dh,o=new Dh,s=new Dh;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,l=n.height,u=n.top,c=n.left,d=r/l;t instanceof Dh?s.copy(t):s.set.apply(s,K(t));var h=e.getWorldPosition(a).distanceTo(s);if($S(e))return{width:r/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:h,aspect:d};var f=e.fov*Math.PI/180,p=2*Math.tan(f/2)*h,v=p*(r/l);return{width:v,height:p,top:u,left:c,factor:r/v,distance:h,aspect:d}}var u=void 0,c=function(e){return n((function(t){return{performance:X(X({},t.performance),{},{current:e})}}))},d=new ah,h={set:n,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,n){return t(e,n,i())},legacy:!1,linear:!1,flat:!1,scene:uM(new Bg),controls:null,clock:new Gw,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();u&&clearTimeout(u),e.performance.current!==e.performance.min&&c(e.performance.min),u=setTimeout((function(){return c(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:function(e){return n((function(t){return X(X({},t),{},{events:X(X({},t.events),e)})}))},setSize:function(e,t,r,a,s){var u=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:r};n((function(e){return{size:c,viewport:X(X({},e.viewport),l(u,o,c))}}))},setDpr:function(e){return n((function(t){var n=aM(e);return{viewport:X(X({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return h})),i=n.getState(),a=i.size,o=i.viewport.dpr,s=i.camera;return n.subscribe((function(){var e=n.getState(),t=e.camera,r=e.size,i=e.viewport,l=e.gl,u=e.set;r===a&&i.dpr===o||(a=r,o=i.dpr,yM(t,r),l.setPixelRatio(i.dpr),l.setSize(r.width,r.height,r.updateStyle)),t!==s&&(s=t,u((function(e){return{viewport:X(X({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),n.subscribe((function(t){return e(t)})),n}(HM,VM),c=i||WM.createContainer(l,DS.ConcurrentRoot,null,!1,null,"",s,null);n||BM.set(t,{fiber:c,store:l});var d=!1;return{configure:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.gl,i=n.size,a=n.events,s=n.onCreated,u=n.shadows,c=void 0!==u&&u,h=n.linear,f=void 0!==h&&h,p=n.flat,v=void 0!==p&&p,m=n.legacy,g=void 0!==m&&m,y=n.orthographic,x=void 0!==y&&y,b=n.frameloop,w=void 0===b?"always":b,_=n.dpr,S=void 0===_?[1,2]:_,M=n.performance,k=n.raycaster,T=n.camera,E=n.onPointerMissed,A=l.getState(),C=A.gl;A.gl||A.set({gl:C=YM(r,t)});var P=A.raycaster;P||A.set({raycaster:P=new __});var R=k||{},L=R.params,I=Z(R,QS);if(sM.equ(I,P,XM)||qM(P,X({},I)),sM.equ(L,P.params,XM)||qM(P,{params:X(X({},P.params),L)}),!A.camera){var N=T instanceof Wp,z=N?T:x?new mv(0,0,0,0,.1,1e3):new qp(75,0,.1,1e3);N||(z.position.z=5,T&&qM(z,T),null!=T&&T.rotation||z.lookAt(0,0,0)),A.set({camera:z})}if(!A.xr){var D=function(e,t){var n=l.getState();"never"!==n.frameloop&&VM(e,!0,n,t)},O=function(){var e=l.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?D:null),e.gl.xr.isPresenting||HM(e)},F={connect:function(){var e=l.getState().gl;e.xr.addEventListener("sessionstart",O),e.xr.addEventListener("sessionend",O)},disconnect:function(){var e=l.getState().gl;e.xr.removeEventListener("sessionstart",O),e.xr.removeEventListener("sessionend",O)}};C.xr&&F.connect(),A.set({xr:F})}if(C.shadowMap){var U=sM.boo(c);if(U&&C.shadowMap.enabled!==c||!sM.equ(c,C.shadowMap,XM)){var B=C.shadowMap.enabled;C.shadowMap.enabled=!!c,U?C.shadowMap.type=Vl:Object.assign(C.shadowMap,c),B!==C.shadowMap.enabled&&(C.shadowMap.needsUpdate=!0)}}xM(e,g,["ColorManagement","legacyMode"]);var j=f?sd:ld,H=v?Eu:Ru;C.outputEncoding!==j&&(C.outputEncoding=j),C.toneMapping!==H&&(C.toneMapping=H),A.legacy!==g&&A.set((function(){return{legacy:g}})),A.linear!==f&&A.set((function(){return{linear:f}})),A.flat!==v&&A.set((function(){return{flat:v}})),!r||sM.fun(r)||kM(r)||sM.equ(r,C,XM)||qM(C,r),a&&!A.events.handlers&&A.set({events:a(l)}),S&&A.viewport.dpr!==aM(S)&&A.setDpr(S);var V=KM(t,i);return sM.equ(V,A.size,XM)||A.setSize(V.width,V.height,V.updateStyle,V.top,V.left),A.frameloop!==w&&A.setFrameloop(w),A.onPointerMissed||A.set({onPointerMissed:E}),M&&!sM.equ(M,A.performance,XM)&&A.set((function(e){return{performance:X(X({},e.performance),M)}})),o=s,d=!0,this},render:function(e){return d||this.configure(),WM.updateContainer(r.createElement(JM,{store:l,children:e,onCreated:o,rootElement:t}),c,null,(function(){})),l},unmount:function(){QM(t)}}}function JM(e){var t=e.store,n=e.children,i=e.onCreated,a=e.rootElement;return eM((function(){var e=t.getState();e.set((function(e){return{internal:X(X({},e.internal),{},{active:!0})}})),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),r.createElement(TM.Provider,{value:t},n)}function QM(e,t){var n=BM.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),WM.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),BM.delete(e),t&&t(e)}catch(s){}}),500)}))}}WM.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:r.version});r.unstable_act;var $M=n(494),ek=n.n($M);function tk(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,i=t.scroll,a=t.polyfill,o=t.offsetSize,s=a||("undefined"===typeof window?fe((function e(){de(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var l=u((0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),c=l[0],d=l[1],h=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),f=n?"number"===typeof n?n:n.scroll:null,p=n?"number"===typeof n?n:n.resize:null,v=(0,r.useRef)(!1);(0,r.useEffect)((function(){return v.current=!0,function(){v.current=!1}}));var m=u((0,r.useMemo)((function(){var e=function(){if(h.current.element){var e=h.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};h.current.element instanceof HTMLElement&&o&&(t.height=h.current.element.offsetHeight,t.width=h.current.element.offsetWidth),Object.freeze(t),v.current&&!ik(h.current.lastBounds,t)&&d(h.current.lastBounds=t)}};return[e,p?ek()(e,p):e,f?ek()(e,f):e]}),[d,o,f,p]),3),g=m[0],y=m[1],x=m[2];function b(){h.current.scrollContainers&&(h.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",x,!0)})),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function w(){h.current.element&&(h.current.resizeObserver=new s(x),h.current.resizeObserver.observe(h.current.element),i&&h.current.scrollContainers&&h.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",x,{capture:!0,passive:!0})})))}var _,S,M;return _=x,S=Boolean(i),(0,r.useEffect)((function(){if(S){var e=_;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[_,S]),M=y,(0,r.useEffect)((function(){var e=M;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[M]),(0,r.useEffect)((function(){b(),w()}),[i,x,y]),(0,r.useEffect)((function(){return b}),[]),[function(e){e&&e!==h.current.element&&(b(),h.current.element=e,h.current.scrollContainers=nk(e),w())},c,g]}function nk(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,K(nk(e.parentElement)))}var rk=["x","y","top","bottom","left","right","width","height"],ik=function(e,t){return rk.every((function(n){return e[n]===t[n]}))},ak=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],ok={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function sk(e){var t=_M(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(ok).reduce((function(e,n){return X(X({},e),{},W({},n,t(n)))}),{}),connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:X(X({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=u(e,2),r=n[0],i=n[1],a=u(ok[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=u(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=u(ok[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:X(X({},e.events),{},{connected:void 0})}})))}}}var lk=r.forwardRef((function(t,n){var i=t.children,a=t.fallback,o=t.resize,s=t.style,l=t.gl,d=t.events,h=void 0===d?sk:d,f=t.eventSource,p=t.eventPrefix,v=t.shadows,m=t.linear,g=t.flat,y=t.legacy,x=t.orthographic,b=t.frameloop,w=t.dpr,_=t.performance,S=t.raycaster,M=t.camera,k=t.onPointerMissed,T=t.onCreated,E=Z(t,ak);r.useMemo((function(){return t=e,void(SM=X(X({},SM),t));var t}),[]);var A=u(tk(X({scroll:!0,debounce:{scroll:50,resize:0}},o)),2),C=A[0],P=A[1],R=r.useRef(null),L=r.useRef(null),I=u(r.useState(null),2),N=I[0],z=I[1];r.useImperativeHandle(n,(function(){return R.current}));var D=tM(k),O=u(r.useState(!1),2),F=O[0],U=O[1],B=u(r.useState(!1),2),j=B[0],H=B[1];if(F)throw F;if(j)throw j;var V=r.useRef(null);P.width>0&&P.height>0&&N&&(V.current||(V.current=ZM(N)),V.current.configure({gl:l,events:h,shadows:v,linear:m,flat:g,legacy:y,orthographic:x,frameloop:b,dpr:w,performance:_,raycaster:S,camera:M,size:P,onPointerMissed:function(){return null==D.current?void 0:D.current.apply(D,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(f?(t=f)&&t.hasOwnProperty("current")?f.current:f:L.current),p&&e.setEvents({compute:function(e,t){var n=e[p+"X"],r=e[p+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==T||T(e)}}),V.current.render(r.createElement(rM,{set:H},r.createElement(r.Suspense,{fallback:r.createElement(nM,{set:U})},i)))),eM((function(){z(R.current)}),[]),r.useEffect((function(){if(N)return function(){return QM(N)}}),[N]);var G=f?"none":"auto";return r.createElement("div",c({ref:L,style:X({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G},s)},E),r.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},r.createElement("canvas",{ref:R,style:{display:"block"}},a)))})),uk=function(e,t){return(e%t+t)%t},ck=function(e){le(n,e);var t=ce(n);function n(e,r){var i;de(this,n),W(se(i=t.call(this)),"object",void 0),W(se(i),"domElement",void 0),W(se(i),"enabled",!0),W(se(i),"target",new Dh),W(se(i),"minDistance",0),W(se(i),"maxDistance",1/0),W(se(i),"minZoom",0),W(se(i),"maxZoom",1/0),W(se(i),"minPolarAngle",0),W(se(i),"maxPolarAngle",Math.PI),W(se(i),"minAzimuthAngle",-1/0),W(se(i),"maxAzimuthAngle",1/0),W(se(i),"enableDamping",!1),W(se(i),"dampingFactor",.05),W(se(i),"enableZoom",!0),W(se(i),"zoomSpeed",1),W(se(i),"enableRotate",!0),W(se(i),"rotateSpeed",1),W(se(i),"enablePan",!0),W(se(i),"panSpeed",1),W(se(i),"screenSpacePanning",!0),W(se(i),"keyPanSpeed",7),W(se(i),"autoRotate",!1),W(se(i),"autoRotateSpeed",2),W(se(i),"reverseOrbit",!1),W(se(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),W(se(i),"mouseButtons",{LEFT:zl.ROTATE,MIDDLE:zl.DOLLY,RIGHT:zl.PAN}),W(se(i),"touches",{ONE:Dl.ROTATE,TWO:Dl.DOLLY_PAN}),W(se(i),"target0",void 0),W(se(i),"position0",void 0),W(se(i),"zoom0",void 0),W(se(i),"_domElementKeyEvents",null),W(se(i),"getPolarAngle",void 0),W(se(i),"getAzimuthalAngle",void 0),W(se(i),"setPolarAngle",void 0),W(se(i),"setAzimuthalAngle",void 0),W(se(i),"getDistance",void 0),W(se(i),"listenToKeyEvents",void 0),W(se(i),"saveState",void 0),W(se(i),"reset",void 0),W(se(i),"update",void 0),W(se(i),"connect",void 0),W(se(i),"dispose",void 0),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object instanceof qp?i.object.zoom:1,i.getPolarAngle=function(){return h.phi},i.getAzimuthalAngle=function(){return h.theta},i.setPolarAngle=function(e){var t=uk(e,2*Math.PI),n=h.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),f.phi=t-n,a.update()},i.setAzimuthalAngle=function(e){var t=uk(e,2*Math.PI),n=h.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),f.theta=t-n,a.update()},i.getDistance=function(){return a.object.position.distanceTo(a.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",Z),i._domElementKeyEvents=e},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object instanceof qp?a.object.zoom:1},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object instanceof qp&&(a.object.zoom=a.zoom0,a.object.updateProjectionMatrix()),a.dispatchEvent(o),a.update(),c=u.NONE},i.update=function(){var t=new Dh,n=(new zh).setFromUnitVectors(e.up,new Dh(0,1,0)),r=n.clone().invert(),i=new Dh,s=new zh,l=2*Math.PI;return function(){var e=a.object.position;t.copy(e).sub(a.target),t.applyQuaternion(n),h.setFromVector3(t),a.autoRotate&&c===u.NONE&&C(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(h.theta+=f.theta*a.dampingFactor,h.phi+=f.phi*a.dampingFactor):(h.theta+=f.theta,h.phi+=f.phi);var g=a.minAzimuthAngle,y=a.maxAzimuthAngle;return isFinite(g)&&isFinite(y)&&(g<-Math.PI?g+=l:g>Math.PI&&(g-=l),y<-Math.PI?y+=l:y>Math.PI&&(y-=l),h.theta=g<=y?Math.max(g,Math.min(y,h.theta)):h.theta>(g+y)/2?Math.max(g,h.theta):Math.min(y,h.theta)),h.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=p,h.radius=Math.max(a.minDistance,Math.min(a.maxDistance,h.radius)),!0===a.enableDamping?a.target.addScaledVector(v,a.dampingFactor):a.target.add(v),t.setFromSpherical(h),t.applyQuaternion(r),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(f.theta*=1-a.dampingFactor,f.phi*=1-a.dampingFactor,v.multiplyScalar(1-a.dampingFactor)):(f.set(0,0,0),v.set(0,0,0)),p=1,!!(m||i.distanceToSquared(a.object.position)>d||8*(1-s.dot(a.object.quaternion))>d)&&(a.dispatchEvent(o),i.copy(a.object.position),s.copy(a.object.quaternion),m=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",J),a.domElement.addEventListener("pointerdown",G),a.domElement.addEventListener("pointercancel",Y),a.domElement.addEventListener("wheel",K)},i.dispose=function(){var e,t,n,r,i,o;null===(e=a.domElement)||void 0===e||e.removeEventListener("contextmenu",J),null===(t=a.domElement)||void 0===t||t.removeEventListener("pointerdown",G),null===(n=a.domElement)||void 0===n||n.removeEventListener("pointercancel",Y),null===(r=a.domElement)||void 0===r||r.removeEventListener("wheel",K),null===(i=a.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointermove",q),null===(o=a.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",X),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",Z)};var a=se(i),o={type:"change"},s={type:"start"},l={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=u.NONE,d=1e-6,h=new k_,f=new k_,p=1,v=new Dh,m=!1,g=new ah,y=new ah,x=new ah,b=new ah,w=new ah,_=new ah,S=new ah,M=new ah,k=new ah,T=[],E={};function A(){return Math.pow(.95,a.zoomSpeed)}function C(e){a.reverseOrbit?f.theta+=e:f.theta-=e}function P(e){a.reverseOrbit?f.phi+=e:f.phi-=e}var R=function(){var e=new Dh;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}}(),L=function(){var e=new Dh;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),I=function(){var e=new Dh;return function(t,n){var r=a.domElement;if(r&&a.object instanceof qp&&a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),R(2*t*o/r.clientHeight,a.object.matrix),L(2*n*o/r.clientHeight,a.object.matrix)}else r&&a.object instanceof mv&&a.object.isOrthographicCamera?(R(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),L(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function N(e){a.object instanceof qp&&a.object.isPerspectiveCamera?p/=e:a.object instanceof mv&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function z(e){a.object instanceof qp&&a.object.isPerspectiveCamera?p*=e:a.object instanceof mv&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function D(e){g.set(e.clientX,e.clientY)}function O(e){b.set(e.clientX,e.clientY)}function F(){if(1==T.length)g.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);g.set(e,t)}}function U(){if(1==T.length)b.set(T[0].pageX,T[0].pageY);else{var e=.5*(T[0].pageX+T[1].pageX),t=.5*(T[0].pageY+T[1].pageY);b.set(e,t)}}function B(){var e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY,n=Math.sqrt(e*e+t*t);S.set(0,n)}function j(e){if(1==T.length)y.set(e.pageX,e.pageY);else{var t=ee(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);y.set(n,r)}x.subVectors(y,g).multiplyScalar(a.rotateSpeed);var i=a.domElement;i&&(C(2*Math.PI*x.x/i.clientHeight),P(2*Math.PI*x.y/i.clientHeight)),g.copy(y)}function H(e){if(1==T.length)w.set(e.pageX,e.pageY);else{var t=ee(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}_.subVectors(w,b).multiplyScalar(a.panSpeed),I(_.x,_.y),b.copy(w)}function V(e){var t=ee(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);M.set(0,i),k.set(0,Math.pow(M.y/S.y,a.zoomSpeed)),N(k.y),S.copy(M)}function G(e){if(!1!==a.enabled){var t,n;if(0===T.length)null===(t=a.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",q),null===(n=a.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",X);!function(e){T.push(e)}(e),"touch"===e.pointerType?function(e){switch($(e),T.length){case 1:switch(a.touches.ONE){case Dl.ROTATE:if(!1===a.enableRotate)return;F(),c=u.TOUCH_ROTATE;break;case Dl.PAN:if(!1===a.enablePan)return;U(),c=u.TOUCH_PAN;break;default:c=u.NONE}break;case 2:switch(a.touches.TWO){case Dl.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&B(),a.enablePan&&U(),c=u.TOUCH_DOLLY_PAN;break;case Dl.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&B(),a.enableRotate&&F(),c=u.TOUCH_DOLLY_ROTATE;break;default:c=u.NONE}break;default:c=u.NONE}c!==u.NONE&&a.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case zl.DOLLY:if(!1===a.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),c=u.DOLLY;break;case zl.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;O(e),c=u.PAN}else{if(!1===a.enableRotate)return;D(e),c=u.ROTATE}break;case zl.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;D(e),c=u.ROTATE}else{if(!1===a.enablePan)return;O(e),c=u.PAN}break;default:c=u.NONE}c!==u.NONE&&a.dispatchEvent(s)}(e)}}function q(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch($(e),c){case u.TOUCH_ROTATE:if(!1===a.enableRotate)return;j(e),a.update();break;case u.TOUCH_PAN:if(!1===a.enablePan)return;H(e),a.update();break;case u.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&V(e),a.enablePan&&H(e)}(e),a.update();break;case u.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&V(e),a.enableRotate&&j(e)}(e),a.update();break;default:c=u.NONE}}(e):function(e){if(!1===a.enabled)return;switch(c){case u.ROTATE:if(!1===a.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),x.subVectors(y,g).multiplyScalar(a.rotateSpeed);var t=a.domElement;t&&(C(2*Math.PI*x.x/t.clientHeight),P(2*Math.PI*x.y/t.clientHeight)),g.copy(y),a.update()}(e);break;case u.DOLLY:if(!1===a.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),k.subVectors(M,S),k.y>0?N(A()):k.y<0&&z(A()),S.copy(M),a.update()}(e);break;case u.PAN:if(!1===a.enablePan)return;!function(e){w.set(e.clientX,e.clientY),_.subVectors(w,b).multiplyScalar(a.panSpeed),I(_.x,_.y),b.copy(w),a.update()}(e)}}(e))}function X(e){var t,n,r;(Q(e),0===T.length)&&(null===(t=a.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=a.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",q),null===(r=a.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",X));a.dispatchEvent(l),c=u.NONE}function Y(e){Q(e)}function K(e){!1===a.enabled||!1===a.enableZoom||c!==u.NONE&&c!==u.ROTATE||(e.preventDefault(),a.dispatchEvent(s),function(e){e.deltaY<0?z(A()):e.deltaY>0&&N(A()),a.update()}(e),a.dispatchEvent(l))}function Z(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:I(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:I(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:I(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:I(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function J(e){!1!==a.enabled&&e.preventDefault()}function Q(e){delete E[e.pointerId];for(var t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)}function $(e){var t=E[e.pointerId];void 0===t&&(t=new ah,E[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ee(e){var t=e.pointerId===T[0].pointerId?T[1]:T[0];return E[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return fe(n)}(Gd),dk=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],hk=r.forwardRef((function(e,t){var n=e.makeDefault,i=e.camera,a=e.regress,o=e.domElement,s=e.enableDamping,l=void 0===s||s,u=e.onChange,d=e.onStart,h=e.onEnd,f=Z(e,dk),p=DM((function(e){return e.invalidate})),v=DM((function(e){return e.camera})),m=DM((function(e){return e.gl})),g=DM((function(e){return e.events})),y=DM((function(e){return e.set})),x=DM((function(e){return e.get})),b=DM((function(e){return e.performance})),w=i||v,_=o||g.connected||m.domElement,S=r.useMemo((function(){return new ck(w)}),[w]);return OM((function(){S.enabled&&S.update()}),-1),r.useEffect((function(){return S.connect(_),function(){S.dispose()}}),[_,a,S,p]),r.useEffect((function(){var e=function(e){p(),a&&b.regress(),u&&u(e)};return S.addEventListener("change",e),d&&S.addEventListener("start",d),h&&S.addEventListener("end",h),function(){d&&S.removeEventListener("start",d),h&&S.removeEventListener("end",h),S.removeEventListener("change",e)}}),[u,d,h,S,p]),r.useEffect((function(){if(n){var e=x().controls;return y({controls:S}),function(){return y({controls:e})}}}),[n,S]),r.createElement("primitive",c({ref:t,object:S,enableDamping:l},f))})),fk=function(e){le(n,e);var t=ce(n);function n(e){var r;return de(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new xk(e)})),r.register((function(e){return new Tk(e)})),r.register((function(e){return new Ek(e)})),r.register((function(e){return new wk(e)})),r.register((function(e){return new _k(e)})),r.register((function(e){return new Sk(e)})),r.register((function(e){return new Mk(e)})),r.register((function(e){return new yk(e)})),r.register((function(e){return new kk(e)})),r.register((function(e){return new bk(e)})),r.register((function(e){return new mk(e)})),r.register((function(e){return new Ak(e)})),r}return fe(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Aw.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new tw(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={};if("string"===typeof e)i=e;else if(Aw.decodeText(new Uint8Array(e,0,4))===Ck){try{a[vk.KHR_BINARY_GLTF]=new Lk(e)}catch(p){return void(r&&r(p))}i=a[vk.KHR_BINARY_GLTF].content}else i=Aw.decodeText(new Uint8Array(e));var s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new cT(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);o[c.name]=c,a[c.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var h=s.extensionsUsed[d],f=s.extensionsRequired||[];switch(h){case vk.KHR_MATERIALS_UNLIT:a[h]=new gk;break;case vk.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[h]=new Dk;break;case vk.KHR_DRACO_MESH_COMPRESSION:a[h]=new Ik(s,this.dracoLoader);break;case vk.KHR_TEXTURE_TRANSFORM:a[h]=new Nk;break;case vk.KHR_MESH_QUANTIZATION:a[h]=new Ok;break;default:f.indexOf(h)>=0&&void 0===o[h]&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(Qb);function pk(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var vk={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},mk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return fe(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new _h(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new _w(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new bw(s)).distance=l;break;case"spot":(i=new vw(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),gk=function(){function e(){de(this,e),this.name=vk.KHR_MATERIALS_UNLIT}return fe(e,[{key:"getMaterialType",value:function(){return $f}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new _h(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,ld))}return Promise.all(r)}}]),e}(),yk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_EMISSIVE_STRENGTH}return fe(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),xk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_CLEARCOAT}return fe(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?bb:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ah(o,o)}return Promise.all(i)}}]),e}(),bk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_IRIDESCENCE}return fe(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?bb:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),wk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_SHEEN}return fe(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?bb:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new _h(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,ld)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),_k=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_TRANSMISSION}return fe(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?bb:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),Sk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_VOLUME}return fe(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?bb:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new _h(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),Mk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_IOR}return fe(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?bb:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),kk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_MATERIALS_SPECULAR}return fe(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?bb:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new _h(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,ld)),Promise.all(i)}}]),e}(),Tk=function(){function e(t){de(this,e),this.parser=t,this.name=vk.KHR_TEXTURE_BASISU}return fe(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),Ek=function(){function e(t){de(this,e),this.parser=t,this.name=vk.EXT_TEXTURE_WEBP,this.isSupported=null}return fe(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Ak=function(){function e(t){de(this,e),this.name=vk.EXT_MESHOPT_COMPRESSION,this.parser=t}return fe(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),Ck="glTF",Pk=1313821514,Rk=5130562,Lk=fe((function e(t){de(this,e),this.name=vk.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:Aw.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Ck)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,i=new DataView(t,12),a=0;a<r;){var o=i.getUint32(a,!0);a+=4;var s=i.getUint32(a,!0);if(a+=4,s===Pk){var l=new Uint8Array(t,12+a,o);this.content=Aw.decodeText(l)}else if(s===Rk){var u=12+a;this.body=t.slice(u,u+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Ik=function(){function e(t,n){if(de(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vk.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return fe(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var u in a){var c=Qk[u]||u.toLowerCase();o[c]=a[u]}for(var d in e.attributes){var h=Qk[d]||d.toLowerCase();if(void 0!==a[d]){var f=n.accessors[e.attributes[d]],p=Yk[f.componentType];l[h]=p.name,s[h]=!0===f.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,l)}))}))}}]),e}(),Nk=function(){function e(){de(this,e),this.name=vk.KHR_TEXTURE_TRANSFORM}return fe(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),zk=function(e){le(n,e);var t=ce(n);function n(e){var r;de(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),u={specular:{value:(new _h).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=u,r.onBeforeCompile=function(e){for(var t in u)e.uniforms[t]=u[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",l)},Object.defineProperties(se(r),{specular:{get:function(){return u.specular.value},set:function(e){u.specular.value=e}},specularMap:{get:function(){return u.specularMap.value},set:function(e){u.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return u.glossiness.value},set:function(e){u.glossiness.value=e}},glossinessMap:{get:function(){return u.glossinessMap.value},set:function(e){u.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return fe(n,[{key:"copy",value:function(e){return Il($(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(xb),Dk=function(){function e(){de(this,e),this.name=vk.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}return fe(e,[{key:"getMaterialType",value:function(){return zk}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new _h(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var a=r.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture,ld)),e.emissive=new _h(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new _h(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o,ld))}return Promise.all(i)}},{key:"createMaterial",value:function(e){var t=new zk(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=dd,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}]),e}(),Ok=fe((function e(){de(this,e),this.name=vk.KHR_MESH_QUANTIZATION})),Fk=function(e){le(n,e);var t=ce(n);function n(e,r,i,a){return de(this,n),t.call(this,e,r,i,a)}return fe(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,d=c*c,h=d*c,f=e*l,p=f-l,v=-2*h+3*d,m=h-d,g=1-v,y=m-d+c,x=0;x!==o;x++){var b=a[p+x+o],w=a[p+x+s]*u,_=a[f+x+o],S=a[f+x]*u;i[x]=g*b+y*w+v*_+m*S}return i}}]),n}(Nb),Uk=new zh,Bk=function(e){le(n,e);var t=ce(n);function n(){return de(this,n),t.apply(this,arguments)}return fe(n,[{key:"interpolate_",value:function(e,t,r,i){var a=Il($(n.prototype),"interpolate_",this).call(this,e,t,r,i);return Uk.fromArray(a).normalize().toArray(a),a}}]),n}(Fk),jk=0,Hk=1,Vk=2,Gk=3,Wk=4,qk=5,Xk=6,Yk={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Kk={9728:Hu,9729:Xu,9984:Vu,9985:Yu,9986:Wu,9987:Zu},Zk={33071:Bu,33648:ju,10497:Uu},Jk={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Qk={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$k={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},eT={CUBICSPLINE:void 0,LINEAR:Jc,STEP:Zc},tT="OPAQUE",nT="MASK",rT="BLEND";function iT(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function aT(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function oT(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function sT(e){var t=e.extensions&&e.extensions[vk.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+lT(t.attributes):e.indices+":"+lT(e.attributes)+":"+e.mode}function lT(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function uT(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var cT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};de(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new pk,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"===typeof createImageBitmap||r||i&&a<98?this.textureLoader=new sw(this.options.manager):this.textureLoader=new zw(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new tw(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return fe(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};iT(i,a,r),aT(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=oe(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=u(a.value,2),l=s[0];e(s[1],n.children[l])}}catch(c){o.e(c)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[vk.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(Aw.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=Jk[r.type],l=Yk[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(h&&h!==c){var p=Math.floor(d/h),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,m=t.cache.get(v);m||(i=new l(o,p*h,r.count*h/u),m=new jg(i,h/u),t.cache.add(v,m)),a=new Vg(m,s,d%h/u,f)}else i=null===o?new l(r.count*s):new l(o,d,r.count*s),a=new np(i,s,f);if(void 0!==r.sparse){var g=Jk.SCALAR,y=Yk[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,w=new y(e[1],x,r.sparse.count*g),_=new l(e[2],b,r.sparse.count*s);null!==o&&(a=new np(a.array.slice(),a.itemSize,a.normalized));for(var S=0,M=w.length;S<M;S++){var k=w[S];if(a.setX(k,_[S*s]),s>=2&&a.setY(k,_[S*s+1]),s>=3&&a.setZ(k,_[S*s+2]),s>=4&&a.setW(k,_[S*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,a.name&&(t.name=a.name);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=Kk[n.magFilter]||Xu,t.minFilter=Kk[n.minFilter]||Zu,t.wrapS=Zk[n.wrapS]||Uu,t.wrapT=Zk[n.wrapT]||Uu,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var l=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new Eh(e);t.needsUpdate=!0,n(t)}),t.load(Aw.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=l,l}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[vk.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[vk.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[vk.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new Dy,Qf.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new ky,Qf.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(l,u)),n=u}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var d=this.cache.get(c);d||(d=n.clone(),i&&(d.vertexColors=!0),a&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return xb}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=a.extensions||{},l=[];if(s[vk.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=i[vk.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),l.push(u.extendParams(o,a,n))}else if(s[vk.KHR_MATERIALS_UNLIT]){var c=i[vk.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),l.push(c.extendParams(o,a,n))}else{var d=a.pbrMetallicRoughness||{};if(o.color=new _h(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==d.baseColorTexture&&l.push(n.assignTexture(o,"map",d.baseColorTexture,ld)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(l.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),l.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=Xl);var f=a.alphaMode||tT;if(f===rT?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===nT&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==$f&&(l.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new ah(1,1),void 0!==a.normalTexture.scale)){var p=a.normalTexture.scale;o.normalScale.set(p,p)}return void 0!==a.occlusionTexture&&t!==$f&&(l.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==$f&&(o.emissive=(new _h).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==$f&&l.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,ld)),Promise.all(l).then((function(){var r;return r=t===zk?i[vk.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),a.name&&(r.name=a.name),aT(r,a),n.associations.set(r,{materials:e}),a.extensions&&iT(i,r,a),r}))}},{key:"createUniqueName",value:function(e){for(var t=h_.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[vk.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return hT(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var l=e[o],u=sT(l),c=r[u];if(c)a.push(c.promise);else{var d=void 0;d=l.extensions&&l.extensions[vk.KHR_DRACO_MESH_COMPRESSION]?i(l):hT(new bp,l,t),r[u]={primitive:l,promise:d},a.push(d)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,i=this.extensions,a=r.meshes[e],o=a.primitives,s=[],l=0,u=o.length;l<u;l++){var c=void 0===o[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new xb({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Wl})),t.DefaultMaterial):this.getDependency("material",o[l].material);s.push(c)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],l=[],u=0,c=s.length;u<c;u++){var d=s[u],h=o[u],f=void 0,p=r[u];if(h.mode===Wk||h.mode===qk||h.mode===Xk||void 0===h.mode)!0!==(f=!0===a.isSkinnedMesh?new fy(d,p):new Fp(d,p)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),h.mode===qk?f.geometry=fT(f.geometry,ad):h.mode===Xk&&(f.geometry=fT(f.geometry,od));else if(h.mode===Hk)f=new Ny(d,p);else if(h.mode===Gk)f=new Ry(d,p);else if(h.mode===Vk)f=new zy(d,p);else{if(h.mode!==jk)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);f=new jy(d,p)}Object.keys(f.geometry.morphAttributes).length>0&&oT(f,a),f.name=n.createUniqueName(a.name||"mesh_"+e),aT(f,a),h.extensions&&iT(i,f,h),n.assignFinalMaterial(f),l.push(f)}for(var v=0,m=l.length;v<m;v++)n.associations.set(l[v],{meshes:e,primitives:v});if(1===l.length)return l[0];var g=new Eg;n.associations.set(g,{meshes:e});for(var y=0,x=l.length;y<x;y++)g.add(l[y]);return g}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new qp(ih.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new mv(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),aT(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],d=u.target,h=d.node,f=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",f)),i.push(this.getDependency("accessor",p)),a.push(c),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=[],u=function(e,t){var n=r[e],u=i[e],c=a[e],d=o[e],h=s[e];if(void 0===n)return"continue";n.updateMatrix();var f=void 0;switch($k[h.path]){case $k.weights:f=jb;break;case $k.rotation:f=Vb;break;default:f=Wb}var p=n.name?n.name:n.uuid,v=void 0!==d.interpolation?eT[d.interpolation]:Jc,m=[];$k[h.path]===$k.weights?n.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(p);var g=c.array;if(c.normalized){for(var y=uT(g.constructor),x=new Float32Array(g.length),b=0,w=g.length;b<w;b++)x[b]=g[b]*y;g=x}for(var _=0,S=m.length;_<S;_++){var M=new f(m[_]+"."+$k[h.path],u.array,g,v);"CUBICSPLINE"===d.interpolation&&(M.createInterpolant=function(e){return new(this instanceof Vb?Bk:Fk)(this.times,this.values,this.getValueSize()/3,e)},M.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(M)}},c=0,d=r.length;c<d;c++)u(c);var h=t.name?t.name:"animation_"+e;return new qb(h,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===i.isBone?new py:t.length>1?new Eg:1===t.length?t[0]:new Uf)!==t[0])for(var s=0,l=t.length;s<l;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),aT(o,i),i.extensions&&iT(n,o,i),void 0!==i.matrix){var u=new pf;u.fromArray(i.matrix),o.applyMatrix4(u)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],i=this,a=new Eg;r.name&&(a.name=i.createUniqueName(r.name)),aT(a,r),r.extensions&&iT(n,a,r);for(var o=r.nodes||[],s=[],l=0,c=o.length;l<c;l++)s.push(dT(o[l],a,t,i));return Promise.all(s).then((function(){return i.associations=function(e){var t,n=new Map,r=oe(i.associations);try{for(r.s();!(t=r.n()).done;){var a=u(t.value,2),o=a[0],s=a[1];(o instanceof Qf||o instanceof Eh)&&n.set(o,s)}}catch(l){r.e(l)}finally{r.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}}]),e}();function dT(e,t,n,r){var i=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===i.skin?e:r.getDependency("skin",i.skin).then((function(e){for(var n=[],i=0,a=(t=e).joints.length;i<a;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){r.push(s);var l=new pf;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*a),i.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new yy(r,i),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var a=[];if(i.children)for(var o=i.children,s=0,l=o.length;s<l;s++){var u=o[s];a.push(dT(u,e,n,r))}return Promise.all(a)}))}function hT(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=Qk[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return aT(e,t),function(e,t,n){var r=t.attributes,i=new Uh;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new Dh(o[0],o[1],o[2]),new Dh(s[0],s[1],s[2])),a.normalized){var l=uT(Yk[a.componentType]);i.min.multiplyScalar(l),i.max.multiplyScalar(l)}var u=t.targets;if(void 0!==u){for(var c=new Dh,d=new Dh,h=0,f=u.length;h<f;h++){var p=u[h];if(void 0!==p.POSITION){var v=n.json.accessors[p.POSITION],m=v.min,g=v.max;if(void 0!==m&&void 0!==g){if(d.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),d.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),d.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),v.normalized){var y=uT(Yk[v.componentType]);d.multiplyScalar(y)}c.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var x=new af;i.getCenter(x.center),x.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=x}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var l=t[o];if(void 0!==l.POSITION&&(r=!0),void 0!==l.NORMAL&&(i=!0),void 0!==l.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var u=[],c=[],d=[],h=0,f=t.length;h<f;h++){var p=t[h];if(r){var v=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;u.push(v)}if(i){var m=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(m)}if(a){var g=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;d.push(g)}}return Promise.all([Promise.all(u),Promise.all(c),Promise.all(d)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function fT(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===od)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<o;u++)u%2===0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}var pT=fe((function e(){var t=this;de(this,e),this.keys=void 0,this.keys={},window.addEventListener("keydown",(function(e){t.keys[e.code]=!0})),window.addEventListener("keyup",(function(e){delete t.keys[e.code]}))}));function vT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var mT=n(441),gT=n(613),yT=n.n(gT);var xT=function(e){function t(e,r,l,u,h){for(var f,p,v,m,b,_=0,S=0,M=0,k=0,T=0,L=0,N=v=f=0,D=0,O=0,F=0,U=0,B=l.length,j=B-1,H="",V="",G="",W="";D<B;){if(p=l.charCodeAt(D),D===j&&0!==S+k+M+_&&(0!==S&&(p=47===S?10:47),k=M=_=0,B++,j++),0===S+k+M+_){if(D===j&&(0<O&&(H=H.replace(d,"")),0<H.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:H+=l.charAt(D)}p=59}switch(p){case 123:for(f=(H=H.trim()).charCodeAt(0),v=1,U=++D;D<B;){switch(p=l.charCodeAt(D)){case 123:v++;break;case 125:v--;break;case 47:switch(p=l.charCodeAt(D+1)){case 42:case 47:e:{for(N=D+1;N<j;++N)switch(l.charCodeAt(N)){case 47:if(42===p&&42===l.charCodeAt(N-1)&&D+2!==N){D=N+1;break e}break;case 10:if(47===p){D=N+1;break e}}D=N}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<j&&l.charCodeAt(D)!==p;);}if(0===v)break;D++}if(v=l.substring(U,D),0===f&&(f=(H=H.replace(c,"").trim()).charCodeAt(0)),64===f){switch(0<O&&(H=H.replace(d,"")),p=H.charCodeAt(1)){case 100:case 109:case 115:case 45:O=r;break;default:O=R}if(U=(v=t(r,O,v,p,h+1)).length,0<I&&(b=s(3,v,O=n(R,H,F),r,A,E,U,p,h,u),H=O.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:H=H.replace(w,o);case 100:case 109:case 45:v=H+"{"+v+"}";break;case 107:v=(H=H.replace(g,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=H+v,112===u&&(V+=v,v="")}else v=""}else v=t(r,n(r,H,F),v,u,h+1);G+=v,v=F=O=N=f=0,H="",p=l.charCodeAt(++D);break;case 125:case 59:if(1<(U=(H=(0<O?H.replace(d,""):H).trim()).length))switch(0===N&&(f=H.charCodeAt(0),45===f||96<f&&123>f)&&(U=(H=H.replace(" ",":")).length),0<I&&void 0!==(b=s(1,H,r,e,A,E,V.length,u,h,u))&&0===(U=(H=b.trim()).length)&&(H="\0\0"),f=H.charCodeAt(0),p=H.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){W+=H+l.charAt(D);break}default:58!==H.charCodeAt(U-1)&&(V+=i(H,f,p,H.charCodeAt(2)))}F=O=N=f=0,H="",p=l.charCodeAt(++D)}}switch(p){case 13:case 10:47===S?S=0:0===1+f&&107!==u&&0<H.length&&(O=1,H+="\0"),0<I*z&&s(0,H,r,e,A,E,V.length,u,h,u),E=1,A++;break;case 59:case 125:if(0===S+k+M+_){E++;break}default:switch(E++,m=l.charAt(D),p){case 9:case 32:if(0===k+_+S)switch(T){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===k+S+_&&(O=F=1,m="\f"+m);break;case 108:if(0===k+S+_+C&&0<N)switch(D-N){case 2:112===T&&58===l.charCodeAt(D-3)&&(C=T);case 8:111===L&&(C=L)}break;case 58:0===k+S+_&&(N=D);break;case 44:0===S+M+k+_&&(O=1,m+="\r");break;case 34:case 39:0===S&&(k=k===p?0:0===k?p:k);break;case 91:0===k+S+M&&_++;break;case 93:0===k+S+M&&_--;break;case 41:0===k+S+_&&M--;break;case 40:if(0===k+S+_){if(0===f)if(2*T+3*L===533);else f=1;M++}break;case 64:0===S+M+k+_+N+v&&(v=1);break;case 42:case 47:if(!(0<k+_+M))switch(S){case 0:switch(2*p+3*l.charCodeAt(D+1)){case 235:S=47;break;case 220:U=D,S=42}break;case 42:47===p&&42===T&&U+2!==D&&(33===l.charCodeAt(U+2)&&(V+=l.substring(U,D+1)),m="",S=0)}}0===S&&(H+=m)}L=T,T=p,D++}if(0<(U=V.length)){if(O=r,0<I&&(void 0!==(b=s(2,V,O,e,A,E,U,u,h,u))&&0===(V=b).length))return W+V+G;if(V=O.join(",")+"{"+V+"}",0!==P*C){switch(2!==P||a(V,2)||(C=0),C){case 111:V=V.replace(x,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}C=0}}return W+V+G}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===P||2===P&&a(l,1)?"-webkit-"+l+l:l}if(0===P||2===P&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(b,"tb");break;case 232:l=o.replace(b,"tb-rl");break;case 220:l=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),N(2!==t?r:r.replace(M,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,c){for(var d,h=0,f=t;h<I;++h)switch(d=L[h].call(u,e,f,n,r,i,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!==typeof e?P=1:(P=2,N=e):P=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=s(-1,n,r,r,A,E,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<I&&(void 0!==(i=s(-2,a,r,r,A,E,a.length,0,0,0))&&(a=i)),"",C=0,E=A=1,a}var c=/^\0+/g,d=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,x=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,M=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,E=1,A=1,C=0,P=1,R=[],L=[],I=0,N=null,z=0;return u.use=function e(t){switch(t){case void 0:case null:I=L.length=0;break;default:if("function"===typeof t)L[I++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else z=0|!!t}return e},u.set=l,void 0!==e&&l(e),u},bT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var wT=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},_T=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ST=wT((function(e){return _T.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),MT=n(110),kT=n.n(MT);function TT(){return(TT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ET=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},AT=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,mT.typeOf)(e)},CT=Object.freeze([]),PT=Object.freeze({});function RT(e){return"function"==typeof e}function LT(e){return e.displayName||e.name||"Component"}function IT(e){return e&&"string"==typeof e.styledComponentId}var NT="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",zT="undefined"!=typeof window&&"HTMLElement"in window,DT=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function OT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var FT=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&OT(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),UT=new Map,BT=new Map,jT=1,HT=function(e){if(UT.has(e))return UT.get(e);for(;BT.has(jT);)jT++;var t=jT++;return UT.set(e,t),BT.set(t,e),t},VT=function(e){return BT.get(e)},GT=function(e,t){t>=jT&&(jT=t+1),UT.set(e,t),BT.set(t,e)},WT="style["+NT+'][data-styled-version="5.3.5"]',qT=new RegExp("^"+NT+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),XT=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},YT=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(qT);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(GT(u,l),XT(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},KT=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},ZT=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(NT))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(NT,"active"),r.setAttribute("data-styled-version","5.3.5");var o=KT();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},JT=function(){function e(e){var t=this.element=ZT(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}OT(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),QT=function(){function e(e){var t=this.element=ZT(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),$T=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),eE=zT,tE={isServer:!zT,useCSSOMInjection:!DT},nE=function(){function e(e,t,n){void 0===e&&(e=PT),void 0===t&&(t={}),this.options=TT({},tE,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&zT&&eE&&(eE=!1,function(e){for(var t=document.querySelectorAll(WT),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(NT)&&(YT(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return HT(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(TT({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new $T(i):r?new JT(i):new QT(i),new FT(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(HT(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(HT(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(HT(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=VT(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=NT+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),rE=/(a)(d)/gi,iE=function(e){return String.fromCharCode(e+(e>25?39:97))};function aE(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=iE(t%52)+n;return(iE(t%52)+n).replace(rE,"$1-$2")}var oE=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},sE=function(e){return oE(5381,e)};function lE(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(RT(n)&&!IT(n))return!1}return!0}var uE=sE("5.3.5"),cE=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&lE(e),this.componentId=t,this.baseHash=oE(uE,t),this.baseStyle=n,nE.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=AE(this.rules,e,t,n).join(""),o=aE(oE(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=oE(this.baseHash,n.hash),c="",d=0;d<l;d++){var h=this.rules[d];if("string"==typeof h)c+=h;else if(h){var f=AE(h,e,t,n),p=Array.isArray(f)?f.join(""):f;u=oE(u,p+d),c+=p}}if(c){var v=aE(u>>>0);if(!t.hasNameForId(r,v)){var m=n(c,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),dE=/^\s*\/\/.*$/gm,hE=[":","[",".","#"];function fE(e){var t,n,r,i,a=void 0===e?PT:e,o=a.options,s=void 0===o?PT:o,l=a.plugins,u=void 0===l?CT:l,c=new xT(s),d=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),f=function(e,r,a){return 0===r&&-1!==hE.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(dE,""),u=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,f))},h,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=u.length?u.reduce((function(e,t){return t.name||OT(15),oE(e,t.name)}),5381).toString():"",p}var pE=r.createContext(),vE=(pE.Consumer,r.createContext()),mE=(vE.Consumer,new nE),gE=fE();function yE(){return(0,r.useContext)(pE)||mE}function xE(){return(0,r.useContext)(vE)||gE}function bE(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=yE(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return fE({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){yT()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(pE.Provider,{value:o},r.createElement(vE.Provider,{value:s},e.children))}var wE=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=gE);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return OT(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=gE),this.name+e.hash},e}(),_E=/([A-Z])/,SE=/([A-Z])/g,ME=/^ms-/,kE=function(e){return"-"+e.toLowerCase()};function TE(e){return _E.test(e)?e.replace(SE,kE).replace(ME,"-ms-"):e}var EE=function(e){return null==e||!1===e||""===e};function AE(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=AE(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return EE(e)?"":IT(e)?"."+e.styledComponentId:RT(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:AE(e(t),t,n,r):e instanceof wE?n?(e.inject(n,r),e.getName(r)):e:AT(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!EE(t[o])&&(Array.isArray(t[o])&&t[o].isCss||RT(t[o])?a.push(TE(o)+":",t[o],";"):AT(t[o])?a.push.apply(a,e(t[o],o)):a.push(TE(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in bT?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}var CE=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function PE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return RT(e)||AT(e)?CE(AE(ET(CT,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:CE(AE(ET(e,n)))}new Set;var RE=function(e,t,n){return void 0===n&&(n=PT),e.theme!==n.theme&&e.theme||t||n.theme},LE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,IE=/(^-|-$)/g;function NE(e){return e.replace(LE,"-").replace(IE,"")}var zE=function(e){return aE(sE(e)>>>0)};function DE(e){return"string"==typeof e&&!0}var OE=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},FE=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function UE(e,t,n){var r=e[n];OE(t)&&OE(r)?BE(r,t):e[n]=t}function BE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(OE(o))for(var s in o)FE(s)&&UE(e,o[s],s)}return e}var jE=r.createContext();jE.Consumer;var HE={};function VE(e,t,n){var i=IT(e),a=!DE(e),o=t.attrs,s=void 0===o?CT:o,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":NE(e);HE[n]=(HE[n]||0)+1;var r=n+"-"+zE("5.3.5"+n+HE[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,d=void 0===c?function(e){return DE(e)?"styled."+e:"Styled("+LT(e)+")"}(e):c,h=t.displayName&&t.componentId?NE(t.displayName)+"-"+t.componentId:t.componentId||u,f=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new cE(n,h,i?e.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,c=e.styledComponentId,d=e.target,h=function(e,t,n){void 0===e&&(e=PT);var r=TT({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in RT(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(RE(t,(0,r.useContext)(jE),s)||PT,t,a),f=h[0],p=h[1],v=function(e,t,n,r){var i=yE(),a=xE();return t?e.generateAndInjectStyles(PT,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,f),m=n,g=p.$as||t.$as||p.as||t.as||d,y=DE(g),x=p!==t?TT({},t,{},p):t,b={};for(var w in x)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=x[w]:(u?u(w,ST,g):!y||ST(w))&&(b[w]=x[w]));return t.style&&p.style!==t.style&&(b.style=TT({},t.style,{},p.style)),b.className=Array.prototype.concat(l,c,v!==c?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(g,b)}(v,e,t,g)};return y.displayName=d,(v=r.forwardRef(y)).attrs=f,v.componentStyle=m,v.displayName=d,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):CT,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(DE(e)?e:NE(LT(e)));return VE(e,TT({},i,{attrs:f,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?BE({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&kT()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var GE=function(e){return function e(t,n,r){if(void 0===r&&(r=PT),!(0,mT.isValidElementType)(n))return OT(1,String(n));var i=function(){return t(n,r,PE.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,TT({},r,{},i))},i.attrs=function(i){return e(t,n,TT({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(VE,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){GE[e]=GE(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=lE(e),nE.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(AE(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&nE.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function WE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=PE.apply(void 0,[e].concat(n)).join(""),a=zE(i);return new wE(a,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=KT();return"<style "+[n&&'nonce="'+n+'"',NT+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?OT(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return OT(2);var n=((t={})[NT]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=KT();return i&&(n.nonce=i),[r.createElement("style",TT({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new nE({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?OT(2):r.createElement(bE,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return OT(3)}}();var qE,XE,YE,KE,ZE,JE,QE,$E,eA,tA,nA,rA,iA=GE,aA=Pl({key:"modalGatherState",default:{houseInExplainModal:!1,questionModal:!0,questModal:!1,memoriesModal:!1,bagModal:!1,todowithModal:!1,utModal:!1,sgModal:!1,finishModal:!1}}),oA=Pl({key:"bagGatherState",default:{tonaCan1:!1,tonaCan2:!1,key1:!1}}),sA=Pl({key:"findObjectGatherState",default:{tonaCan1Find:!1,tonaCan2Find:!1,tonaCan1Modal:!1,tonaCan2Modal:!1,keyFind:!1,keyModal:!1,projectTodowith:!1,projectUt:!1,projectSg:!1,projectModal:!1,photoModal:!1}}),lA=Pl({key:"memoriesGatherState",default:{photoMemory:!1,utMemory:!1,todowithMemory:!1,sgMemory:!1}}),uA=Pl({key:"playerPositionState",default:[0,0,0]}),cA=Pl({key:"questGatherState",default:{catQuestModal1:!1,foxQuestModal:!1,birdQuestModal:!1,penguinQuestModal:!1}}),dA=Pl({key:"questProgressGatherState",default:{q1TunaCan:"no",q2Key:"no",q3Port:"no",q4Photo:"no",q5Memory:"no"}}),hA=n(184),fA=iA.div(qE||(qE=vT(["\n  height: 100px;\n  background: #ffffffdc;\n  position: fixed;\n  left: calc(2% + 100px);\n  margin: -115px 0 0 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  gap: 20px;\n"]))),pA=iA.div(XE||(XE=vT(["\n  width: 100px;\n  height: 100px;\n  background: #ffffffdc;\n  position: fixed;\n  left: 1%;\n  margin: -115px 0 0 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n"]))),vA=iA.div(YE||(YE=vT(["\n  width: 300px;\n  height: 100px;\n  background: #ffffffdc;\n  position: fixed;\n  right: 1%;\n  margin: -115px 0 0 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  gap: 20px;\n"]))),mA=iA.img(KE||(KE=vT(["\n  width: 80px;\n  height: 80px;\n  cursor: pointer;\n"]))),gA=function(){var e=window.location.href,t=e.split("/"),n=t[t.length-1],i=u(Rl(aA),2),a=i[0],o=i[1],s=u(Rl(dA),2),l=s[0],c=s[1],d=u(Rl(sA),2),h=d[0],f=(d[1],F());return(0,r.useEffect)((function(){}),[e]),(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(pA,{children:(0,hA.jsx)(mA,{src:"/assets/question.png",alt:"\ubb3c\uc74c\ud45c",onClick:function(){o(X(X({},a),{},{questionModal:!0}))}})}),"photoparticle"===n?(0,hA.jsx)(fA,{style:{width:"100px"},children:(0,hA.jsx)(mA,{src:"/assets/\uc815\uae00\ub9f5\ub3cc\uc544\uac00\uae30.png",alt:"\uc815\uae00\ub9f5\ub3cc\uc544\uac00\uae30",onClick:function(){c(X(X({},l),{},{q5Memory:"ing"})),f("/");var e=setTimeout((function(){o(X(X({},a),{},{questModal:!0})),clearTimeout(e)}),200)}})}):"houseinmap"===n?(0,hA.jsxs)(fA,{style:{width:"200px"},children:[(0,hA.jsx)(mA,{src:"/assets/\uc9d1\uc548\ub9f5 \uc124\uba85.png",alt:"\uc9d1\uc548\ub9f5 \uc124\uba85",onClick:function(){o(X(X({},a),{},{houseInExplainModal:!0}))}}),(0,hA.jsx)(mA,{src:"/assets/\uc815\uae00\ub9f5\ub3cc\uc544\uac00\uae30.png",alt:"\uc815\uae00\ub9f5\ub3cc\uc544\uac00\uae30",onClick:function(){f("/")}})]}):"",(0,hA.jsxs)(vA,{children:[(0,hA.jsx)(mA,{src:"/assets/quest.png",alt:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624",onClick:function(){o(X(X({},a),{},{memoriesModal:!0}))}}),(0,hA.jsx)(mA,{src:"/assets/location.png",alt:"\ud018\uc2a4\ud2b8",onClick:function(){o(X(X({},a),{},{questModal:!0})),h.projectTodowith&&h.projectSg&&h.projectUt&&c(X(X({},l),{},{q3Port:"finish"}))}}),(0,hA.jsx)(mA,{src:"/assets/backpack.png",alt:"\uac00\ubc29",onClick:function(){o(X(X({},a),{},{bagModal:!0}))}})]})]})},yA=iA.div(ZE||(ZE=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),xA=iA.div(JE||(JE=vT(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 800px;\n  height: 800px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-image: url("/assets/suitcase.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n']))),bA=iA.div(QE||(QE=vT(["\n  width: 60px;\n  height: 60px;\n  top: 55px;\n  right: 50px;\n  border: 3px solid black;\n  border-radius: 50px;\n  background-color: white;\n  position: absolute;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),wA=iA.img($E||($E=vT(["\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n"]))),_A=function(){var e=u(Rl(aA),2),t=e[0],n=e[1],r=u(Rl(oA),2),i=r[0];r[1];return(0,hA.jsx)(hA.Fragment,{children:t.bagModal&&(0,hA.jsx)(yA,{onClick:function(){return n(X(X({},t),{},{bagModal:!1}))},children:(0,hA.jsxs)(xA,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(bA,{children:(0,hA.jsx)(wA,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},t),{},{bagModal:!1}))}})}),i.tonaCan1&&(0,hA.jsx)("img",{style:{width:"160px",position:"absolute",right:"190px",top:"390px"},src:"/assets/\uac00\ubc29/\ucc38\uce58\uce94 \ubc30\uacbd\uc5c6\uc74c.png",alt:"\ucc38\uce58\uce941"}),i.tonaCan2&&(0,hA.jsx)("img",{style:{width:"160px",position:"absolute",right:"320px",top:"490px"},src:"/assets/\uac00\ubc29/\ucc38\uce58\uce94 \ubc30\uacbd\uc5c6\uc74c.png",alt:"\ucc38\uce58\uce941"}),i.key1&&(0,hA.jsx)("img",{style:{width:"100px",position:"absolute",transform:"rotate(35deg)",right:"190px",top:"450px"},src:"/assets/\uac00\ubc29/\uc5f4\uc1e0.png",alt:"\uc5f4\uc1e0"})]})})})},SA=WE(eA||(eA=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),MA=iA.div(tA||(tA=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),kA=iA.div(nA||(nA=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 800px;\n  height: 800px;\n  animation: ",' 0.6s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-image: url("/assets/\ud0d0\ud5d8\uc77c\uae30 \uc124\uba85\uc11c.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n'])),SA),TA=iA.img(rA||(rA=vT(["\n  width: 50px;\n  height: 50px;\n  top: 55px;\n  right: 50px;\n  position: absolute;\n  cursor: pointer;\n"]))),EA=function(){var e=u(Rl(aA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.questionModal&&(0,hA.jsx)(MA,{onClick:function(){return n(X(X({},t),{},{questionModal:!1}))},children:(0,hA.jsx)(kA,{onClick:function(e){e.stopPropagation()},children:(0,hA.jsx)(TA,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},t),{},{questionModal:!1}))}})})})})},AA=function(){var e=new rv,t=new Dh,n=new Dh,r=new Dh,i=new Dh,a=new Dh,o=new Dh,s=new Dh,l=new Dh,u=new Dh,c=new Dh,d=new Dh,h=new Dh,f=new Dh,p=new Dh,v=function(){function v(e,t,n){de(this,v),this.camera=e,this.scene=t,this.startPoint=new Dh,this.endPoint=new Dh,this.collection=[],this.deep=n||Number.MAX_VALUE}return fe(v,[{key:"select",value:function(t,n){return this.startPoint=t||this.startPoint,this.endPoint=n||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(e,this.scene),this.collection}},{key:"updateFrustum",value:function(t,v){if(t=t||this.startPoint,v=v||this.endPoint,t.x===v.x&&(v.x+=Number.EPSILON),t.y===v.y&&(v.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera)n.copy(t),n.x=Math.min(t.x,v.x),n.y=Math.max(t.y,v.y),v.x=Math.max(t.x,v.x),v.y=Math.min(t.y,v.y),r.setFromMatrixPosition(this.camera.matrixWorld),i.copy(n),a.set(v.x,n.y,0),o.copy(v),s.set(n.x,v.y,0),i.unproject(this.camera),a.unproject(this.camera),o.unproject(this.camera),s.unproject(this.camera),h.copy(i).sub(r),f.copy(a).sub(r),p.copy(o).sub(r),h.normalize(),f.normalize(),p.normalize(),h.multiplyScalar(this.deep),f.multiplyScalar(this.deep),p.multiplyScalar(this.deep),h.add(r),f.add(r),p.add(r),(m=e.planes)[0].setFromCoplanarPoints(r,i,a),m[1].setFromCoplanarPoints(r,a,o),m[2].setFromCoplanarPoints(o,s,r),m[3].setFromCoplanarPoints(s,i,r),m[4].setFromCoplanarPoints(a,o,s),m[5].setFromCoplanarPoints(p,f,h),m[5].normal.multiplyScalar(-1);else if(this.camera.isOrthographicCamera){var m,g=Math.min(t.x,v.x),y=Math.max(t.y,v.y),x=Math.max(t.x,v.x),b=Math.min(t.y,v.y);i.set(g,y,-1),a.set(x,y,-1),o.set(x,b,-1),s.set(g,b,-1),l.set(g,y,1),u.set(x,y,1),c.set(x,b,1),d.set(g,b,1),i.unproject(this.camera),a.unproject(this.camera),o.unproject(this.camera),s.unproject(this.camera),l.unproject(this.camera),u.unproject(this.camera),c.unproject(this.camera),d.unproject(this.camera),(m=e.planes)[0].setFromCoplanarPoints(i,l,u),m[1].setFromCoplanarPoints(a,u,c),m[2].setFromCoplanarPoints(c,d,s),m[3].setFromCoplanarPoints(d,l,i),m[4].setFromCoplanarPoints(a,o,s),m[5].setFromCoplanarPoints(c,u,l),m[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}},{key:"searchChildInFrustum",value:function(e,n){if((n.isMesh||n.isLine||n.isPoints)&&void 0!==n.material&&(null===n.geometry.boundingSphere&&n.geometry.computeBoundingSphere(),t.copy(n.geometry.boundingSphere.center),t.applyMatrix4(n.matrixWorld),e.containsPoint(t)&&this.collection.push(n)),n.children.length>0)for(var r=0;r<n.children.length;r++)this.searchChildInFrustum(e,n.children[r])}}]),v}();return v}();var CA=["box","multiple","children","onChange","border","backgroundColor","filter"],PA=r.createContext([]);function RA(e){var t=e.box,n=e.multiple,i=e.children,a=e.onChange,o=e.border,s=void 0===o?"1px solid #55aaff":o,l=e.backgroundColor,d=void 0===l?"rgba(75, 160, 255, 0.1)":l,h=e.filter,f=void 0===h?function(e){return e}:h,p=Z(e,CA),v=DM(),m=v.setEvents,g=v.camera,y=v.raycaster,x=v.gl,b=v.controls,w=v.size,_=v.get,S=u(r.useState(!1),2),M=S[0],k=S[1],T=u(r.useReducer((function(e,t){var n=t.object,r=t.shift;return void 0===n?[]:Array.isArray(n)?n:r?e.includes(n)?e.filter((function(e){return e!==n})):[n].concat(K(e)):e[0]===n?[]:[n]}),[]),2),E=T[0],A=T[1];r.useEffect((function(){null==a||a(E)}),[E]);var C=r.useCallback((function(e){e.stopPropagation(),A({object:f([e.object])[0],shift:n&&e.shiftKey})}),[]),P=r.useCallback((function(e){return!M&&A({})}),[M]),R=r.useRef(null);return r.useEffect((function(){if(t&&n){var e=new AA(g,R.current),r=document.createElement("div");r.style.pointerEvents="none",r.style.border=s,r.style.backgroundColor=d,r.style.position="fixed";var i=new ah,a=new ah,o=new ah,l=_().events.enabled,u=null==b?void 0:b.enabled,c=!1,h=[];return document.addEventListener("pointerdown",v,{passive:!0}),document.addEventListener("pointermove",y,{passive:!0,capture:!0}),document.addEventListener("pointerup",S,{passive:!0}),function(){document.removeEventListener("pointerdown",v),document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",S)}}function p(e,t){var n=e.offsetX,r=e.offsetY,i=w.width,a=w.height;t.set(n/i*2-1,-r/a*2+1)}function v(t){t.shiftKey&&(!function(e){var t;b&&(b.enabled=!1),m({enabled:!1}),c=!0,null==(t=x.domElement.parentElement)||t.appendChild(r),r.style.left="".concat(e.clientX,"px"),r.style.top="".concat(e.clientY,"px"),r.style.width="0px",r.style.height="0px",i.x=e.clientX,i.y=e.clientY}(t),p(t,e.startPoint))}function y(t){if(c){!function(e){o.x=Math.max(i.x,e.clientX),o.y=Math.max(i.y,e.clientY),a.x=Math.min(i.x,e.clientX),a.y=Math.min(i.y,e.clientY),r.style.left="".concat(a.x,"px"),r.style.top="".concat(a.y,"px"),r.style.width="".concat(o.x-a.x,"px"),r.style.height="".concat(o.y-a.y,"px")}(t),p(t,e.endPoint);var n=e.select().sort((function(e){return e.uuid})).filter((function(e){return e.isMesh}));(function(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0})(n,h)||(h=n,A({object:f(n)}))}}function S(e){c&&function(){var e;c&&(b&&(b.enabled=u),m({enabled:l}),c=!1,null==(e=r.parentElement)||e.removeChild(r))}()}}),[w,y,g,b,x]),r.createElement("group",c({ref:R,onClick:C,onPointerOver:function(){return k(!0)},onPointerOut:function(){return k(!1)},onPointerMissed:P},p),r.createElement(PA.Provider,{value:E},i))}function LA(e){var t=UM(fk,"/assets/glb/tuna_can1.glb"),n=t.scene.children[0],i=u((0,r.useState)(!1),2),a=i[0],o=i[1],s=u(Rl(oA),2),l=s[0],c=s[1],d=u(Rl(sA),2),h=d[0],f=d[1];return n.position.set(20,-40,-150),OM((function(e,t,r){n.name="tunaCan1"})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)(RA,{enabled:a,children:(0,hA.jsxs)("mesh",{position:[-1.7,-.25,-6.7],rotation:[0,Math.PI/.6,0],onClick:function(){c(X(X({},l),{},{tonaCan1:!0})),f(X(X({},h),{},{tonaCan1Find:!0,tonaCan1Modal:!0}))},onPointerOver:function(){return o(!0)},onPointerOut:function(){return o(!1)},children:[(0,hA.jsx)("cylinderGeometry",{attach:"geometry",args:[.53,.53,.4,20]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",color:"#ffb1dc",visible:!!a}),(0,hA.jsx)("primitive",{object:t.scene,scale:.005})]})})})}var IA=r.memo(LA);function NA(e){var t=UM(fk,"/assets/glb/tuna_can2.glb"),n=t.scene.children[0],i=u((0,r.useState)(!1),2),a=i[0],o=i[1],s=u(Rl(oA),2),l=s[0],c=s[1],d=u(Rl(sA),2),h=d[0],f=d[1];return n.position.set(21,-40,-150),OM((function(e,t,r){n.name="tunaCan2"})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)(RA,{enabled:a,children:(0,hA.jsxs)("mesh",{position:[-1.9,-1.3,6.5],rotation:[0,.5*Math.PI,0],onClick:function(){c(X(X({},l),{},{tonaCan2:!0})),f(X(X({},h),{},{tonaCan2Find:!0,tonaCan2Modal:!0}))},onPointerOver:function(){return o(!0)},onPointerOut:function(){return o(!1)},children:[(0,hA.jsx)("cylinderGeometry",{attach:"geometry",args:[.53,.53,.4,20]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",color:"#ffb1dc",visible:!!a}),(0,hA.jsx)("primitive",{object:t.scene,scale:.005})]})})})}var zA=r.memo(NA),DA={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},OA=new(fe((function e(t,n,r){de(this,e);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}))),FA=function(){function e(t){de(this,e),this.manager=void 0!==t?t:OA,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return fe(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function UA(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var BA=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=DA.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=UA("img");function s(){u(),DA.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(FA),jA=function(){function e(){de(this,e)}return fe(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),HA=1001,VA="srgb",GA="srgb-linear",WA=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];Math.PI,Math.PI;function qA(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(WA[255&e]+WA[e>>8&255]+WA[e>>16&255]+WA[e>>24&255]+"-"+WA[255&t]+WA[t>>8&255]+"-"+WA[t>>16&15|64]+WA[t>>24&255]+"-"+WA[63&n|128]+WA[n>>8&255]+"-"+WA[n>>16&255]+WA[n>>24&255]+WA[255&r]+WA[r>>8&255]+WA[r>>16&255]+WA[r>>24&255]).toLowerCase()}var XA,YA=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;de(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return fe(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),KA=function(){function e(){de(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return fe(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],f=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return i[0]=a*p+o*g+s*b,i[3]=a*v+o*y+s*w,i[6]=a*m+o*x+s*_,i[1]=l*p+u*g+c*b,i[4]=l*v+u*y+c*w,i[7]=l*m+u*x+c*_,i[2]=d*p+h*g+f*b,i[5]=d*v+h*y+f*w,i[8]=d*m+h*x+f*_,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,h=l*i-a*s,f=t*c+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*u,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function ZA(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}W(XA={},VA,W({},GA,ZA)),W(XA,GA,W({},VA,(function(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055})));var JA,QA=function(){function e(){de(this,e)}return fe(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===JA&&(JA=UA("canvas")),JA.width=e.width,JA.height=e.height;var n=JA.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=JA}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=UA("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*ZA(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*ZA(o[s]/255)):o[s]=ZA(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),$A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;de(this,e),this.isSource=!0,this.uuid=qA(),this.data=t,this.version=0}return fe(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(eC(r[a].image)):i.push(eC(r[a]))}else i=eC(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function eC(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?QA.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var tC=0,nC=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HA,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:HA,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1006,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1008,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1023,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3e3;return de(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(se(e),"id",{value:tC++}),e.uuid=qA(),e.name="",e.source=new $A(r),e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=u,e.internalFormat=null,e.type=c,e.offset=new YA(0,0),e.repeat=new YA(1,1),e.center=new YA(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new KA,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return fe(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case HA:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case HA:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(jA);nC.DEFAULT_IMAGE=null,nC.DEFAULT_MAPPING=300;var rC=function(e){le(n,e);var t=ce(n);function n(e){return de(this,n),t.call(this,e)}return fe(n,[{key:"load",value:function(e,t,n,r){var i=new nC,a=new BA(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(FA),iC="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",aC=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,{name:"AdaptiveLuminanceMaterial",defines:{THREE_REVISION:Nl.replace(/\D+/g,""),MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new g_(null),luminanceBuffer1:new g_(null),minLuminance:new g_(.01),deltaTime:new g_(0),tau:new g_(1)},extensions:{shaderTextureLOD:!0},blending:Yl,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\nuniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));\n#if __VERSION__ < 300\nfloat l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#else\nfloat l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#endif\nl0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}",vertexShader:iC})).toneMapped=!1,e}return fe(n,[{key:"luminanceBuffer0",set:function(e){this.uniforms.luminanceBuffer0.value=e}},{key:"setLuminanceBuffer0",value:function(e){this.uniforms.luminanceBuffer0.value=e}},{key:"luminanceBuffer1",set:function(e){this.uniforms.luminanceBuffer1.value=e}},{key:"setLuminanceBuffer1",value:function(e){this.uniforms.luminanceBuffer1.value=e}},{key:"mipLevel1x1",set:function(e){this.defines.MIP_LEVEL_1X1=e.toFixed(1),this.needsUpdate=!0}},{key:"setMipLevel1x1",value:function(e){this.mipLevel1x1=e}},{key:"deltaTime",set:function(e){this.uniforms.deltaTime.value=e}},{key:"setDeltaTime",value:function(e){this.uniforms.deltaTime.value=e}},{key:"minLuminance",get:function(){return this.uniforms.minLuminance.value},set:function(e){this.uniforms.minLuminance.value=e}},{key:"getMinLuminance",value:function(){return this.uniforms.minLuminance.value}},{key:"setMinLuminance",value:function(e){this.uniforms.minLuminance.value=e}},{key:"adaptationRate",get:function(){return this.uniforms.tau.value},set:function(e){this.uniforms.tau.value=e}},{key:"getAdaptationRate",value:function(){return this.uniforms.tau.value}},{key:"setAdaptationRate",value:function(e){this.uniforms.tau.value=e}}]),n}(Gp);var oC=0,sC=1,lC=2,uC=3,cC=4,dC=5,hC=6,fC=7,pC=8,vC=9,mC=10,gC=11,yC=12,xC=13,bC=14,wC=15,_C=16,SC=17,MC=18,kC=19,TC=20,EC=21,AC=22,CC=23,PC=24,RC=25,LC=26,IC=27,NC=28,zC=29,DC=30,OC=31,FC=32,UC=0,BC=1,jC=2,HC=3,VC=0,GC=1,WC=2,qC=3,XC=4,YC=0,KC=1,ZC="#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n}",JC="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",QC=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],$C=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ah;return de(this,n),(e=t.call(this,{name:"KawaseBlurMaterial",uniforms:{inputBuffer:new g_(null),texelSize:new g_(new Ah),scale:new g_(1),kernel:new g_(0)},blending:Yl,depthWrite:!1,depthTest:!1,fragmentShader:ZC,vertexShader:JC})).toneMapped=!1,e.setTexelSize(r.x,r.y),e.kernelSize=jC,e}return fe(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.inputBuffer=e}},{key:"kernelSequence",get:function(){return QC[this.kernelSize]}},{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},{key:"getScale",value:function(){return this.uniforms.scale.value}},{key:"setScale",value:function(e){this.uniforms.scale.value=e}},{key:"getKernel",value:function(){return null}},{key:"kernel",get:function(){return this.uniforms.kernel.value},set:function(e){this.uniforms.kernel.value=e}},{key:"setKernel",value:function(e){this.kernel=e}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t,.5*e,.5*t)}},{key:"setSize",value:function(e,t){var n=1/e,r=1/t;this.uniforms.texelSize.value.set(n,r,.5*n,.5*r)}}]),n}(Gp),eP=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,{name:"CopyMaterial",uniforms:{inputBuffer:new g_(null),opacity:new g_(1)},blending:Yl,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:iC})).toneMapped=!1,e}return fe(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"getOpacity",value:function(e){return this.uniforms.opacity.value}},{key:"setOpacity",value:function(e){this.uniforms.opacity.value=e}}]),n}(Gp),tP=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,{name:"DownsamplingMaterial",uniforms:{inputBuffer:new g_(null),texelSize:new g_(new ah)},blending:Yl,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#define WEIGHT_INNER 0.125\n#define WEIGHT_OUTER 0.0555555\nvarying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;\n#include <encodings_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,e}return fe(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setSize",value:function(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}]),n}(Gp),nP="#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",rP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return de(this,n),(e=t.call(this,{name:"LuminanceMaterial",defines:{THREE_REVISION:Nl.replace(/\D+/g,"")},uniforms:{inputBuffer:new g_(null),threshold:new g_(0),smoothing:new g_(1),range:new g_(null)},blending:Yl,depthWrite:!1,depthTest:!1,fragmentShader:nP,vertexShader:iC})).toneMapped=!1,e.colorOutput=r,e.luminanceRange=i,e}return fe(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"threshold",get:function(){return this.uniforms.threshold.value},set:function(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}},{key:"getThreshold",value:function(){return this.threshold}},{key:"setThreshold",value:function(e){this.threshold=e}},{key:"smoothing",get:function(){return this.uniforms.smoothing.value},set:function(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}},{key:"getSmoothingFactor",value:function(){return this.smoothing}},{key:"setSmoothingFactor",value:function(e){this.smoothing=e}},{key:"useThreshold",get:function(){return this.threshold>0||this.smoothing>0},set:function(e){}},{key:"colorOutput",get:function(){return void 0!==this.defines.COLOR},set:function(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}},{key:"isColorOutputEnabled",value:function(e){return this.colorOutput}},{key:"setColorOutputEnabled",value:function(e){this.colorOutput=e}},{key:"useRange",get:function(){return null!==this.luminanceRange},set:function(e){this.luminanceRange=null}},{key:"luminanceRange",get:function(){return this.uniforms.range.value},set:function(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}},{key:"getLuminanceRange",value:function(){return this.luminanceRange}},{key:"setLuminanceRange",value:function(e){this.luminanceRange=e}}]),n}(Gp),iP=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,{name:"UpsamplingMaterial",uniforms:{inputBuffer:new g_(null),supportBuffer:new g_(null),texelSize:new g_(new ah),radius:new g_(.85)},blending:Yl,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;\n#else\nuniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;\n#endif\nuniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);\n#include <encodings_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,e}return fe(n,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"supportBuffer",set:function(e){this.uniforms.supportBuffer.value=e}},{key:"radius",get:function(){return this.uniforms.radius.value},set:function(e){this.uniforms.radius.value=e}},{key:"setSize",value:function(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}]),n}(Gp),aP=new Wp,oP=null;var sP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Pass",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Bg,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aP;de(this,e),this.name=t,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}return fe(e,[{key:"renderToScreen",get:function(){return!this.rtt},set:function(e){if(this.rtt===e){var t=this.fullscreenMaterial;null!==t&&(t.needsUpdate=!0),this.rtt=!e}}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"fullscreenMaterial",get:function(){return null!==this.screen?this.screen.material:null},set:function(e){var t=this.screen;null!==t?t.material=e:((t=new Fp(function(){if(null===oP){var e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);void 0!==(oP=new bp).setAttribute?(oP.setAttribute("position",new np(e,3)),oP.setAttribute("uv",new np(t,2))):(oP.addAttribute("position",new np(e,3)),oP.addAttribute("uv",new np(t,2)))}return oP}(),e)).frustumCulled=!1,null===this.scene&&(this.scene=new Bg),this.scene.add(t),this.screen=t)}},{key:"getFullscreenMaterial",value:function(){return this.fullscreenMaterial}},{key:"setFullscreenMaterial",value:function(e){this.fullscreenMaterial=e}},{key:"getDepthTexture",value:function(){return null}},{key:"setDepthTexture",value:function(e){}},{key:"render",value:function(e,t,n,r,i){throw new Error("Render method not implemented!")}},{key:"setSize",value:function(e,t){}},{key:"initialize",value:function(e,t,n){}},{key:"dispose",value:function(){for(var t=0,n=Object.keys(this);t<n.length;t++){var r=n[t],i=this[r];(i instanceof Ch||i instanceof Qf||i instanceof Eh||i instanceof e)&&this[r].dispose()}}}]),e}(),lP=function(e){le(n,e);var t=ce(n);function n(e){var r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return de(this,n),(r=t.call(this,"CopyPass")).fullscreenMaterial=new eP,r.needsSwap=!1,r.renderTarget=e,void 0===e&&(r.renderTarget=new Ch(1,1,{minFilter:Xu,magFilter:Xu,stencilBuffer:!1,depthBuffer:!1}),r.renderTarget.texture.name="CopyPass.Target"),r.autoResize=i,r}return fe(n,[{key:"resize",get:function(){return this.autoResize},set:function(e){this.autoResize=e}},{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"setAutoResizeEnabled",value:function(e){this.autoResize=e}},{key:"render",value:function(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}},{key:"setSize",value:function(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}},{key:"initialize",value:function(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==Qu?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===ld&&(this.renderTarget.texture.encoding=ld))}}]),n}(sP),uP=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.minLuminance,o=void 0===a?.01:a,s=i.adaptationRate,l=void 0===s?1:s;de(this,n),(r=t.call(this,"AdaptiveLuminancePass")).fullscreenMaterial=new aC,r.needsSwap=!1,r.renderTargetPrevious=new Ch(1,1,{minFilter:Hu,magFilter:Hu,depthBuffer:!1}),r.renderTargetPrevious.texture.name="Luminance.Previous";var u=r.fullscreenMaterial;return u.luminanceBuffer0=r.renderTargetPrevious.texture,u.luminanceBuffer1=e,u.minLuminance=o,u.adaptationRate=l,r.renderTargetAdapted=r.renderTargetPrevious.clone(),r.renderTargetAdapted.texture.name="Luminance.Adapted",r.copyPass=new lP(r.renderTargetPrevious,!1),r}return fe(n,[{key:"texture",get:function(){return this.renderTargetAdapted.texture}},{key:"getTexture",value:function(){return this.renderTargetAdapted.texture}},{key:"mipLevel1x1",set:function(e){this.fullscreenMaterial.mipLevel1x1=e}},{key:"adaptationRate",get:function(){return this.fullscreenMaterial.adaptationRate},set:function(e){this.fullscreenMaterial.adaptationRate=e}},{key:"render",value:function(e,t,n,r,i){this.fullscreenMaterial.deltaTime=r,e.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),e.render(this.scene,this.camera),this.copyPass.render(e,this.renderTargetAdapted)}}]),n}(sP),cP=(new _h,-1),dP=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cP,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cP,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return de(this,n),(r=t.call(this)).resizable=e,r.baseSize=new ah(1,1),r.preferredSize=new ah(i,a),r.target=r.preferredSize,r.s=o,r.effectiveSize=new ah,r.addEventListener("change",(function(){return r.updateEffectiveSize()})),r.updateEffectiveSize(),r}return fe(n,[{key:"updateEffectiveSize",value:function(){var e=this.baseSize,t=this.preferredSize,n=this.effectiveSize,r=this.scale;t.width!==cP?n.width=t.width:t.height!==cP?n.width=Math.round(t.height*(e.width/Math.max(e.height,1))):n.width=Math.round(e.width*r),t.height!==cP?n.height=t.height:t.width!==cP?n.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n.height=Math.round(e.height*r)}},{key:"width",get:function(){return this.effectiveSize.width},set:function(e){this.preferredWidth=e}},{key:"height",get:function(){return this.effectiveSize.height},set:function(e){this.preferredHeight=e}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"scale",get:function(){return this.s},set:function(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(cP),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getScale",value:function(){return this.scale}},{key:"setScale",value:function(e){this.scale=e}},{key:"baseWidth",get:function(){return this.baseSize.width},set:function(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getBaseWidth",value:function(){return this.baseWidth}},{key:"setBaseWidth",value:function(e){this.baseWidth=e}},{key:"baseHeight",get:function(){return this.baseSize.height},set:function(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getBaseHeight",value:function(){return this.baseHeight}},{key:"setBaseHeight",value:function(e){this.baseHeight=e}},{key:"setBaseSize",value:function(e,t){this.baseSize.width===e&&this.baseSize.height===t||(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"preferredWidth",get:function(){return this.preferredSize.width},set:function(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getPreferredWidth",value:function(){return this.preferredWidth}},{key:"setPreferredWidth",value:function(e){this.preferredWidth=e}},{key:"preferredHeight",get:function(){return this.preferredSize.height},set:function(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getPreferredHeight",value:function(){return this.preferredHeight}},{key:"setPreferredHeight",value:function(e){this.preferredHeight=e}},{key:"setPreferredSize",value:function(e,t){this.preferredSize.width===e&&this.preferredSize.height===t||(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"copy",value:function(e){this.s=e.scale,this.baseSize.set(e.getBaseWidth(),e.getBaseHeight()),this.preferredSize.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}}],[{key:"AUTO_SIZE",get:function(){return cP}}]),n}(Gd);new Float32Array([255/256/Math.pow(256,3),255/256/Math.pow(256,2),255/256/256,255/256]);var hP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(r.kernelSize,r.resolutionScale),a=void 0===i?.5:i,o=r.width,s=void 0===o?dP.AUTO_SIZE:o,l=r.height,u=void 0===l?dP.AUTO_SIZE:l,c=r.resolutionX,d=void 0===c?s:c,h=r.resolutionY,f=void 0===h?u:h;de(this,n),(e=t.call(this,"KawaseBlurPass")).renderTargetA=new Ch(1,1,{depthBuffer:!1}),e.renderTargetA.texture.name="Blur.Target.A",e.renderTargetB=e.renderTargetA.clone(),e.renderTargetB.texture.name="Blur.Target.B";var p=e.resolution=new dP(se(e),d,f,a);return p.addEventListener("change",(function(t){return e.setSize(p.baseWidth,p.baseHeight)})),e.blurMaterial=new $C,e.copyMaterial=new eP,e}return fe(n,[{key:"getResolution",value:function(){return this.resolution}},{key:"dithering",get:function(){return this.copyMaterial.dithering},set:function(e){this.copyMaterial.dithering=e}},{key:"kernelSize",get:function(){return this.blurMaterial.kernelSize},set:function(e){this.blurMaterial.kernelSize=e}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"scale",get:function(){return this.blurMaterial.scale},set:function(e){this.blurMaterial.scale=e}},{key:"getScale",value:function(){return this.blurMaterial.scale}},{key:"setScale",value:function(e){this.blurMaterial.scale=e}},{key:"getKernelSize",value:function(){return this.kernelSize}},{key:"setKernelSize",value:function(e){this.kernelSize=e}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"render",value:function(e,t,n,r,i){var a=this.scene,o=this.camera,s=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence,d=t;this.fullscreenMaterial=u;for(var h=0,f=c.length;h<f;++h){var p=0===(1&h)?s:l;u.kernel=c[h],u.inputBuffer=d.texture,e.setRenderTarget(p),e.render(a,o),d=p}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(a,o)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t);var r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(e,t)}},{key:"initialize",value:function(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Qu?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===ld&&(this.renderTargetA.texture.encoding=ld,this.renderTargetB.texture.encoding=ld))}}],[{key:"AUTO_SIZE",get:function(){return dP.AUTO_SIZE}}]),n}(sP),fP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.renderTarget,a=r.luminanceRange,o=r.colorOutput,s=r.resolutionScale,l=void 0===s?1:s,u=r.width,c=void 0===u?dP.AUTO_SIZE:u,d=r.height,h=void 0===d?dP.AUTO_SIZE:d,f=r.resolutionX,p=void 0===f?c:f,v=r.resolutionY,m=void 0===v?h:v;de(this,n),(e=t.call(this,"LuminancePass")).fullscreenMaterial=new rP(o,a),e.needsSwap=!1,e.renderTarget=i,void 0===e.renderTarget&&(e.renderTarget=new Ch(1,1,{depthBuffer:!1}),e.renderTarget.texture.name="LuminancePass.Target");var g=e.resolution=new dP(se(e),p,m,l);return g.addEventListener("change",(function(t){return e.setSize(g.baseWidth,g.baseHeight)})),e}return fe(n,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"getResolution",value:function(){return this.resolution}},{key:"render",value:function(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},{key:"initialize",value:function(e,t,n){void 0!==n&&n!==Qu&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}}]),n}(sP),pP=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.call(this,"MipmapBlurPass")).needsSwap=!1,e.renderTarget=new Ch(1,1,{depthBuffer:!1}),e.renderTarget.texture.name="Upsampling.Mipmap0",e.downsamplingMipmaps=[],e.upsamplingMipmaps=[],e.downsamplingMaterial=new tP,e.upsamplingMaterial=new iP,e.resolution=new ah,e}return fe(n,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"levels",get:function(){return this.downsamplingMipmaps.length},set:function(e){if(this.levels!==e){var t=this.renderTarget;this.dispose();for(var n=0;n<e;++n){var r=t.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(t);for(var i=1,a=e-1;i<a;++i){var o=t.clone();o.texture.name="Upsampling.Mipmap"+i,this.upsamplingMipmaps.push(o)}this.setSize(this.resolution.x,this.resolution.y)}}},{key:"radius",get:function(){return this.upsamplingMaterial.radius},set:function(e){this.upsamplingMaterial.radius=e}},{key:"render",value:function(e,t,n,r,i){var a=this.scene,o=this.camera,s=this.downsamplingMaterial,l=this.upsamplingMaterial,u=this.downsamplingMipmaps,c=this.upsamplingMipmaps,d=t;this.fullscreenMaterial=s;for(var h=0,f=u.length;h<f;++h){var p=u[h];s.setSize(d.width,d.height),s.inputBuffer=d.texture,e.setRenderTarget(p),e.render(a,o),d=p}this.fullscreenMaterial=l;for(var v=c.length-1;v>=0;--v){var m=c[v];l.setSize(d.width,d.height),l.inputBuffer=d.texture,l.supportBuffer=u[v].texture,e.setRenderTarget(m),e.render(a,o),d=m}}},{key:"setSize",value:function(e,t){var n=this.resolution;n.set(e,t);for(var r=n.width,i=n.height,a=0,o=this.downsamplingMipmaps.length;a<o;++a)r=Math.round(.5*r),i=Math.round(.5*i),this.downsamplingMipmaps[a].setSize(r,i),a<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[a].setSize(r,i)}},{key:"initialize",value:function(e,t,n){if(void 0!==n){var r,i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps),a=oe(i);try{for(a.s();!(r=a.n()).done;){r.value.texture.type=n}}catch(l){a.e(l)}finally{a.f()}if(n!==Qu)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(e.outputEncoding===ld){var o,s=oe(i);try{for(s.s();!(o=s.n()).done;){o.value.texture.encoding=ld}}catch(l){s.e(l)}finally{s.f()}}}}},{key:"dispose",value:function(){Il($(n.prototype),"dispose",this).call(this);var e,t=oe(this.downsamplingMipmaps.concat(this.upsamplingMipmaps));try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(r){t.e(r)}finally{t.f()}}}]),n}(sP);Set;var vP=new Map([[oC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[sC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[lC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[uC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[cC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[dC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[hC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[fC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[pC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[vC,null],[mC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[gC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[yC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[xC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[bC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[wC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[_C,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[SC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[MC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[kC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[TC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[EC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[AC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[CC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[PC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[RC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[LC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[IC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[NC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[zC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[DC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[OC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[FC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]]),mP=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return de(this,n),(r=t.call(this))._blendFunction=e,r.opacity=new g_(i),r}return fe(n,[{key:"getOpacity",value:function(){return this.opacity.value}},{key:"setOpacity",value:function(e){this.opacity.value=e}},{key:"blendFunction",get:function(){return this._blendFunction},set:function(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}},{key:"getBlendFunction",value:function(){return this.blendFunction}},{key:"setBlendFunction",value:function(e){this.blendFunction=e}},{key:"getShaderCode",value:function(){return vP.get(this.blendFunction)}}]),n}(Gd),gP=function(e){le(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.attributes,s=void 0===o?UC:o,l=a.blendFunction,u=void 0===l?CC:l,c=a.defines,d=void 0===c?new Map:c,h=a.uniforms,f=void 0===h?new Map:h,p=a.extensions,v=void 0===p?null:p,m=a.vertexShader,g=void 0===m?null:m;return de(this,n),(i=t.call(this)).name=e,i.renderer=null,i.attributes=s,i.fragmentShader=r,i.vertexShader=g,i.defines=d,i.uniforms=f,i.extensions=v,i.blendMode=new mP(u),i.blendMode.addEventListener("change",(function(e){return i.setChanged()})),i._inputColorSpace=sd,i._outputColorSpace=null,i}return fe(n,[{key:"inputColorSpace",get:function(){return this._inputColorSpace},set:function(e){this._inputColorSpace=e,this.setChanged()}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e,this.setChanged()}},{key:"getName",value:function(){return this.name}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"getDefines",value:function(){return this.defines}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"getExtensions",value:function(){return this.extensions}},{key:"getBlendMode",value:function(){return this.blendMode}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){this.attributes=e,this.setChanged()}},{key:"getFragmentShader",value:function(){return this.fragmentShader}},{key:"setFragmentShader",value:function(e){this.fragmentShader=e,this.setChanged()}},{key:"getVertexShader",value:function(){return this.vertexShader}},{key:"setVertexShader",value:function(e){this.vertexShader=e,this.setChanged()}},{key:"setChanged",value:function(){this.dispatchEvent({type:"change"})}},{key:"setDepthTexture",value:function(e){}},{key:"update",value:function(e,t,n){}},{key:"setSize",value:function(e,t){}},{key:"initialize",value:function(e,t,n){}},{key:"dispose",value:function(){for(var e=0,t=Object.keys(this);e<t.length;e++){var n=t[e],r=this[n];(r instanceof Ch||r instanceof Qf||r instanceof Eh||r instanceof sP)&&this[n].dispose()}}}]),n}(Gd),yP="#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}",xP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=void 0===i?NC:i,o=r.luminanceThreshold,s=void 0===o?.9:o,l=r.luminanceSmoothing,u=void 0===l?.025:l,c=r.mipmapBlur,d=void 0!==c&&c,h=r.intensity,f=void 0===h?1:h,p=r.radius,v=void 0===p?.85:p,m=r.levels,g=void 0===m?8:m,y=r.kernelSize,x=void 0===y?HC:y,b=r.resolutionScale,w=void 0===b?.5:b,_=r.width,S=void 0===_?dP.AUTO_SIZE:_,M=r.height,k=void 0===M?dP.AUTO_SIZE:M,T=r.resolutionX,E=void 0===T?S:T,A=r.resolutionY,C=void 0===A?k:A;de(this,n),(e=t.call(this,"BloomEffect",yP,{blendFunction:a,uniforms:new Map([["map",new g_(null)],["intensity",new g_(f)]])})).renderTarget=new Ch(1,1,{depthBuffer:!1}),e.renderTarget.texture.name="Bloom.Target",e.blurPass=new hP({kernelSize:x}),e.luminancePass=new fP({colorOutput:!0}),e.luminanceMaterial.threshold=s,e.luminanceMaterial.smoothing=u,e.mipmapBlurPass=new pP,e.mipmapBlurPass.enabled=d,e.mipmapBlurPass.radius=v,e.mipmapBlurPass.levels=g,e.uniforms.get("map").value=d?e.mipmapBlurPass.texture:e.renderTarget.texture;var P=e.resolution=new dP(se(e),E,C,w);return P.addEventListener("change",(function(t){return e.setSize(P.baseWidth,P.baseHeight)})),e}return fe(n,[{key:"texture",get:function(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}},{key:"getTexture",value:function(){return this.texture}},{key:"getResolution",value:function(){return this.resolution}},{key:"getBlurPass",value:function(){return this.blurPass}},{key:"getLuminancePass",value:function(){return this.luminancePass}},{key:"luminanceMaterial",get:function(){return this.luminancePass.fullscreenMaterial}},{key:"getLuminanceMaterial",value:function(){return this.luminancePass.fullscreenMaterial}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"dithering",get:function(){return this.blurPass.dithering},set:function(e){this.blurPass.dithering=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(e){this.blurPass.kernelSize=e}},{key:"distinction",get:function(){return console.warn(this.name,"distinction was removed"),1},set:function(e){console.warn(this.name,"distinction was removed")}},{key:"intensity",get:function(){return this.uniforms.get("intensity").value},set:function(e){this.uniforms.get("intensity").value=e}},{key:"getIntensity",value:function(){return this.intensity}},{key:"setIntensity",value:function(e){this.intensity=e}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"update",value:function(e,t,n){var r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,i.renderTarget):this.blurPass.render(e,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,r)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}},{key:"initialize",value:function(e,t,n){this.blurPass.initialize(e,t,n),this.luminancePass.initialize(e,t,n),this.mipmapBlurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,e.outputEncoding===ld&&(this.renderTarget.texture.encoding=ld))}}]),n}(gP),bP="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",wP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=void 0===i?DC:i,o=r.brightness,s=void 0===o?0:o,l=r.contrast,u=void 0===l?0:l;return de(this,n),(e=t.call(this,"BrightnessContrastEffect",bP,{blendFunction:a,uniforms:new Map([["brightness",new g_(s)],["contrast",new g_(u)]])})).inputColorSpace=ld,e}return fe(n,[{key:"brightness",get:function(){return this.uniforms.get("brightness").value},set:function(e){this.uniforms.get("brightness").value=e}},{key:"getBrightness",value:function(e){return this.brightness}},{key:"setBrightness",value:function(e){this.brightness=e}},{key:"contrast",get:function(){return this.uniforms.get("contrast").value},set:function(e){this.uniforms.get("contrast").value=e}},{key:"getContrast",value:function(e){return this.contrast}},{key:"setContrast",value:function(e){this.contrast=e}}]),n}(gP),_P="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",SP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=r.bits,o=void 0===a?16:a;return de(this,n),(e=t.call(this,"ColorDepthEffect",_P,{blendFunction:i,uniforms:new Map([["factor",new g_(1)]])})).bits=0,e.bitDepth=o,e}return fe(n,[{key:"bitDepth",get:function(){return this.bits},set:function(e){this.bits=e,this.uniforms.get("factor").value=Math.pow(2,e/3)}},{key:"getBitDepth",value:function(){return this.bitDepth}},{key:"setBitDepth",value:function(e){this.bitDepth=e}}]),n}(gP),MP="void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\n#ifdef INVERTED\nvec3 color=vec3(1.0-depth);\n#else\nvec3 color=vec3(depth);\n#endif\noutputColor=vec4(color,inputColor.a);}",kP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=void 0===i?DC:i,o=r.inverted,s=void 0!==o&&o;return de(this,n),(e=t.call(this,"DepthEffect",MP,{blendFunction:a,attributes:BC})).inverted=s,e}return fe(n,[{key:"inverted",get:function(){return this.defines.has("INVERTED")},set:function(e){this.inverted!==e&&(e?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}},{key:"isInverted",value:function(){return this.inverted}},{key:"setInverted",value:function(e){this.inverted=e}}]),n}(gP),TP="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",EP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=r.angle,o=void 0===a?.5*Math.PI:a,s=r.scale,l=void 0===s?1:s;return de(this,n),(e=t.call(this,"DotScreenEffect",TP,{blendFunction:i,uniforms:new Map([["angle",new g_(new ah)],["scale",new g_(l)]])})).angle=o,e}return fe(n,[{key:"angle",get:function(){return Math.acos(this.uniforms.get("angle").value.y)},set:function(e){this.uniforms.get("angle").value.set(Math.sin(e),Math.cos(e))}},{key:"getAngle",value:function(){return this.angle}},{key:"setAngle",value:function(e){this.angle=e}},{key:"scale",get:function(){return this.uniforms.get("scale").value},set:function(e){this.uniforms.get("scale").value=e}}]),n}(gP);new Dh,new pf;var AP="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",CP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=void 0===i?DC:i,o=r.hue,s=void 0===o?0:o,l=r.saturation,u=void 0===l?0:l;return de(this,n),(e=t.call(this,"HueSaturationEffect",AP,{blendFunction:a,uniforms:new Map([["hue",new g_(new Dh)],["saturation",new g_(u)]])})).hue=s,e}return fe(n,[{key:"saturation",get:function(){return this.uniforms.get("saturation").value},set:function(e){this.uniforms.get("saturation").value=e}},{key:"getSaturation",value:function(){return this.saturation}},{key:"setSaturation",value:function(e){this.saturation=e}},{key:"hue",get:function(){var e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)},set:function(e){var t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}},{key:"getHue",value:function(){return this.hue}},{key:"setHue",value:function(e){this.hue=e}}]),n}(gP);new _h,new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]);new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);RP(0,0,0,0),new Float32Array([0,0,0,0]),RP(0,0,0,1),new Float32Array([0,0,0,1]),RP(0,0,1,0),new Float32Array([0,0,1,0]),RP(0,0,1,1),new Float32Array([0,0,1,1]),RP(0,1,0,0),new Float32Array([0,1,0,0]),RP(0,1,0,1),new Float32Array([0,1,0,1]),RP(0,1,1,0),new Float32Array([0,1,1,0]),RP(0,1,1,1),new Float32Array([0,1,1,1]),RP(1,0,0,0),new Float32Array([1,0,0,0]),RP(1,0,0,1),new Float32Array([1,0,0,1]),RP(1,0,1,0),new Float32Array([1,0,1,0]),RP(1,0,1,1),new Float32Array([1,0,1,1]),RP(1,1,0,0),new Float32Array([1,1,0,0]),RP(1,1,0,1),new Float32Array([1,1,0,1]),RP(1,1,1,0),new Float32Array([1,1,1,0]),RP(1,1,1,1),new Float32Array([1,1,1,1]);function PP(e,t,n){return e+(t-e)*n}function RP(e,t,n,r){var i=PP(e,t,.75),a=PP(n,r,.75);return PP(i,a,.875)}var LP="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",IP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=void 0===i?NC:i,o=r.premultiply,s=void 0!==o&&o;return de(this,n),(e=t.call(this,"NoiseEffect",LP,{blendFunction:a})).premultiply=s,e}return fe(n,[{key:"premultiply",get:function(){return this.defines.has("PREMULTIPLY")},set:function(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}},{key:"isPremultiplied",value:function(){return this.premultiply}},{key:"setPremultiplied",value:function(e){this.premultiply=e}}]),n}(gP),NP="uniform float count;\n#ifdef SCROLL\nuniform float scrollSpeed;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;\n#ifdef SCROLL\ny+=time*scrollSpeed;\n#endif\nvec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}",zP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=void 0===i?PC:i,o=r.density,s=void 0===o?1.25:o,l=r.scrollSpeed,u=void 0===l?0:l;return de(this,n),(e=t.call(this,"ScanlineEffect",NP,{blendFunction:a,uniforms:new Map([["count",new g_(0)],["scrollSpeed",new g_(0)]])})).resolution=new ah,e.d=s,e.scrollSpeed=u,e}return fe(n,[{key:"density",get:function(){return this.d},set:function(e){this.d=e,this.setSize(this.resolution.width,this.resolution.height)}},{key:"getDensity",value:function(){return this.density}},{key:"setDensity",value:function(e){this.density=e}},{key:"scrollSpeed",get:function(){return this.uniforms.get("scrollSpeed").value},set:function(e){this.uniforms.get("scrollSpeed").value=e,0===e?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}},{key:"setSize",value:function(e,t){this.resolution.set(e,t),this.uniforms.get("count").value=Math.round(t*this.density)}}]),n}(gP),DP="uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",OP="uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",FP=.5*Math.PI,UP=new Dh,BP=new Dh,jP=function(e){le(n,e);var t=ce(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dh,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.speed,s=void 0===o?2:o,l=a.maxRadius,u=void 0===l?1:l,c=a.waveSize,d=void 0===c?.2:c,h=a.amplitude,f=void 0===h?.05:h;return de(this,n),(r=t.call(this,"ShockWaveEffect",DP,{vertexShader:OP,uniforms:new Map([["active",new g_(!1)],["center",new g_(new ah(.5,.5))],["cameraDistance",new g_(1)],["size",new g_(1)],["radius",new g_(-d)],["maxRadius",new g_(u)],["waveSize",new g_(d)],["amplitude",new g_(f)]])})).position=i,r.speed=s,r.camera=e,r.screenPosition=r.uniforms.get("center").value,r.time=0,r.active=!1,r}return fe(n,[{key:"amplitude",get:function(){return this.uniforms.get("amplitude").value},set:function(e){this.uniforms.get("amplitude").value=e}},{key:"waveSize",get:function(){return this.uniforms.get("waveSize").value},set:function(e){this.uniforms.get("waveSize").value=e}},{key:"maxRadius",get:function(){return this.uniforms.get("maxRadius").value},set:function(e){this.uniforms.get("maxRadius").value=e}},{key:"epicenter",get:function(){return this.position},set:function(e){this.position=e}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e){this.position=e}},{key:"getSpeed",value:function(){return this.speed}},{key:"setSpeed",value:function(e){this.speed=e}},{key:"explode",value:function(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}},{key:"update",value:function(e,t,n){var r=this.position,i=this.camera,a=this.uniforms,o=a.get("active");if(this.active){var s=a.get("waveSize").value;i.getWorldDirection(UP),BP.copy(i.position).sub(r),o.value=UP.angleTo(BP)>FP,o.value&&(a.get("cameraDistance").value=i.position.distanceTo(r),UP.copy(r).project(i),this.screenPosition.set(.5*(UP.x+1),.5*(UP.y+1))),this.time+=n*this.speed;var l=this.time-s;a.get("radius").value=l,l>=2*(a.get("maxRadius").value+s)&&(this.active=!1,o.value=!1)}}}]),n}(gP),HP="uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",VP=function(e){le(n,e);var t=ce(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.blendFunction;e.intensity;return de(this,n),t.call(this,"SepiaEffect",HP,{blendFunction:r,uniforms:new Map([["weightsR",new g_(new Dh(.393,.769,.189))],["weightsG",new g_(new Dh(.349,.686,.168))],["weightsB",new g_(new Dh(.272,.534,.131))]])})}return fe(n,[{key:"intensity",get:function(){return this.blendMode.opacity.value},set:function(e){this.blendMode.opacity.value=e}},{key:"getIntensity",value:function(){return this.intensity}},{key:"setIntensity",value:function(e){this.intensity=e}},{key:"weightsR",get:function(){return this.uniforms.get("weightsR").value}},{key:"weightsG",get:function(){return this.uniforms.get("weightsG").value}},{key:"weightsB",get:function(){return this.uniforms.get("weightsB").value}}]),n}(gP),GP="#include <tonemapping_pars_fragment>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\nuniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;\n#if TONE_MAPPING_MODE != 2\nuniform float averageLuminance;\n#endif\nvec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);\n#if TONE_MAPPING_MODE == 2\nfloat lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));\n#else\nfloat lumAvg=averageLuminance;\n#endif\nfloat lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\n#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2\noutputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);\n#else\noutputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);\n#endif\n}",WP=function(e){le(n,e);var t=ce(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.blendFunction,a=void 0===i?DC:i,o=r.adaptive,s=void 0===o||o,l=r.mode,u=void 0===l?s?WC:GC:l,c=r.resolution,d=void 0===c?256:c,h=r.maxLuminance,f=void 0===h?16:h,p=r.whitePoint,v=void 0===p?f:p,m=r.middleGrey,g=void 0===m?.6:m,y=r.minLuminance,x=void 0===y?.01:y,b=r.averageLuminance,w=void 0===b?1:b,_=r.adaptationRate,S=void 0===_?1:_;return de(this,n),(e=t.call(this,"ToneMappingEffect",GP,{blendFunction:a,uniforms:new Map([["luminanceBuffer",new g_(null)],["maxLuminance",new g_(f)],["whitePoint",new g_(v)],["middleGrey",new g_(g)],["averageLuminance",new g_(w)]])})).renderTargetLuminance=new Ch(1,1,{minFilter:Zu,depthBuffer:!1}),e.renderTargetLuminance.texture.generateMipmaps=!0,e.renderTargetLuminance.texture.name="Luminance",e.luminancePass=new fP({renderTarget:e.renderTargetLuminance}),e.adaptiveLuminancePass=new uP(e.luminancePass.texture,{minLuminance:x,adaptationRate:S}),e.uniforms.get("luminanceBuffer").value=e.adaptiveLuminancePass.texture,e.resolution=d,e.mode=u,e}return fe(n,[{key:"mode",get:function(){return Number(this.defines.get("TONE_MAPPING_MODE"))},set:function(e){if(this.mode!==e){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",e.toFixed(0)),e){case VC:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case qC:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case XC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel")}this.adaptiveLuminancePass.enabled=e===WC,this.setChanged()}}},{key:"getMode",value:function(){return this.mode}},{key:"setMode",value:function(e){this.mode=e}},{key:"whitePoint",get:function(){return this.uniforms.get("whitePoint").value},set:function(e){this.uniforms.get("whitePoint").value=e}},{key:"middleGrey",get:function(){return this.uniforms.get("middleGrey").value},set:function(e){this.uniforms.get("middleGrey").value=e}},{key:"averageLuminance",get:function(){return this.uniforms.get("averageLuminance").value},set:function(e){this.uniforms.get("averageLuminance").value=e}},{key:"adaptiveLuminanceMaterial",get:function(){return this.adaptiveLuminancePass.fullscreenMaterial}},{key:"getAdaptiveLuminanceMaterial",value:function(){return this.adaptiveLuminanceMaterial}},{key:"resolution",get:function(){return this.luminancePass.resolution.width},set:function(e){var t=Math.max(0,Math.ceil(Math.log2(e))),n=Math.pow(2,t);this.luminancePass.resolution.setPreferredSize(n,n),this.adaptiveLuminanceMaterial.mipLevel1x1=t}},{key:"getResolution",value:function(){return this.resolution}},{key:"setResolution",value:function(e){this.resolution=e}},{key:"adaptive",get:function(){return this.mode===WC},set:function(e){this.mode=e?WC:GC}},{key:"adaptationRate",get:function(){return this.adaptiveLuminanceMaterial.adaptationRate},set:function(e){this.adaptiveLuminanceMaterial.adaptationRate=e}},{key:"distinction",get:function(){return console.warn(this.name,"distinction was removed."),1},set:function(e){console.warn(this.name,"distinction was removed.")}},{key:"update",value:function(e,t,n){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(e,t),this.adaptiveLuminancePass.render(e,null,null,n))}},{key:"initialize",value:function(e,t,n){this.adaptiveLuminancePass.initialize(e,t,n)}}]),n}(gP),qP="uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\n#if VIGNETTE_TECHNIQUE == 0\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\n#else\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\n#endif\noutputColor=vec4(color,inputColor.a);}",XP=function(e){le(n,e);var t=ce(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.blendFunction,i=e.technique,a=void 0===i?YC:i,o=(e.eskil,e.offset),s=void 0===o?.5:o,l=e.darkness,u=void 0===l?.5:l;return de(this,n),t.call(this,"VignetteEffect",qP,{blendFunction:r,defines:new Map([["VIGNETTE_TECHNIQUE",a.toFixed(0)]]),uniforms:new Map([["offset",new g_(s)],["darkness",new g_(u)]])})}return fe(n,[{key:"technique",get:function(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))},set:function(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}},{key:"eskil",get:function(){return this.technique===KC},set:function(e){this.technique=e?KC:YC}},{key:"getTechnique",value:function(){return this.technique}},{key:"setTechnique",value:function(e){this.technique=e}},{key:"offset",get:function(){return this.uniforms.get("offset").value},set:function(e){this.uniforms.get("offset").value=e}},{key:"getOffset",value:function(){return this.offset}},{key:"setOffset",value:function(e){this.offset=e}},{key:"darkness",get:function(){return this.uniforms.get("darkness").value},set:function(e){this.uniforms.get("darkness").value=e}},{key:"getDarkness",value:function(){return this.darkness}},{key:"setDarkness",value:function(e){this.darkness=e}}]),n}(gP),YP=["blendFunction","opacity"],KP=["enabled","children"],ZP=function(e,t){return void 0===t&&(t=CC),(0,r.forwardRef)((function(n,i){var a=n.blendFunction,o=n.opacity,s=Z(n,YP),l=DM((function(e){return e.invalidate})),u=(0,r.useMemo)((function(){return new e(s)}),[s]);return(0,r.useLayoutEffect)((function(){u.blendMode.blendFunction=a||0===a?a:t,void 0!==o&&(u.blendMode.opacity.value=o),l()}),[a,u.blendMode,o]),r.createElement("primitive",{ref:i,object:u,dispose:null})}))},JP=(ZP(xP,oC),ZP(wP),ZP(SP),ZP(kP),ZP(EP),ZP(CP),ZP(IP,dC),(0,r.createContext)(null));function QP(e){var t=e.enabled,n=void 0!==t&&t,i=e.children,a=Z(e,KP),o=(0,r.useRef)(null),s=(0,r.useContext)(JP);return(0,r.useEffect)((function(){if(s&&n){var e=!1,t=[];if(o.current.traverse((function(n){"Mesh"===n.type&&t.push(n),-1===s.selected.indexOf(n)&&(e=!0)})),e)return s.select((function(e){return[].concat(K(e),t)})),function(){s.select((function(e){return e.filter((function(e){return!t.includes(e)}))}))}}}),[n,i]),r.createElement("group",c({ref:o},a),i)}ZP(zP,PC),ZP(VP),ZP(WP),ZP(XP),ZP(jP);function $P(e){new sw;var t=u((0,r.useState)(!1),2),n=t[0],i=t[1],a=u(Rl(aA),2),o=a[0],s=a[1],l=u(Rl(sA),2),c=l[0],d=l[1],h=u(Rl(lA),2),f=h[0],p=h[1],v=UM(rC,"/assets/textures/\ud22c\ub450\uc7171.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)(QP,{enabled:n,children:(0,hA.jsxs)("mesh",{position:[7.5,0,-10.5],rotation:[0,Math.PI/1.3,0],onClick:function(){p(X(X({},f),{},{todowithMemory:!0}));var e=setTimeout((function(){s(X(X({},o),{},{todowithModal:!0}));var t=setTimeout((function(){d(X(X({},c),{},{projectTodowith:!0,projectModal:!0})),clearTimeout(t)}),200);clearTimeout(e)}),200)},onPointerOver:function(){return i(!0)},onPointerOut:function(){return i(!1)},children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[2.5,6,.5]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:v,color:n?"#ffb1dc":"white"})]})})})}var eR,tR,nR,rR,iR,aR,oR,sR,lR,uR,cR=r.memo($P),dR=iA.p(eR||(eR=vT(["\n  font-size: ","px;\n  font-family: ",";\n  color: ",";\n  /* display: flex; */\n  font-weight: ",";\n  text-align: ",";\n  margin: 0;\n  line-height: ",";\n  white-space: ",";\n"])),(function(e){return e.size}),(function(e){return e.isBold?"Title4":"Title2"}),(function(e){return e.color?e.color:"#1A1A1A"}),(function(e){return e.weight?e.weight:400}),(function(e){return e.align?e.align:""}),(function(e){return e.lineHeight?e.lineHeight:""}),(function(e){return e.isWhiteSpace?"pre-line":""})),hR=iA(dR)(tR||(tR=vT(['\n  font-family: "title4";\n  font-weight: 700;\n  font-size: 30px;\n']))),fR=iA.div(nR||(nR=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: ",";\n  justify-content: ",";\n  width: ","px;\n  height: ","px;\n  margin: ",";\n  background-color: ",";\n"])),(function(e){return e.isAlignSide?"":"center"}),(function(e){return e.isContentSide?"":"center"}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.margin}),(function(e){return e.backgroundColor?e.backgroundColor:""})),pR=(iA.div(rR||(rR=vT(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n  width: ","px;\n  height: ","px;\n  margin: ",";\n  row-gap: ","px;\n  column-gap: ","px;\n  border: ",";\n  border-radius: ",";\n  cursor: ",";\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-size: ",";\n  background-position: center;\n  background-color: ",";\n"])),(function(e){return e.direction?e.direction:"column"}),(function(e){return e.isAlignSide?"":"center"}),(function(e){return e.isContentSide?"":"center"}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.margin}),(function(e){return e.rowGap}),(function(e){return e.columnGap}),(function(e){return e.border}),(function(e){return e.borderRadius}),(function(e){return e.isCursor?"pointer":""}),(function(e){return e.url}),(function(e){return e.backgroundsize?e.backgroundsize:"cover"}),(function(e){return e.backgroundColor?e.backgroundColor:""})),iA.div(iR||(iR=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: ",";\n  justify-content: ",";\n  width: ","px;\n  height: ","px;\n  row-gap: ","px;\n  margin: ",";\n  border: ",";\n  border-radius: ",";\n  cursor: ",";\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-size: ",";\n  background-position: center;\n  background-color: ",";\n"])),(function(e){return e.isAlignSide?"":"center"}),(function(e){return e.isContentSide?"":"center"}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.rowGap}),(function(e){return e.margin}),(function(e){return e.border}),(function(e){return e.borderRadius}),(function(e){return e.isCursor?"pointer":""}),(function(e){return e.url}),(function(e){return e.backgroundsize?e.backgroundsize:"cover"}),(function(e){return e.backgroundColor?e.backgroundColor:""}))),vR=iA.div(aR||(aR=vT(["\n  display: flex;\n  flex-direction: row;\n  align-items: ",";\n  justify-content: ",";\n  width: ","px;\n  height: ","px;\n  column-gap: ","px;\n  margin: ",";\n  border: ",";\n  border-radius: ",";\n  cursor: ",";\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-size: ",";\n  background-position: center;\n  background-color: ",";\n"])),(function(e){return e.isAlignSide?"":"center"}),(function(e){return e.isContentSide?"":"center"}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.columnGap}),(function(e){return e.margin}),(function(e){return e.border}),(function(e){return e.borderRadius}),(function(e){return e.isCursor?"pointer":""}),(function(e){return e.url}),(function(e){return e.backgroundsize?e.backgroundsize:"cover"}),(function(e){return e.backgroundColor?e.backgroundColor:""})),mR=iA(pR)(oR||(oR=vT(["\n  /* background-color: yellow; */\n  width: 300px;\n  height: 35px;\n  margin: 70px auto 0px auto;\n"]))),gR=iA(pR)(sR||(sR=vT(["\n  /* background-color: yellow; */\n  width: 300px;\n  height: 35px;\n"]))),yR=iA.button(lR||(lR=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: ",";\n  border-radius: 30px;\n  width: ","px;\n  height: ","px;\n  margin: ",";\n  background: ",";\n\n  :hover {\n    background-color: #ff8e8e;\n  }\n  cursor: ",";\n"])),(function(e){return e.isDisable?"1px solid #DDDDDD":"none"}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.margin}),(function(e){return e.isDisable?"#F7F7F7  ":"#FFD600"}),(function(e){return e.isDisable?"":"pointer"})),xR=iA.button(uR||(uR=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: ",";\n  border-radius: 30px;\n  width: ","px;\n  height: 45px;\n  margin: ",";\n  font-size: 15px;\n  color: #ffffff;\n  background: ",";\n\n  :hover {\n    background-color: #ffffff;\n    color: #004257;\n  }\n  cursor: ",";\n"])),(function(e){return e.isDisable?"1px solid #DDDDDD":"none"}),(function(e){return e.width}),(function(e){return e.margin}),(function(e){return e.isDisable?"#F7F7F7  ":"#004257"}),(function(e){return e.isDisable?"":"pointer"})),bR=["children","className"],wR=["className","tag","hasTrack","children"],_R=["children","className"];function SR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var MR="(prefers-reduced-motion: reduce)",kR={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};function TR(e){e.length=0}function ER(e,t,n){return Array.prototype.slice.call(e,t,n)}function AR(e){return e.bind.apply(e,[null].concat(ER(arguments,1)))}var CR=setTimeout,PR=function(){};function RR(e){return requestAnimationFrame(e)}function LR(e,t){return typeof t===e}function IR(e){return!FR(e)&&LR("object",e)}var NR=Array.isArray,zR=AR(LR,"function"),DR=AR(LR,"string"),OR=AR(LR,"undefined");function FR(e){return null===e}function UR(e){return e instanceof HTMLElement}function BR(e){return NR(e)?e:[e]}function jR(e,t){BR(e).forEach(t)}function HR(e,t){return e.indexOf(t)>-1}function VR(e,t){return e.push.apply(e,BR(t)),e}function GR(e,t,n){e&&jR(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function WR(e,t){GR(e,DR(t)?t.split(" "):t,!0)}function qR(e,t){jR(t,e.appendChild.bind(e))}function XR(e,t){jR(e,(function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function YR(e,t){return UR(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function KR(e,t){var n=e?ER(e.children):[];return t?n.filter((function(e){return YR(e,t)})):n}function ZR(e,t){return t?KR(e,t)[0]:e.firstElementChild}var JR=Object.keys;function QR(e,t,n){if(e){var r=JR(e);r=n?r.reverse():r;for(var i=0;i<r.length;i++){var a=r[i];if("__proto__"!==a&&!1===t(e[a],a))break}}return e}function $R(e){return ER(arguments,1).forEach((function(t){QR(t,(function(n,r){e[r]=t[r]}))})),e}function eL(e){return ER(arguments,1).forEach((function(t){QR(t,(function(t,n){NR(t)?e[n]=t.slice():IR(t)?e[n]=eL({},IR(e[n])?e[n]:{},t):e[n]=t}))})),e}function tL(e,t){BR(t||JR(e)).forEach((function(t){delete e[t]}))}function nL(e,t){jR(e,(function(e){jR(t,(function(t){e&&e.removeAttribute(t)}))}))}function rL(e,t,n){IR(t)?QR(t,(function(t,n){rL(e,n,t)})):jR(e,(function(e){FR(n)||""===n?nL(e,t):e.setAttribute(t,String(n))}))}function iL(e,t,n){var r=document.createElement(e);return t&&(DR(t)?WR(r,t):rL(r,t)),n&&qR(n,r),r}function aL(e,t,n){if(OR(n))return getComputedStyle(e)[t];FR(n)||(e.style[t]=""+n)}function oL(e,t){aL(e,"display",t)}function sL(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function lL(e,t){return e.getAttribute(t)}function uL(e,t){return e&&e.classList.contains(t)}function cL(e){return e.getBoundingClientRect()}function dL(e){jR(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function hL(e){return ZR((new DOMParser).parseFromString(e,"text/html").body)}function fL(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function pL(e,t){return e&&e.querySelector(t)}function vL(e,t){return t?ER(e.querySelectorAll(t)):[]}function mL(e,t){GR(e,t,!1)}function gL(e){return e.timeStamp}function yL(e){return DR(e)?e:e?e+"px":""}var xL="splide",bL="data-splide";function wL(e,t){if(!e)throw new Error("[splide] "+(t||""))}var _L=Math.min,SL=Math.max,ML=Math.floor,kL=Math.ceil,TL=Math.abs;function EL(e,t,n){return TL(e-t)<n}function AL(e,t,n,r){var i=_L(t,n),a=SL(t,n);return r?i<e&&e<a:i<=e&&e<=a}function CL(e,t,n){var r=_L(t,n),i=SL(t,n);return _L(SL(r,e),i)}function PL(e){return+(e>0)-+(e<0)}function RL(e,t){return jR(t,(function(t){e=e.replace("%s",""+t)})),e}function LL(e){return e<10?"0"+e:""+e}var IL={};function NL(){var e=[];function t(e,t,n){jR(e,(function(e){e&&jR(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");n(e,r[0],r[1])}))}))}))}return{bind:function(n,r,i,a){t(n,r,(function(t,n,r){var o="addEventListener"in t,s=o?t.removeEventListener.bind(t,n,i,a):t.removeListener.bind(t,i);o?t.addEventListener(n,i,a):t.addListener(i),e.push([t,n,r,i,s])}))},unbind:function(n,r,i){t(n,r,(function(t,n,r){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==r||i&&e[3]!==i)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var r;return"function"===typeof CustomEvent?r=new CustomEvent(t,{bubbles:true,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,n),e.dispatchEvent(r),r},destroy:function(){e.forEach((function(e){e[4]()})),TR(e)}}}var zL="mounted",DL="ready",OL="move",FL="moved",UL="shifted",BL="click",jL="active",HL="inactive",VL="visible",GL="hidden",WL="slide:keydown",qL="refresh",XL="updated",YL="resize",KL="resized",ZL="drag",JL="dragging",QL="dragged",$L="scroll",eI="scrolled",tI="destroy",nI="arrows:mounted",rI="arrows:updated",iI="pagination:mounted",aI="pagination:updated",oI="navigation:mounted",sI="autoplay:play",lI="autoplay:playing",uI="autoplay:pause",cI="lazyload:loaded";function dI(e){var t=e?e.event.bus:document.createDocumentFragment(),n=NL();return e&&e.event.on(tI,n.destroy),$R(n,{bus:t,on:function(e,r){n.bind(t,BR(e).join(" "),(function(e){r.apply(r,NR(e.detail)?e.detail:[])}))},off:AR(n.unbind,t),emit:function(e){n.dispatch(t,e,ER(arguments,1))}})}function hI(e,t,n,r){var i,a,o=Date.now,s=0,l=!0,u=0;function c(){if(!l){if(s=e?_L((o()-i)/e,1):1,n&&n(s),s>=1&&(t(),i=o(),r&&++u>=r))return d();RR(c)}}function d(){l=!0}function h(){a&&cancelAnimationFrame(a),s=0,a=0,l=!0}return{start:function(t){!t&&h(),i=o()-(t?s*e:0),l=!1,RR(c)},rewind:function(){i=o(),s=0,n&&n(s)},pause:d,cancel:h,set:function(t){e=t},isPaused:function(){return l}}}var fI="ArrowLeft",pI="ArrowRight",vI="ArrowUp",mI="ArrowDown",gI="ttb",yI={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[vI,pI],ArrowRight:[mI,fI]};var xI="role",bI="tabindex",wI="aria-controls",_I="aria-current",SI="aria-selected",MI="aria-label",kI="aria-labelledby",TI="aria-hidden",EI="aria-orientation",AI="aria-roledescription",CI="aria-live",PI="aria-busy",RI="aria-atomic",LI=[xI,bI,"disabled",wI,_I,MI,kI,TI,EI,AI],II=xL,NI="splide__track",zI="splide__list",DI="splide__slide",OI=DI+"--clone",FI="splide__arrows",UI="splide__arrow",BI=UI+"--prev",jI=UI+"--next",HI="splide__pagination",VI=HI+"__page",GI="splide__progress__bar",WI="splide__toggle",qI="is-active",XI="is-prev",YI="is-next",KI="is-visible",ZI="is-loading",JI="is-focus-in",QI=[qI,KI,XI,YI,ZI,JI],$I={slide:DI,clone:OI,arrows:FI,arrow:UI,prev:BI,next:jI,pagination:HI,page:VI,spinner:"splide__spinner"};var eN="touchstart mousedown",tN="touchmove mousemove",nN="touchend touchcancel mouseup click";var rN="slide",iN="loop",aN="fade";function oN(e,t,n,r){var i,a=dI(e),o=a.on,s=a.emit,l=a.bind,u=e.Components,c=e.root,d=e.options,h=d.isNavigation,f=d.updateOnMove,p=d.i18n,v=d.pagination,m=d.slideFocus,g=u.Direction.resolve,y=lL(r,"style"),x=lL(r,MI),b=n>-1,w=ZR(r,".splide__slide__container");function _(){var i=e.splides.map((function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");rL(r,MI,RL(p.slideX,(b?n:t)+1)),rL(r,wI,i),rL(r,xI,m?"button":""),m&&nL(r,AI)}function S(){i||M()}function M(){if(!i){var n=e.index;!function(){var e=k();e!==uL(r,qI)&&(GR(r,qI,e),rL(r,_I,h&&e||""),s(e?jL:HL,T))}(),function(){var t=function(){if(e.is(aN))return k();var t=cL(u.Elements.track),n=cL(r),i=g("left",!0),a=g("right",!0);return ML(t[i])<=kL(n[i])&&ML(n[a])<=kL(t[a])}(),n=!t&&(!k()||b);e.state.is([4,5])||rL(r,TI,n||"");rL(vL(r,d.focusableNodes||""),bI,n?-1:""),m&&rL(r,bI,n?-1:0);t!==uL(r,KI)&&(GR(r,KI,t),s(t?VL:GL,T));if(!t&&document.activeElement===r){var i=u.Slides.getAt(e.index);i&&sL(i.slide)}}(),GR(r,XI,t===n-1),GR(r,YI,t===n+1)}}function k(){var r=e.index;return r===t||d.cloneStatus&&r===n}var T={index:t,slideIndex:n,slide:r,container:w,isClone:b,mount:function(){b||(r.id=c.id+"-slide"+LL(t+1),rL(r,xI,v?"tabpanel":"group"),rL(r,AI,p.slide),rL(r,MI,x||RL(p.slideLabel,[t+1,e.length]))),l(r,"click",AR(s,BL,T)),l(r,"keydown",AR(s,WL,T)),o([FL,UL,eI],M),o(oI,_),f&&o(OL,S)},destroy:function(){i=!0,a.destroy(),mL(r,QI),nL(r,LI),rL(r,"style",y),rL(r,MI,x||"")},update:M,style:function(e,t,n){aL(n&&w||r,e,t)},isWithin:function(n,r){var i=TL(n-t);return b||!d.rewind&&!e.is(iN)||(i=_L(i,e.length-i)),i<=r}};return T}var sN={passive:!1,capture:!0};var lN={Spacebar:" ",Right:pI,Left:fI,Up:vI,Down:mI};function uN(e){return e=DR(e)?e:e.key,lN[e]||e}var cN="keydown";var dN="data-splide-lazy",hN="data-splide-lazy-srcset",fN="[data-splide-lazy], [data-splide-lazy-srcset]";var pN=[" ","Enter"];var vN=Object.freeze({__proto__:null,Media:function(e,t,n){var r=e.state,i=n.breakpoints||{},a=n.reducedMotion||{},o=NL(),s=[];function l(e){e&&o.destroy()}function u(e,t){var n=matchMedia(t);o.bind(n,"change",c),s.push([e,n])}function c(){var t=r.is(7),i=n.direction,a=s.reduce((function(e,t){return eL(e,t[1].matches?t[0]:{})}),{});tL(n),d(a),n.destroy?e.destroy("completely"===n.destroy):t?(l(!0),e.mount()):i!==n.direction&&e.refresh()}function d(t,i){eL(n,t),i&&eL(Object.getPrototypeOf(n),t),r.is(1)||e.emit(XL,n)}return{setup:function(){var e="min"===n.mediaQuery;JR(i).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){u(i[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),u(a,MR),c()},destroy:l,reduce:function(e){matchMedia(MR).matches&&(e?eL(n,a):tL(n,JR(a)))},set:d}},Direction:function(e,t,n){return{resolve:function(e,t,r){var i="rtl"!==(r=r||n.direction)||t?r===gI?0:-1:1;return yI[e]&&yI[e][i]||e.replace(/width|left|right/i,(function(e,t){var n=yI[e.toLowerCase()][i]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var r,i,a,o=dI(e),s=o.on,l=o.bind,u=e.root,c=n.i18n,d={},h=[],f=[],p=[];function v(){r=y("."+NI),i=ZR(r,"."+zI),wL(r&&i,"A track/list element is missing."),VR(h,KR(i,".splide__slide:not(."+OI+")")),QR({arrows:FI,pagination:HI,prev:BI,next:jI,bar:GI,toggle:WI},(function(e,t){d[t]=y("."+e)})),$R(d,{root:u,track:r,list:i,slides:h}),function(){var e=u.id||(a=xL,""+a+LL(IL[a]=(IL[a]||0)+1)),t=n.role;var a;u.id=e,r.id=r.id||e+"-track",i.id=i.id||e+"-list",!lL(u,xI)&&"SECTION"!==u.tagName&&t&&rL(u,xI,t);rL(u,AI,c.carousel),rL(i,xI,"presentation")}(),g()}function m(e){var t=LI.concat("style");TR(h),mL(u,f),mL(r,p),nL([r,i],t),nL(u,e?t:["style",AI])}function g(){mL(u,f),mL(r,p),f=x(II),p=x(NI),WR(u,f),WR(r,p),rL(u,MI,n.label),rL(u,kI,n.labelledby)}function y(e){var t=pL(u,e);return t&&function(e,t){if(zR(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!YR(n,t);)n=n.parentElement;return n}(t,".splide")===u?t:void 0}function x(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===II&&qI]}return $R(d,{setup:v,mount:function(){s(qL,m),s(qL,v),s(XL,g),l(document,"touchstart mousedown keydown",(function(e){a="keydown"===e.type}),{capture:!0}),l(u,"focusin",(function(){GR(u,JI,!!a)}))},destroy:m})},Slides:function(e,t,n){var r=dI(e),i=r.on,a=r.emit,o=r.bind,s=t.Elements,l=s.slides,u=s.list,c=[];function d(){l.forEach((function(e,t){f(e,t,-1)}))}function h(){v((function(e){e.destroy()})),TR(c)}function f(t,n,r){var i=oN(e,n,r,t);i.mount(),c.push(i),c.sort((function(e,t){return e.index-t.index}))}function p(e){return e?m((function(e){return!e.isClone})):c}function v(e,t){p(t).forEach(e)}function m(e){return c.filter(zR(e)?e:function(t){return DR(e)?YR(t.slide,e):HR(BR(e),t.index)})}return{mount:function(){d(),i(qL,h),i(qL,d)},destroy:h,update:function(){v((function(e){e.update()}))},register:f,get:p,getIn:function(e){var r=t.Controller,i=r.toIndex(e),a=r.hasFocus()?1:n.perPage;return m((function(e){return AL(e.index,i,i+a-1)}))},getAt:function(e){return m(e)[0]},add:function(e,t){jR(e,(function(e){if(DR(e)&&(e=hL(e)),UR(e)){var r=l[t];r?XR(e,r):qR(u,e),WR(e,n.classes.slide),function(e,t){var n=vL(e,"img"),r=n.length;r?n.forEach((function(e){o(e,"load error",(function(){--r||t()}))})):t()}(e,AR(a,YL))}})),a(qL)},remove:function(e){dL(m(e).map((function(e){return e.slide}))),a(qL)},forEach:v,filter:m,style:function(e,t,n){v((function(r){r.style(e,t,n)}))},getLength:function(e){return e?l.length:c.length},isEnough:function(){return c.length>n.perPage}}},Layout:function(e,t,n){var r,i,a=dI(e),o=a.on,s=a.bind,l=a.emit,u=t.Slides,c=t.Direction.resolve,d=t.Elements,h=d.root,f=d.track,p=d.list,v=u.getAt,m=u.style;function g(){i=null,r=n.direction===gI,aL(h,"maxWidth",yL(n.width)),aL(f,c("paddingLeft"),x(!1)),aL(f,c("paddingRight"),x(!0)),y()}function y(){var e=cL(h);i&&i.width===e.width&&i.height===e.height||(aL(f,"height",function(){var e="";r&&(wL(e=b(),"height or heightRatio is missing."),e="calc("+e+" - "+x(!1)+" - "+x(!0)+")");return e}()),m(c("marginRight"),yL(n.gap)),m("width",n.autoWidth?null:yL(n.fixedWidth)||(r?"":w())),m("height",yL(n.fixedHeight)||(r?n.autoHeight?null:w():b()),!0),i=e,l(KL))}function x(e){var t=n.padding,r=c(e?"right":"left");return t&&yL(t[r]||(IR(t)?0:t))||"0px"}function b(){return yL(n.height||cL(p).width*n.heightRatio)}function w(){var e=yL(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function _(e,t){var n=v(e);if(n){var r=cL(n.slide)[c("right")],i=cL(p)[c("left")];return TL(r-i)+(t?0:S())}return 0}function S(){var e=v(0);return e&&parseFloat(aL(e.slide,c("marginRight")))||0}return{mount:function(){g(),s(window,"resize load",function(e,t){var n;return function(){n||(n=hI(t||0,(function(){e(),n=null}),null,1)).start()}}(AR(l,YL))),o([XL,qL],g),o(YL,y)},listSize:function(){return cL(p)[c("width")]},slideSize:function(e,t){var n=v(e||0);return n?cL(n.slide)[c("width")]+(t?0:S()):0},sliderSize:function(){return _(e.length-1,!0)-_(-1,!0)},totalSize:_,getPadding:function(e){return parseFloat(aL(f,c("padding"+(e?"Right":"Left"))))||0}}},Clones:function(e,t,n){var r,i=dI(e),a=i.on,o=i.emit,s=t.Elements,l=t.Slides,u=t.Direction.resolve,c=[];function d(){(r=p())&&(!function(t){var r=l.get().slice(),i=r.length;if(i){for(;r.length<t;)VR(r,r);VR(r.slice(-t),r.slice(0,t)).forEach((function(a,o){var u=o<t,d=function(t,r){var i=t.cloneNode(!0);return WR(i,n.classes.clone),i.id=e.root.id+"-clone"+LL(r+1),i}(a.slide,o);u?XR(d,r[0].slide):qR(s.list,d),VR(c,d),l.register(d,o-t+(u?0:i),a.index)}))}}(r),o(YL))}function h(){dL(c),TR(c)}function f(){r<p()&&o(qL)}function p(){var r=n.clones;if(e.is(iN)){if(!r){var i=n[u("fixedWidth")]&&t.Layout.slideSize(0);r=i&&kL(cL(s.track)[u("width")]/i)||n[u("autoWidth")]&&e.length||2*n.perPage}}else r=0;return r}return{mount:function(){d(),a(qL,h),a(qL,d),a([XL,YL],f)},destroy:h}},Move:function(e,t,n){var r,i=dI(e),a=i.on,o=i.emit,s=e.state.set,l=t.Layout,u=l.slideSize,c=l.getPadding,d=l.totalSize,h=l.listSize,f=l.sliderSize,p=t.Direction,v=p.resolve,m=p.orient,g=t.Elements,y=g.list,x=g.track;function b(){t.Controller.isBusy()||(t.Scroll.cancel(),w(e.index),t.Slides.update())}function w(e){_(T(e,!0))}function _(n,r){if(!e.is(aN)){var i=r?n:function(n){if(e.is(iN)){var r=k(n),i=r>t.Controller.getEnd();(r<0||i)&&(n=S(n,i))}return n}(n);aL(y,"transform","translate"+v("X")+"("+i+"px)"),n!==i&&o(UL)}}function S(e,t){var n=e-A(t),r=f();return e-=m(r*(kL(TL(n)/r)||1))*(t?1:-1)}function M(){_(E()),r.cancel()}function k(e){for(var n=t.Slides.get(),r=0,i=1/0,a=0;a<n.length;a++){var o=n[a].index,s=TL(T(o,!0)-e);if(!(s<=i))break;i=s,r=o}return r}function T(t,r){var i=m(d(t-1)-function(e){var t=n.focus;return"center"===t?(h()-u(e,!0))/2:+t*u(e)||0}(t));return r?function(t){n.trimSpace&&e.is(rN)&&(t=CL(t,0,m(f()-h())));return t}(i):i}function E(){var e=v("left");return cL(y)[e]-cL(x)[e]+m(c(!1))}function A(e){return T(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){r=t.Transition,a([zL,KL,XL,qL],b)},move:function(e,t,n,i){e!==t&&function(e){var t=m(S(E(),e));return e?t>=0:t<=y[v("scrollWidth")]-cL(x)[v("width")]}(e>n)&&(M(),_(S(E(),e>n),!0)),s(4),o(OL,t,n,e),r.start(t,(function(){s(3),o(FL,t,n,e),i&&i()}))},jump:w,translate:_,shift:S,cancel:M,toIndex:k,toPosition:T,getPosition:E,getLimit:A,exceededLimit:function(e,t){t=OR(t)?E():t;var n=!0!==e&&m(t)<m(A(!1)),r=!1!==e&&m(t)>m(A(!0));return n||r},reposition:b}},Controller:function(e,t,n){var r,i,a,o=dI(e).on,s=t.Move,l=s.getPosition,u=s.getLimit,c=s.toPosition,d=t.Slides,h=d.isEnough,f=d.getLength,p=e.is(iN),v=e.is(rN),m=AR(w,!1),g=AR(w,!0),y=n.start||0,x=y;function b(){r=f(!0),i=n.perMove,a=n.perPage;var e=CL(y,0,r-1);e!==y&&(y=e,s.reposition())}function w(e,t){var n=i||(A()?1:a),r=_(y+n*(e?-1:1),y,!(i||A()));return-1===r&&v&&!EL(l(),u(!e),1)?e?0:M():t?r:S(r)}function _(t,o,s){if(h()||A()){var u=M(),d=function(t){if(v&&"move"===n.trimSpace&&t!==y)for(var r=l();r===c(t,!0)&&AL(t,0,e.length-1,!n.rewind);)t<y?--t:++t;return t}(t);d!==t&&(o=t,t=d,s=!1),t<0||t>u?t=i||!AL(0,t,o,!0)&&!AL(u,o,t,!0)?p?s?t<0?-(r%a||a):r:t:n.rewind?t<0?u:0:-1:k(T(t)):s&&t!==o&&(t=k(T(o)+(t<o?-1:1)))}else t=-1;return t}function S(e){return p?(e+r)%r||0:e}function M(){return SL(r-(A()||p&&i?1:a),0)}function k(e){return CL(A()?e:a*e,0,M())}function T(e){return A()?e:ML((e>=M()?r-1:e)/a)}function E(e){e!==y&&(x=y,y=e)}function A(){return!OR(n.focus)||n.isNavigation}function C(){return e.state.is([4,5])&&!!n.waitForTransition}return{mount:function(){b(),o([XL,qL],b)},go:function(e,t,n){if(!C()){var r=function(e){var t=y;if(DR(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],r=n[1],i=n[2];"+"===r||"-"===r?t=_(y+ +(""+r+(+i||1)),y):">"===r?t=i?k(+i):m(!0):"<"===r&&(t=g(!0))}else t=p?e:CL(e,0,M());return t}(e),i=S(r);i>-1&&(t||i!==y)&&(E(i),s.move(r,i,x,n))}},scroll:function(e,n,r,i){t.Scroll.scroll(e,n,r,(function(){E(S(s.toIndex(l()))),i&&i()}))},getNext:m,getPrev:g,getAdjacent:w,getEnd:M,setIndex:E,getIndex:function(e){return e?x:y},toIndex:k,toPage:T,toDest:function(e){var t=s.toIndex(e);return v?CL(t,0,M()):t},hasFocus:A,isBusy:C}},Arrows:function(e,t,n){var r,i,a=dI(e),o=a.on,s=a.bind,l=a.emit,u=n.classes,c=n.i18n,d=t.Elements,h=t.Controller,f=d.arrows,p=d.track,v=f,m=d.prev,g=d.next,y={};function x(){!function(){var e=n.arrows;!e||m&&g||(v=f||iL("div",u.arrows),m=S(!0),g=S(!1),r=!0,qR(v,[m,g]),!f&&XR(v,p));m&&g&&($R(y,{prev:m,next:g}),oL(v,e?"":"none"),WR(v,i=FI+"--"+n.direction),e&&(o([FL,qL,eI],M),s(g,"click",AR(_,">")),s(m,"click",AR(_,"<")),M(),rL([m,g],wI,p.id),l(nI,m,g)))}(),o(XL,b)}function b(){w(),x()}function w(){a.destroy(),mL(v,i),r?(dL(f?[m,g]:v),m=g=null):nL([m,g],LI)}function _(e){h.go(e,!0)}function S(e){return hL('<button class="'+u.arrow+" "+(e?u.prev:u.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function M(){var t=e.index,n=h.getPrev(),r=h.getNext(),i=n>-1&&t<n?c.last:c.prev,a=r>-1&&t>r?c.first:c.next;m.disabled=n<0,g.disabled=r<0,rL(m,MI,i),rL(g,MI,a),l(rI,m,g,n,r)}return{arrows:y,mount:x,destroy:w,update:M}},Autoplay:function(e,t,n){var r,i,a=dI(e),o=a.on,s=a.bind,l=a.emit,u=hI(n.interval,e.go.bind(e,">"),(function(e){var t=d.bar;t&&aL(t,"width",100*e+"%"),l(lI,e)})),c=u.isPaused,d=t.Elements,h=t.Elements,f=h.root,p=h.toggle,v=n.autoplay,m="pause"===v;function g(){c()&&t.Slides.isEnough()&&(u.start(!n.resetProgress),i=r=m=!1,b(),l(sI))}function y(e){void 0===e&&(e=!0),m=!!e,b(),c()||(u.pause(),l(uI))}function x(){m||(r||i?y(!1):g())}function b(){p&&(GR(p,qI,!m),rL(p,MI,n.i18n[m?"play":"pause"]))}function w(e){var r=t.Slides.getAt(e);u.set(r&&+lL(r.slide,"data-splide-interval")||n.interval)}return{mount:function(){v&&(!function(){n.pauseOnHover&&s(f,"mouseenter mouseleave",(function(e){r="mouseenter"===e.type,x()}));n.pauseOnFocus&&s(f,"focusin focusout",(function(e){i="focusin"===e.type,x()}));p&&s(p,"click",(function(){m?g():y(!0)}));o([OL,$L,qL],u.rewind),o(OL,w)}(),p&&rL(p,wI,d.track.id),m||g(),b())},destroy:u.cancel,play:g,pause:y,isPaused:c}},Cover:function(e,t,n){var r=dI(e).on;function i(e){t.Slides.forEach((function(t){var n=ZR(t.container||t.slide,"img");n&&n.src&&a(e,n,t)}))}function a(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),oL(t,e?"none":"")}return{mount:function(){n.cover&&(r(cI,AR(a,!0)),r([zL,XL,qL],AR(i,!0)))},destroy:AR(i,!1)}},Scroll:function(e,t,n){var r,i,a=dI(e),o=a.on,s=a.emit,l=e.state.set,u=t.Move,c=u.getPosition,d=u.getLimit,h=u.exceededLimit,f=u.translate,p=e.is(rN),v=1;function m(e,n,a,o,d){var f=c();if(x(),a&&(!p||!h())){var m=t.Layout.sliderSize(),b=PL(e)*m*ML(TL(e)/m)||0;e=u.toPosition(t.Controller.toDest(e%m))+b}var w=EL(f,e,1);v=1,n=w?0:n||SL(TL(e-f)/1.5,800),i=o,r=hI(n,g,AR(y,f,e,d),1),l(5),s($L),r.start()}function g(){l(3),i&&i(),s(eI)}function y(e,t,r,a){var o=c(),s=(e+(t-e)*function(e){var t=n.easingFunc;return t?t(e):1-Math.pow(1-e,4)}(a)-o)*v;f(o+s),p&&!r&&h()&&(v*=.6,TL(s)<10&&m(d(h(!0)),600,!1,i,!0))}function x(){r&&r.cancel()}function b(){r&&!r.isPaused()&&(x(),g())}return{mount:function(){o(OL,x),o([XL,qL],b)},destroy:x,scroll:m,cancel:b}},Drag:function(e,t,n){var r,i,a,o,s,l,u,c,d=dI(e),h=d.on,f=d.emit,p=d.bind,v=d.unbind,m=e.state,g=t.Move,y=t.Scroll,x=t.Controller,b=t.Elements.track,w=t.Media.reduce,_=t.Direction,S=_.resolve,M=_.orient,k=g.getPosition,T=g.exceededLimit,E=!1;function A(){var e=n.drag;U(!e),o="free"===e}function C(e){if(l=!1,!u){var t=F(e);!function(e){var t=n.noDrag;return!YR(e,".splide__pagination__page, ."+UI)&&(!t||!YR(e,t))}(e.target)||!t&&e.button||(x.isBusy()?fL(e,!0):(c=t?b:window,s=m.is([4,5]),a=null,p(c,tN,P,sN),p(c,nN,R,sN),g.cancel(),y.cancel(),I(e)))}}function P(t){if(m.is(6)||(m.set(6),f(ZL)),t.cancelable)if(s){g.translate(r+N(t)/(E&&e.is(rN)?5:1));var i=z(t)>200,a=E!==(E=T());(i||a)&&I(t),l=!0,f(JL),fL(t)}else(function(e){return TL(N(e))>TL(N(e,!0))})(t)&&(s=function(e){var t=n.dragMinThreshold,r=IR(t),i=r&&t.mouse||0,a=(r?t.touch:+t)||10;return TL(N(e))>(F(e)?a:i)}(t),fL(t))}function R(r){m.is(6)&&(m.set(3),f(QL)),s&&(!function(r){var i=function(t){if(e.is(iN)||!E){var n=z(t);if(n&&n<200)return N(t)/n}return 0}(r),a=function(e){return k()+PL(e)*_L(TL(e)*(n.flickPower||600),o?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(i),s=n.rewind&&n.rewindByDrag;w(!1),o?x.scroll(a,0,n.snap):e.is(aN)?x.go(M(PL(i))<0?s?"<":"-":s?">":"+"):e.is(rN)&&E&&s?x.go(T(!0)?">":"<"):x.go(x.toDest(a),!0);w(!0)}(r),fL(r)),v(c,tN,P),v(c,nN,R),s=!1}function L(e){!u&&l&&fL(e,!0)}function I(e){a=i,i=e,r=k()}function N(e,t){return O(e,t)-O(D(e),t)}function z(e){return gL(e)-gL(D(e))}function D(e){return i===e&&a||i}function O(e,t){return(F(e)?e.changedTouches[0]:e)["page"+S(t?"Y":"X")]}function F(e){return"undefined"!==typeof TouchEvent&&e instanceof TouchEvent}function U(e){u=e}return{mount:function(){p(b,tN,PR,sN),p(b,nN,PR,sN),p(b,eN,C,sN),p(b,"click",L,{capture:!0}),p(b,"dragstart",fL),h([zL,XL],A)},disable:U,isDragging:function(){return s}}},Keyboard:function(e,t,n){var r,i,a=dI(e),o=a.on,s=a.bind,l=a.unbind,u=e.root,c=t.Direction.resolve;function d(){var e=n.keyboard;e&&(r="global"===e?window:u,s(r,cN,p))}function h(){l(r,cN)}function f(){var e=i;i=!0,CR((function(){i=e}))}function p(t){if(!i){var n=uN(t);n===c(fI)?e.go("<"):n===c(pI)&&e.go(">")}}return{mount:function(){d(),o(XL,h),o(XL,d),o(OL,f)},destroy:h,disable:function(e){i=e}}},LazyLoad:function(e,t,n){var r=dI(e),i=r.on,a=r.off,o=r.bind,s=r.emit,l="sequential"===n.lazyLoad,u=[FL,eI],c=[];function d(){TR(c),t.Slides.forEach((function(e){vL(e.slide,fN).forEach((function(t){var r=lL(t,dN),i=lL(t,hN);if(r!==t.src||i!==t.srcset){var a=n.classes.spinner,o=t.parentElement,s=ZR(o,"."+a)||iL("span",a,o);c.push([t,e,s]),t.src||oL(t,"none")}}))})),l?v():(a(u),i(u,h),h())}function h(){(c=c.filter((function(t){var r=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,r)||f(t)}))).length||a(u)}function f(e){var t=e[0];WR(e[1].slide,ZI),o(t,"load error",AR(p,e)),rL(t,"src",lL(t,dN)),rL(t,"srcset",lL(t,hN)),nL(t,dN),nL(t,hN)}function p(e,t){var n=e[0],r=e[1];mL(r.slide,ZI),"error"!==t.type&&(dL(e[2]),oL(n,""),s(cI,n,r),s(YL)),l&&v()}function v(){c.length&&f(c.shift())}return{mount:function(){n.lazyLoad&&(d(),i(qL,d))},destroy:AR(TR,c),check:h}},Pagination:function(e,t,n){var r,i,a=dI(e),o=a.on,s=a.emit,l=a.bind,u=t.Slides,c=t.Elements,d=t.Controller,h=d.hasFocus,f=d.getIndex,p=d.go,v=t.Direction.resolve,m=c.pagination,g=[];function y(){r&&(dL(m?ER(r.children):r),mL(r,i),TR(g),r=null),a.destroy()}function x(e){p(">"+e,!0)}function b(e,t){var n=g.length,r=uN(t),i=w(),a=-1;r===v(pI,!1,i)?a=++e%n:r===v(fI,!1,i)?a=(--e+n)%n:"Home"===r?a=0:"End"===r&&(a=n-1);var o=g[a];o&&(sL(o.button),p(">"+a),fL(t,!0))}function w(){return n.paginationDirection||n.direction}function _(e){return g[d.toPage(e)]}function S(){var e=_(f(!0)),t=_(f());if(e){var n=e.button;mL(n,qI),nL(n,SI),rL(n,bI,-1)}if(t){var i=t.button;WR(i,qI),rL(i,SI,!0),rL(i,bI,"")}s(aI,{list:r,items:g},e,t)}return{items:g,mount:function t(){y(),o([XL,qL],t);var a=n.pagination&&u.isEnough();m&&oL(m,a?"":"none"),a&&(o([OL,$L,eI],S),function(){var t=e.length,a=n.classes,o=n.i18n,s=n.perPage,d=h()?t:kL(t/s);WR(r=m||iL("ul",a.pagination,c.track.parentElement),i=HI+"--"+w()),rL(r,xI,"tablist"),rL(r,MI,o.select),rL(r,EI,w()===gI?"vertical":"");for(var f=0;f<d;f++){var p=iL("li",null,r),v=iL("button",{class:a.page,type:"button"},p),y=u.getIn(f).map((function(e){return e.slide.id})),_=!h()&&s>1?o.pageX:o.slideX;l(v,"click",AR(x,f)),n.paginationKeyboard&&l(v,"keydown",AR(b,f)),rL(p,xI,"presentation"),rL(v,xI,"tab"),rL(v,wI,y.join(" ")),rL(v,MI,RL(_,f+1)),rL(v,bI,-1),g.push({li:p,button:v,page:f})}}(),S(),s(iI,{list:r,items:g},_(e.index)))},destroy:y,getAt:_,update:S}},Sync:function(e,t,n){var r=n.isNavigation,i=n.slideFocus,a=[];function o(){e.splides.forEach((function(t){t.isParent||(l(e,t.splide),l(t.splide,e))})),r&&function(){var t=dI(e),n=t.on;n(BL,c),n(WL,d),n([zL,XL],u),a.push(t),t.emit(oI,e.splides)}()}function s(){a.forEach((function(e){e.destroy()})),TR(a)}function l(e,t){var n=dI(e);n.on(OL,(function(e,n,r){t.go(t.is(iN)?r:e)})),a.push(n)}function u(){rL(t.Elements.list,EI,n.direction===gI?"vertical":"")}function c(t){e.go(t.index)}function d(e,t){HR(pN,uN(t))&&(c(e),fL(t))}return{setup:function(){e.options={slideFocus:OR(i)?r:i}},mount:o,destroy:s,remount:function(){s(),o()}}},Wheel:function(e,t,n){var r=dI(e).bind,i=0;function a(r){if(r.cancelable){var a=r.deltaY,o=a<0,s=gL(r),l=n.wheelMinThreshold||0,u=n.wheelSleep||0;TL(a)>l&&s-i>u&&(e.go(o?"<":">"),i=s),function(r){return!n.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(r)}(o)&&fL(r)}}return{mount:function(){n.wheel&&r(t.Elements.track,"wheel",a,sN)}}},Live:function(e,t,n){var r=dI(e).on,i=t.Elements.track,a=n.live&&!n.isNavigation,o=iL("span","splide__sr"),s=hI(90,AR(l,!1));function l(e){rL(i,PI,e),e?(qR(i,o),s.start()):dL(o)}function u(e){a&&rL(i,CI,e?"off":"polite")}return{mount:function(){a&&(u(!t.Autoplay.isPaused()),rL(i,RI,!0),o.textContent="\u2026",r(sI,AR(u,!0)),r(uI,AR(u,!1)),r([FL,eI],AR(l,!0)))},disable:u,destroy:function(){nL(i,[CI,RI,PI]),dL(o)}}}}),mN={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:$I,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function gN(e,t,n){var r=dI(e).on;return{mount:function(){r([zL,qL],(function(){CR((function(){t.Slides.style("transition","opacity "+n.speed+"ms "+n.easing)}))}))},start:function(e,n){var r=t.Elements.track;aL(r,"height",yL(cL(r).height)),CR((function(){n(),aL(r,"height","")}))},cancel:PR}}function yN(e,t,n){var r,i=dI(e).bind,a=t.Move,o=t.Controller,s=t.Scroll,l=t.Elements.list,u=AR(aL,l,"transition");function c(){u(""),s.cancel()}return{mount:function(){i(l,"transitionend",(function(e){e.target===l&&r&&(c(),r())}))},start:function(t,i){var l=a.toPosition(t,!0),c=a.getPosition(),d=function(t){var r=n.rewindSpeed;if(e.is(rN)&&r){var i=o.getIndex(!0),a=o.getEnd();if(0===i&&t>=a||i>=a&&0===t)return r}return n.speed}(t);TL(l-c)>=1&&d>=1?n.useScroll?s.scroll(l,d,!1,i):(u("transform "+d+"ms "+n.easing),a.translate(l,!0),r=i):(a.jump(t),i())},cancel:c}}var xN=function(){function e(t,n){this.event=dI(),this.Components={},this.state=function(e){var t=e;return{set:function(e){t=e},is:function(e){return HR(BR(e),t)}}}(1),this.splides=[],this._o={},this._E={};var r=DR(t)?pL(document,t):t;wL(r,r+" is invalid."),this.root=r,n=eL({label:lL(r,MI)||"",labelledby:lL(r,kI)||""},mN,e.defaults,n||{});try{eL(n,JSON.parse(lL(r,bL)))}catch(i){wL(!1,"Invalid JSON")}this._o=Object.create(eL({},n))}var t,n,r,i=e.prototype;return i.mount=function(e,t){var n=this,r=this.state,i=this.Components;return wL(r.is([1,7]),"Already mounted!"),r.set(1),this._C=i,this._T=t||this._T||(this.is(aN)?gN:yN),this._E=e||this._E,QR($R({},vN,this._E,{Transition:this._T}),(function(e,t){var r=e(n,i,n._o);i[t]=r,r.setup&&r.setup()})),QR(i,(function(e){e.mount&&e.mount()})),this.emit(zL),WR(this.root,"is-initialized"),r.set(3),this.emit(DL),this},i.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},i.go=function(e){return this._C.Controller.go(e),this},i.on=function(e,t){return this.event.on(e,t),this},i.off=function(e){return this.event.off(e),this},i.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(ER(arguments,1))),this},i.add=function(e,t){return this._C.Slides.add(e,t),this},i.remove=function(e){return this._C.Slides.remove(e),this},i.is=function(e){return this._o.type===e},i.refresh=function(){return this.emit(qL),this},i.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?dI(this).on(DL,this.destroy.bind(this,e)):(QR(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(tI),t.destroy(),e&&TR(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&SR(t.prototype,n),r&&SR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),bN=xN;bN.defaults={},bN.STATES=kR;var wN=[[zL,"onMounted"],[DL,"onReady"],[OL,"onMove"],[FL,"onMoved"],[BL,"onClick"],[jL,"onActive"],[HL,"onInactive"],[VL,"onVisible"],[GL,"onHidden"],[qL,"onRefresh"],[XL,"onUpdated"],[YL,"onResize"],[KL,"onResized"],[ZL,"onDrag"],[JL,"onDragging"],[QL,"onDragged"],[$L,"onScroll"],[eI,"onScrolled"],[tI,"onDestroy"],[nI,"onArrowsMounted"],[rI,"onArrowsUpdated"],[iI,"onPaginationMounted"],[aI,"onPaginationUpdated"],[oI,"onNavigationMounted"],[sI,"onAutoplayPlay"],[lI,"onAutoplayPlaying"],[uI,"onAutoplayPause"],[cI,"onLazyLoadLoaded"]];function _N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function SN(e){return null!==e&&"object"===typeof e}function MN(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&!e.some((function(e,n){return!MN(e,t[n])}));if(SN(e)&&SN(t)){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&!n.some((function(n){return!Object.prototype.hasOwnProperty.call(t,n)||!MN(e[n],t[n])}))}return e===t}function kN(e,t){var n=e;return function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if("__proto__"!==i&&!1===t(e[i],i))break}}(t,(function(e,t){Array.isArray(e)?n[t]=e.slice():SN(e)?n[t]=kN(SN(n[t])?n[t]:{},e):n[t]=e})),n}var TN,EN,AN,CN,PN,RN,LN,IN=function(e){var t=e.children,n=e.className,i=Z(e,bR);return r.createElement("div",X({className:_N("splide__track",n)},i),r.createElement("ul",{className:"splide__list"},t))},NN=function(e){le(n,e);var t=ce(n);function n(){var e;return de(this,n),(e=t.apply(this,arguments)).splideRef=r.createRef(),e.slides=[],e}return fe(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,n=e.extensions,r=e.transition,i=this.splideRef.current;i&&(this.splide=new bN(i,t),this.bind(this.splide),this.splide.mount(n,r),this.options=kN({},t||{}),this.slides=this.getSlides())}},{key:"componentWillUnmount",value:function(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}},{key:"componentDidUpdate",value:function(){if(this.splide){var e=this.props.options;e&&!MN(this.options,e)&&(this.splide.options=e,this.options=kN({},e));var t,n,r=this.getSlides();t=this.slides,n=r,(t.length!==n.length||t.some((function(e,t){return e!==n[t]})))&&(this.splide.refresh(),this.slides=r)}}},{key:"sync",value:function(e){var t;null==(t=this.splide)||t.sync(e)}},{key:"go",value:function(e){var t;null==(t=this.splide)||t.go(e)}},{key:"getSlides",value:function(){var e;if(this.splide){var t=null==(e=this.splide.Components.Elements)?void 0:e.list.children;return t&&Array.prototype.slice.call(t)||[]}return[]}},{key:"bind",value:function(e){var t=this;wN.forEach((function(n){var r=u(n,2),i=r[0],a=r[1],o=t.props[a];"function"===typeof o&&e.on(i,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.apply(void 0,[e].concat(n))}))}))}},{key:"omit",value:function(e,t){return t.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]})),e}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.tag,i=void 0===n?"div":n,a=e.hasTrack,o=void 0===a||a,s=e.children,l=Z(e,wR);return r.createElement(i,X({className:_N("splide",t),ref:this.splideRef},this.omit(l,["options"].concat(K(wN.map((function(e){return e[1]})))))),o?r.createElement(IN,null,s):s)}}]),n}(r.Component),zN=function(e){var t=e.children,n=e.className,i=Z(e,_R);return r.createElement("li",X({className:_N("splide__slide",n)},i),t)},DN=iA(pR)(TN||(TN=vT(["\n  width: 100%;\n  height: 485px;\n  overflow-x: hidden;\n  margin: 0 auto 35px auto;\n"]))),ON=iA.img(EN||(EN=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  overflow-x: hidden;\n"]))),FN=function(){return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsxs)(NN,{"aria-label":"My Favorite Images",options:{rewind:!0,arrows:!1,width:190,gap:"10px",perMove:1},children:[(0,hA.jsx)(zN,{children:(0,hA.jsx)(DN,{children:(0,hA.jsx)(ON,{src:"/assets/\ud22c\ub450\uc717/\ud22c\ub450\uc7171.png",alt:""})})}),(0,hA.jsx)(zN,{children:(0,hA.jsx)(DN,{children:(0,hA.jsx)(ON,{src:"/assets/\ud22c\ub450\uc717/\ud22c\ub450\uc7172.png",alt:""})})}),(0,hA.jsx)(zN,{children:(0,hA.jsx)(DN,{children:(0,hA.jsx)(ON,{src:"/assets/\ud22c\ub450\uc717/\ud22c\ub450\uc7173.png",alt:""})})}),(0,hA.jsx)(zN,{children:(0,hA.jsx)(DN,{children:(0,hA.jsx)(ON,{src:"/assets/\ud22c\ub450\uc717/\ud22c\ub450\uc7174.png",alt:""})})}),(0,hA.jsx)(zN,{children:(0,hA.jsx)(DN,{children:(0,hA.jsx)(ON,{src:"/assets/\ud22c\ub450\uc717/\ud22c\ub450\uc7175.png",alt:""})})}),(0,hA.jsx)(zN,{children:(0,hA.jsx)(DN,{children:(0,hA.jsx)(ON,{src:"/assets/\ud22c\ub450\uc717/\ud22c\ub450\uc7176.png",alt:""})})})]})})},UN=iA.div(AN||(AN=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),BN=iA.div(CN||(CN=vT(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 800px;\n  height: 800px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-image: url("/assets/\uc885\uc774 \uc555\ucd95.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n']))),jN=iA.img(PN||(PN=vT(["\n  width: 50px;\n  height: 50px;\n  top: 55px;\n  right: 50px;\n  position: absolute;\n  cursor: pointer;\n"]))),HN=function(){var e=u(Rl(aA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.todowithModal&&(0,hA.jsx)(UN,{onClick:function(){var e=setTimeout((function(){n(X(X({},t),{},{todowithModal:!1})),clearTimeout(e)}),200)},children:(0,hA.jsxs)(BN,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(jN,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){var e=setTimeout((function(){n(X(X({},t),{},{todowithModal:!1})),clearTimeout(e)}),200)}}),(0,hA.jsx)(mR,{children:(0,hA.jsx)(hR,{children:"TODOWITH (\ud22c\ub450\uc717)"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto",children:(0,hA.jsx)(dR,{size:15,color:"#4F4F4F",children:"2022.06 ~ 2022.08 \ud611\uc5c5 \ud504\ub85c\uc81d\ud2b8(FE 2\uba85, BE 3\uba85, \ub514\uc790\uc774\ub108 2\uba85)"})}),(0,hA.jsxs)(vR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"left photo",width:190,height:520,margin:"0 0 0 auto",children:(0,hA.jsx)(FN,{})}),(0,hA.jsx)(fR,{className:"right text",width:475,height:480,margin:"0 auto 40px 10px",isAlignSide:!0,isContentSide:!0,children:(0,hA.jsx)(WN,{})})]}),(0,hA.jsxs)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15,children:[(0,hA.jsx)(xR,{className:"readme btn",width:170,onClick:function(){return window.open("https://www.notion.so/Shim-A-Young-1dc0c70d78764f309d9829499d4bb53c#6ef578200aad4d73a0939e85d40cdf32","_blank")},children:"\ud83d\udc49 \uc0c1\uc138 Readme \ubcf4\uae30"}),(0,hA.jsx)(xR,{className:"link btn",width:170,onClick:function(){return window.open("https://todowith.co.kr","_blank")},children:"\ud83d\udc49 \uc11c\ube44\uc2a4 \ub9c1\ud06c"}),(0,hA.jsx)(xR,{className:"github btn",width:170,onClick:function(){return window.open("https://github.com/HanghaeE5/Front-end","_blank")},children:"\ud83d\udc49 GitHub \ubcf4\ub7ec\uac00\uae30"})]})]})})})},VN=iA(dR)(RN||(RN=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 13px;\n  text-indent: -13px;\n  line-height: 23px;\n  margin-bottom: 3px;\n  margin: ",";\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    color: #ff007a;\n  }\n"])),(function(e){return e.margin})),GN=iA(dR)(LN||(LN=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 25px;\n  text-indent: -13px;\n  line-height: 18px;\n  margin-bottom: 2px;\n  font-size: 14px;\n  margin: ",";\n  & > span:nth-of-type(1) {\n    font-size: 14px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"])),(function(e){return e.margin})),WN=function(){return(0,hA.jsxs)(fR,{isAlignSide:!0,isContentSide:!0,style:{overflowY:"scroll"},children:[(0,hA.jsx)(VN,{children:"- Todo\ub97c \uc644\ub8cc\ud558\uba70 \uce90\ub9ad\ud130\uc640 \uac19\uc774 \uc131\uc7a5\ud558\ub294 \ubc18\uc751\ud615 \uc6f9\uc571"}),(0,hA.jsxs)(VN,{children:["- \ubd80\ud2b8\ucea0\ud504 \ud56d\ud57499 7\uae30 39\uac1c \ud300 \uc911 ",(0,hA.jsx)("span",{children:"1\uc704 \ucd5c\uc6b0\uc218 \ud504\ub85c\uc81d\ud2b8 \uc218\uc0c1"})]}),(0,hA.jsxs)(VN,{children:["- \ubc30\ud3ec 8\uc77c\uac04 \ubc29\ubb38\uc720\uc800 500\uba85, \uc2e4\uc720\uc800 200\uba85, \uc720\uc800 TODO 3000\uac1c,",(0,hA.jsx)("span",{children:" \uc720\uc800\ud14c\uc2a4\ud2b8 53\uac1c \ub2ec\uc131"})]}),(0,hA.jsxs)(VN,{children:["- UT\ub97c \ubc18\uc601\ud55c UI \uac1c\uc120 \ud6c4 \uc11c\ube44\uc2a4 \ub9cc\uc871\ub3c4(6\uc810 \ub9cc\uc810 \uc911 4.9\uc810)\uc640 \uac00\uc785 \uc720\uc800\uc218 \uc0c1\uc2b9 ",(0,hA.jsx)("a",{className:"linktag",href:"https://www.notion.so/TODOWITH-e2c94553e7c245ef8d411b9aa4a752b3#46c5abd15b434de9ba5e38fd4345068c",target:"_blank",children:"\ud83d\udc49 UT \ucd94\uac00&\uac1c\uc120 \uae30\ub2a5 \ubcf4\uae30"})]}),(0,hA.jsxs)(VN,{margin:"10px 0 0 0",children:["- \uc8fc\uc694 \uae30\uc220 : React, Typescript, PWA, SockJs, StompJS, React Query, Recoil, Github Actions, AWS, CloudFront\n        ",(0,hA.jsx)("a",{className:"linktag",href:"https://www.notion.so/TODOWITH-e2c94553e7c245ef8d411b9aa4a752b3#1aff2c7659684ba285ca2e2b3b742c12",target:"_blank",children:"\ud83d\udc49 \uae30\uc220\uc801 \uc758\uc0ac\uacb0\uc815 (\ub178\uc158)"})]}),(0,hA.jsx)(VN,{margin:"10px 0 3px 0",children:"- \uc758\uc758"}),(0,hA.jsxs)(GN,{children:["\u25fe \uccab \ud504\ub85c\uc81d\ud2b8\ub85c \uc2dc\uc791\uc740 \ubbf8\ubbf8\ud588\uc73c\ub098, 1\uc8fc\uc77c 112\uc2dc\uac04\uc5d0 \uac00\uae4c\uc6b4 \ubab0\uc785\uc744 \ud1b5\ud574 ",(0,hA.jsx)("span",{children:"\uac00\ud30c\ub978 \ub7ec\ub2dd\ucee4\ube0c"}),"\ub85c 39\uac1c\ud300 \uc911 1\uc704\ub85c \ub05d\ub9c8\uce5c \ud504\ub85c\uc81d\ud2b8"]}),(0,hA.jsx)(GN,{margin:"2px 0 0 0",children:"\u25fe \ud504\ub860\ud2b8 \ub9ac\ub354\ub85c\uc11c \ub514\uc790\uc774\ub108\uc640 \ubc31\uc5d4\ub4dc \uc18c\ud1b5 \ub2f4\ub2f9. \ud504\ub860\ud2b8 \ucf54\ub4dc\uc758 75% \uc791\uc131 (CICD/\uc11c\ubc84\uc124\uc815, Interceptors \ub85c\uc9c1, \ub85c\uadf8\uc778/\ud68c\uc6d0\uac00\uc785/\uc628\ubcf4\ub529, \uba54\uc778\ud398\uc774\uc9c0, \ucc44\ud305, \uce5c\uad6c\ubaa9\ub85d/\uce5c\uad6c\ud398\uc774\uc9c0, \uc54c\ub9bc)\n"}),(0,hA.jsxs)(GN,{margin:"2px 0 0 0",children:["\u25fe"," ",(0,hA.jsx)("span",{children:"UI/UX \uc5d0 \ub525\ub2e4\uc774\ube0c"}),"\ud55c \ud504\ub860\ud2b8\uc5d4\ub4dc \uac1c\ubc1c\uc790\uac00 \ub418\uaca0\ub2e4\ub294 \ubaa9\ud45c\ub97c \uc138\uc6b0\uac8c \ub428"]}),(0,hA.jsxs)(VN,{margin:"10px 0 3px 0",children:["- \ud2b8\ub7ec\ube14\uc288\ud305",(0,hA.jsx)("a",{className:"linktag",href:"https://github.com/HanghaeE5/Front-end/wiki",target:"_blank",children:"\ud83d\udc49 \uc0c1\uc138\ud55c \ud2b8\ub7ec\ube14\uc288\ud305 \ubcf4\ub7ec\uac00\uae30 (\uae43\ud5c8\ube0c \uc704\ud0a4)"})]}),(0,hA.jsxs)(GN,{children:["\u25fe \ub9c8\uc6b4\ud2b8 \uc18d\ub3c4, \ub9ac\ub80c\ub354\ub9c1 \ucd5c\uc801\ud654\n        : \ucf54\ub4dc \ub9ac\ud399\ud1a0\ub9c1(useState, useRecoilState \uac1d\uccb4\ud654. API \ud6c4\ucc98\ub9ac, onClick \uacf5\ud1b5\ub85c\uc9c1 \uc0dd\uc131. gif \uc6a9\ub7c9 \uac10\uc18c \ub4f1) "," ",(0,hA.jsx)("span",{children:"\u2192 \ub85c\ub4dc\ud0c0\uc784 38% \ud5a5\uc0c1, LightHouse \ud14c\uc2a4\ud2b8 \uc131\ub2a5 43\uc810, \uc811\uadfc\uc131 26\uc810 \ud5a5\uc0c1"})]}),(0,hA.jsx)(GN,{margin:"2px 0 0 0",children:"\u25fe \uce94\ubc84\uc2a4 \ud568\uc218 \ube0c\ub77c\uc6b0\uc800 \ud638\ud658\uc131 \ubb38\uc81c\n      : \ubaa8\ubc14\uc77c \ub85c\uceec \ud658\uacbd\uc5d0\uc11c navigator.userAgent\ub85c \uc548\ub4dc\ub85c\uc774\ub4dc \ube0c\ub77c\uc6b0\uc800 \uc885\ub958 \ud30c\uc545 \u2192  \ube0c\ub77c\uc6b0\uc800\ub9c8\ub2e4 \ub2e4\ub978 \ubb38\uc790\uc5f4\uc744 \uc774\uc6a9\ud558\uc5ec \ubb38\uc81c \ube0c\ub77c\uc6b0\uc800 \ucc28\ub2e8\n"}),(0,hA.jsx)(GN,{margin:"2px 0 0 0",children:"\u25fe \uce90\ub9ad\ud130 \uc120\ud0dd API\uc640 \uc720\uc800\ub370\uc774\ud130 API \ucda9\ub3cc : cancelquery \uba85\ub839\uc73c\ub85c \ube44\ub3d9\uae30\ub85c \uc2e4\ud589\ub418\ub358 \uc720\uc800 \ub370\uc774\ud130 API \ucde8\uc18c"}),(0,hA.jsx)(VN,{margin:"10px 0 3px 0",children:"- \uc8fc\uc694 \uae30\ub2a5"}),(0,hA.jsx)(GN,{children:"\u25fe \ud3b8\uc758\uc131 : \ubc18\uc751\ud615, PWA, \uc54c\ub9bc \uae30\ub2a5"}),(0,hA.jsx)(GN,{margin:"2px 0 0 0",children:"\u25fe \ud398\uc774\uc9c0 : TODO \uc791\uc131/\uc644\ub8cc/\uc0ad\uc81c, TODO\uc644\ub8cc\uc5d0 \ub530\ub978 \uce90\ub9ad\ud130 \ub808\ubca8\uc5c5/\uc2a4\ud15d\uc5c5,\n1:1/\ub2e8\uccb4\ucc44\ud305, \uce5c\uad6c\uc694\uccad/\uc218\ub77d/\uac70\uc808/\uc0ad\uc81c, \uce5c\uad6c\ud398\uc774\uc9c0, \ub79c\ub364\uc774\ubca4\ud2b8, \ucee4\ubba4\ub2c8\ud2f0\n"}),(0,hA.jsx)(GN,{margin:"2px 0 0 0",children:"\u25fe \uc778\ud504\ub77c : HTTPS \ubc30\ud3ec \ubc0f CI/CD \uad6c\ucd95 CloudFront + Gihub Action + S3"})]})};function qN(e){var t=u((0,r.useState)(!1),2),n=t[0],i=(t[1],u(Rl(aA),2)),a=i[0],o=i[1],s=u(Rl(sA),2),l=s[0],c=s[1],d=u(Rl(lA),2),h=d[0],f=d[1],p=UM(rC,"/assets/textures/\uc6b0\ud0d01.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)(QP,{enabled:n,children:(0,hA.jsxs)("mesh",{position:[11.5,1.6,-6.6],rotation:[0,Math.PI/1.3,0],onClick:function(){f(X(X({},h),{},{utMemory:!0}));var e=setTimeout((function(){o(X(X({},a),{},{utModal:!0}));var t=setTimeout((function(){c(X(X({},l),{},{projectUt:!0,projectModal:!0})),clearTimeout(t)}),200);clearTimeout(e)}),200)},children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[6,2.7,.5]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:p,color:n?"#ffb1dc":"white"})]})})})}var XN=r.memo(qN);function YN(e){var t=u((0,r.useState)(!1),2),n=t[0],i=t[1],a=u(Rl(aA),2),o=a[0],s=a[1],l=u(Rl(sA),2),c=l[0],d=l[1],h=u(Rl(lA),2),f=h[0],p=h[1],v=UM(rC,"/assets/textures/\ube0c\ub9bf\uc9c0\uac8c\uc7841.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)(QP,{enabled:n,children:(0,hA.jsxs)("mesh",{position:[11.2,-1.6,-6.35],rotation:[0,Math.PI/1.3,0],onClick:function(){p(X(X({},f),{},{sgMemory:!0}));var e=setTimeout((function(){s(X(X({},o),{},{sgModal:!0}));var t=setTimeout((function(){d(X(X({},c),{},{projectSg:!0,projectModal:!0})),clearTimeout(t)}),200);clearTimeout(e)}),200)},onPointerOver:function(){return i(!0)},onPointerOut:function(){return i(!1)},children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[6,2.7,.5]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:v,color:n?"#ffb1dc":"white"})]})})})}var KN,ZN,JN,QN,$N,ez,tz,nz,rz,iz,az,oz,sz,lz,uz,cz,dz,hz,fz,pz,vz,mz,gz,yz,xz,bz,wz,_z,Sz,Mz,kz,Tz,Ez,Az,Cz,Pz,Rz,Lz,Iz,Nz,zz,Dz,Oz,Fz,Uz,Bz,jz,Hz,Vz=r.memo(YN),Gz=iA.div(KN||(KN=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),Wz=iA.div(ZN||(ZN=vT(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 800px;\n  height: 800px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-image: url("/assets/\uc885\uc774 \uc555\ucd95.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n']))),qz=iA.img(JN||(JN=vT(["\n  width: 50px;\n  height: 50px;\n  top: 55px;\n  right: 50px;\n  position: absolute;\n  cursor: pointer;\n"]))),Xz=function(){var e=u(Rl(aA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.sgModal&&(0,hA.jsx)(Gz,{onClick:function(){var e=setTimeout((function(){n(X(X({},t),{},{sgModal:!1})),clearTimeout(e)}),200)},children:(0,hA.jsxs)(Wz,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(qz,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){var e=setTimeout((function(){n(X(X({},t),{},{sgModal:!1})),clearTimeout(e)}),200)}}),(0,hA.jsx)(mR,{children:(0,hA.jsx)(hR,{children:"\ube0c\ub9bf\uc9c0 \uac8c\uc784"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto",children:(0,hA.jsx)(dR,{size:15,color:"#4F4F4F",children:"2022.08 \ud074\ub860 \ucf54\ub529"})}),(0,hA.jsxs)(pR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"video",width:550,height:200,margin:"20px auto 0 auto",children:(0,hA.jsx)("video",{controls:!0,style:{width:"550px"},children:(0,hA.jsx)("source",{src:"/assets/\ube0c\ub9bf\uc9c0\uac8c\uc784/\ube0c\ub9bf\uc9c0\uac8c\uc784.mp4"})})}),(0,hA.jsx)(fR,{className:"right text",width:650,height:230,margin:"50px auto 20px auto",isAlignSide:!0,isContentSide:!0,children:(0,hA.jsx)(Zz,{})})]}),(0,hA.jsxs)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15,children:[(0,hA.jsx)(xR,{className:"link btn",width:170,onClick:function(){return window.open("https://ccimayoung.github.io/bridgegame/","_blank")},children:"\ud83d\udc49 \uc11c\ube44\uc2a4 \ub9c1\ud06c"}),(0,hA.jsx)(xR,{className:"github btn",width:170,onClick:function(){return window.open("https://github.com/ccimayoung/bridgegame","_blank")},children:"\ud83d\udc49 GitHub \ubcf4\ub7ec\uac00\uae30"})]})]})})})},Yz=iA(dR)(QN||(QN=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 13px;\n  text-indent: -13px;\n  line-height: 23px;\n  margin-bottom: 3px;\n  margin: ",";\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    color: #ff007a;\n  }\n"])),(function(e){return e.margin})),Kz=iA(dR)($N||($N=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 25px;\n  text-indent: -13px;\n  line-height: 18px;\n  margin-bottom: 2px;\n  font-size: 14px;\n  margin: ",";\n  & > span:nth-of-type(1) {\n    font-size: 14px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"])),(function(e){return e.margin})),Zz=function(){return(0,hA.jsxs)(fR,{isAlignSide:!0,isContentSide:!0,style:{overflowY:"scroll"},children:[(0,hA.jsx)(Yz,{children:"- \uac15\ud654\uc720\ub9ac\uc640 \uc77c\ubc18\uc720\ub9ac\uac00 \ub79c\ub364\uc73c\ub85c \uc0dd\uc131\ub418\ub294 \ub2e4\ub9ac\ub97c \ub05d\uae4c\uc9c0 \uac74\ub108\ub294 \uac8c\uc784\n        (\uccb4\ud5d8\uc744 \uc704\ud574 \uac15\ud654\uc720\ub9ac\uc640 \uc77c\ubc18\uc720\ub9ac\uc758 \ud22c\uba85\ub3c4\uc5d0 \uc57d\uac04\uc758 \ucc28\uc774\ub97c \uc124\uc815\ud588\uc2b5\ub2c8\ub2e4\ud83d\ude42)"}),(0,hA.jsx)(Yz,{children:"- three.js, cannon.js, Blender, \ubc14\ub2d0\ub77cJS\ub97c \uc774\uc6a9\ud55c \uc624\uc9d5\uc5b4\uac8c\uc784 \ub2e4\ub9ac\uac74\ub108\uae30 \ud074\ub860 \ucf54\ub529"}),(0,hA.jsx)(Yz,{children:"- raycaster\ub97c \uc774\uc6a9\ud558\uc5ec \ud074\ub9ad\ud55c \uc720\ub9ac\ub85c \uce90\ub9ad\ud130\uac00 \uc774\ub3d9.\n        \uac15\ud654\uc720\ub9ac\uc758 \uacbd\uc6b0 \uc131\uacf5\uc774\uc9c0\ub9cc, \uc77c\ubc18\uc720\ub9ac\uc758 \uacbd\uc6b0 \ucd94\ub77d\ud558\uace0 \ub2e4\ub9ac \uc870\uba85\uc774 \uaebc\uc9c0\uba70 \uac8c\uc784 \uc885\ub8cc"}),(0,hA.jsx)(Yz,{margin:"10px 0 3px 0",children:"- \uc758\uc758"}),(0,hA.jsx)(Kz,{children:"\u25fe cannon.js \ubb3c\ub9ac\uc5d4\uc9c4\uc744 \ucc98\uc74c\uc73c\ub85c \ub3c4\uc785. \uc9c8\ub7c9, \uc911\ub825, \ub9c8\ucc30\ub825, \ubc18\ubc1c\ub825, \ucda9\ub3cc\uc5d0 \ub300\ud574 \ubc30\uc6c0 "}),(0,hA.jsx)(Kz,{margin:"2px 0 0 0",children:"\u25fe blender\uc5d0\uc11c \uce90\ub9ad\ud130\uc640 \uc560\ub2c8\uba54\uc774\uc158\uc744 \ub9cc\ub4dc\ub294 \ubc29\ubc95\uc744 \uacf5\ubd80\ud558\uace0, \uc9c1\uc811 \ub9cc\ub4e0 \uce90\ub9ad\ud130\ub97c \ud65c\uc6a9\ud568 "}),(0,hA.jsx)(Kz,{margin:"2px 0 0 0",children:"\u25fe \ubc14\ub2d0\ub77cJS\uc5d0\uc11c three.js\uc758 mesh, scene, light \ub4f1\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \ub428 "}),(0,hA.jsxs)(Kz,{margin:"2px 0 0 0",children:["\u25fe"," ",(0,hA.jsx)("span",{children:"\ub2e4\uc591\ud55c \uc778\ud130\ub809\ud2f0\ube0c"}),"\ub97c \ud65c\uc6a9\ud55c \ud504\ub860\ud2b8\uc5d4\ub4dc \uac1c\ubc1c\uc790\uac00 \ub418\uaca0\ub2e4\ub294 \ubaa9\ud45c\ub97c \uc138\uc6b0\uac8c \ub428"]}),(0,hA.jsx)(Yz,{margin:"10px 0 3px 0",children:"- \uc8fc\uc694 \uae30\ub2a5"}),(0,hA.jsx)(Kz,{children:"\u25fe \uce90\ub9ad\ud130 : blender\ub97c \uc774\uc6a9\ud574 \uc0dd\uc131. \uc560\ub2c8\uba54\uc774\uc158\uc740 \uc0c1\ud669 \ubcc4 3\uac1c\ub85c \uad6c\uc131 (\uae30\ubcf8\ub3d9\uc791, \uc810\ud504, \ucd94\ub77d \ud6c4)"}),(0,hA.jsxs)(Kz,{margin:"2px 0 0 0",children:["\u25fe \ud074\ub9ad \ubc29\uc2dd : raycaster \ub97c \uc774\uc6a9\ud558\uc5ec \uc720\ub9ac \uac10\uc9c0.",(0,hA.jsx)("span",{children:" \ub4dc\ub798\uadf8 \ud074\ub9ad \ubc29\uc9c0 \ubaa8\ub4c8"}),"\ub85c \uc77c\uc815 \ubc94\uc704\uc640 \uc2dc\uac04\uc744 \ucd08\uacfc\ud558\ub294 \ub4dc\ub798\uadf8 \ubc1c\uc0dd \uc2dc raycaster \uc2e4\ud589 \ubc29\uc9c0"]}),(0,hA.jsx)(Kz,{margin:"2px 0 0 0",children:"\u25fe \ubb3c\ub9ac\uc5d4\uc9c4 : cannonworld\ub97c \uc0dd\uc131\ud558\uace0 \ubb3c\uccb4 \ucda9\ub3cc \uc0c1\ud669\uc5d0 \ub530\ub978 \ub9c8\ucc30\ub825, \ubc18\ubc1c\ub825 \uc124\uc815 "}),(0,hA.jsx)(Kz,{margin:"2px 0 0 0",children:"\u25fe \uc9c8\ub7c9 : \uac15\ud654\uc720\ub9ac \uc9c8\ub7c9 100, \uc77c\ubc18\uc720\ub9ac \uc9c8\ub7c9 1, \uce90\ub9ad\ud130\uc758 \uc9c8\ub7c9 30\uc73c\ub85c \uc124\uc815. \uc77c\ubc18\uc720\ub9ac\ub294 \uae68\uc9c0\ub294 \ubb3c\ub9ac\uc5d4\uc9c4 \uc801\uc6a9"}),(0,hA.jsx)(Kz,{margin:"2px 0 0 0",children:"\u25fe \uce74\uba54\ub77c : 2\uac00\uc9c0 \uac01\ub3c4\ub85c \uc124\uc815\ud558\uc5ec \ucd94\ub77d \uc2dc \uce74\uba54\ub77c \uc704\uce58\ub97c \ubcc0\ub3d9\uc2dc\ucf1c \ub9ac\ud50c\ub808\uc774\ub85c \ubcf4\uc5ec\uc90c"})]})},Jz=iA(pR)(ez||(ez=vT(["\n  width: 100%;\n  height: 240px;\n  overflow-x: hidden;\n  margin: 10px auto 30px auto;\n"]))),Qz=iA.img(tz||(tz=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  overflow-x: hidden;\n"]))),$z=function(){return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsxs)(NN,{"aria-label":"My Favorite Images",options:{rewind:!0,arrows:!1,width:550,gap:"10px",perMove:1},children:[(0,hA.jsx)(zN,{children:(0,hA.jsx)(Jz,{children:(0,hA.jsx)(Qz,{src:"/assets/\ud0d0\ud5d8\uc77c\uae30/\uc6b0\ud0d01.png",alt:"\uc6b0\ud0d01"})})}),(0,hA.jsx)(zN,{children:(0,hA.jsx)(Jz,{children:(0,hA.jsx)(Qz,{src:"/assets/\ud0d0\ud5d8\uc77c\uae30/\uc6b0\ud0d02.png",alt:"\uc6b0\ud0d02"})})})]})})},eD=iA.div(nz||(nz=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),tD=iA.div(rz||(rz=vT(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 800px;\n  height: 800px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-image: url("/assets/\uc885\uc774 \uc555\ucd95.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n']))),nD=iA.img(iz||(iz=vT(["\n  width: 50px;\n  height: 50px;\n  top: 55px;\n  right: 50px;\n  position: absolute;\n  cursor: pointer;\n"]))),rD=function(){var e=u(Rl(aA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.utModal&&(0,hA.jsx)(eD,{onClick:function(){var e=setTimeout((function(){n(X(X({},t),{},{utModal:!1})),clearTimeout(e)}),200)},children:(0,hA.jsxs)(tD,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(nD,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){var e=setTimeout((function(){n(X(X({},t),{},{utModal:!1})),clearTimeout(e)}),200)}}),(0,hA.jsx)(mR,{children:(0,hA.jsx)(hR,{children:"\uc6b0\ub2f9\ud0d5\ud0d5 \ud0d0\ud5d8\uc77c\uae30"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto",children:(0,hA.jsx)(dR,{size:15,color:"#4F4F4F",children:"2022.09 1\uc778 \uac1c\uc778 \ud504\ub85c\uc81d\ud2b8"})}),(0,hA.jsxs)(pR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"video",width:550,height:200,margin:"20px auto 0 auto",children:(0,hA.jsx)($z,{})}),(0,hA.jsx)(fR,{className:"right text",width:650,height:230,margin:"50px auto 20px auto",isAlignSide:!0,isContentSide:!0,children:(0,hA.jsx)(oD,{})})]}),(0,hA.jsxs)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15,children:[(0,hA.jsx)(xR,{className:"github btn",width:170,onClick:function(){return window.open("https://github.com/ccimayoung/portpro","_blank")},children:"\ud83d\udc49 GitHub \ubcf4\ub7ec\uac00\uae30"}),(0,hA.jsx)(xR,{className:"github btn",width:170,onClick:function(){return window.open("https://www.figma.com/file/VatAYk9Dyzgtxw1Ci7nbcg/%EC%9A%B0%EB%8B%B9%ED%83%95%ED%83%95-%ED%83%90%ED%97%98%EC%9D%BC%EA%B8%B0?node-id=0%3A1","_blank")},children:"\ud83d\udc49 Figma \ubcf4\ub7ec\uac00\uae30"})]})]})})})},iD=iA(dR)(az||(az=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 13px;\n  text-indent: -13px;\n  line-height: 23px;\n  margin-bottom: 3px;\n  margin: ",";\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    color: #ff007a;\n  }\n"])),(function(e){return e.margin})),aD=iA(dR)(oz||(oz=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 25px;\n  text-indent: -13px;\n  line-height: 18px;\n  margin-bottom: 2px;\n  font-size: 14px;\n  margin: ",";\n  & > span:nth-of-type(1) {\n    font-size: 14px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"])),(function(e){return e.margin})),oD=function(){return(0,hA.jsxs)(fR,{isAlignSide:!0,isContentSide:!0,style:{overflowY:"scroll"},children:[(0,hA.jsx)(iD,{children:"- \uae30\uc5b5\uc744 \uc783\uc740 \uc2ec\uc544\uc601\uc528\uac00 \ud018\uc2a4\ud2b8\ub97c \uc218\ud589\ud558\uace0 \ud0d0\ud5d8\ud558\uba70 \uae30\uc5b5\uc744 \ucc3e\uc544\uac00\ub294 \uac8c\uc784 "}),(0,hA.jsxs)(iD,{children:["- three.js, react-three/fiber, Blender, React\ub97c \uc774\uc6a9\ud55c ",(0,hA.jsx)("span",{children:"\uc6f9 \uac8c\uc784 \ud615\uc2dd \ud3ec\ud2b8\ud3f4\ub9ac\uc624"})]}),(0,hA.jsx)(iD,{margin:"10px 0 3px 0",children:"- \uc758\uc758"}),(0,hA.jsxs)(aD,{children:["\u25fe "," ",(0,hA.jsx)("span",{children:"\uc0b4\uc544\uc788\ub294 \uc11c\ube44\uc2a4"}),"\ub97c \ub9cc\ub4e4\uae30 \uc704\ud574 three.js\ub97c \ub3c5\ud559\ud558\uace0 \ub9cc\ub4e0 \uccab \ud504\ub85c\uc81d\ud2b8 "]}),(0,hA.jsxs)(aD,{children:["\u25fe \ubc14\ub2d0\ub77c JS\ub85c \uacf5\ubd80\ud588\ub358 three.js\ub97c"," ",(0,hA.jsx)("span",{children:"\ub9ac\uc561\ud2b8\uc640 react-three/fiber"}),"\ub85c \uad6c\ud604\ud560 \uc218 \uc788\uac8c \ub428"]}),(0,hA.jsx)(aD,{margin:"2px 0 0 0",children:"\u25fe \uc2a4\ud1a0\ub9ac\ub97c \uad6c\uc0c1\ud558\uba70 \uac8c\uc784 \ud615\uc2dd\uc73c\ub85c \uc7ac\ubc0c\uac8c \ub9cc\ub4e0 \ud3ec\ud2b8\ud3f4\ub9ac\uc624"}),(0,hA.jsx)(iD,{margin:"10px 0 3px 0",children:"- \uc8fc\uc694 \uae30\ub2a5"}),(0,hA.jsx)(aD,{children:"\u25fe \uc815\uae00 \ub9f5 : PointerLockControls + keyController \uc0ac\uc6a9. \ub9c8\uc778\ud06c\ub798\ud504\ud2b8 \ub290\ub08c\uc758 \uce90\ub9ad\ud130 \uc774\ub3d9, \uc2dc\uc810 \uc774\ub3d9 \ubc29\uc2dd"}),(0,hA.jsx)(aD,{children:"\u25fe \uc2e4\ub0b4 \ub9f5 : OrbitControls \uc0ac\uc6a9. \ub9c8\uc6b0\uc2a4 \uc2dc\uc810 \uc774\ub3d9 \ubc29\uc2dd"}),(0,hA.jsx)(aD,{margin:"2px 0 0 0",children:"\u25fe Particle : \uad6c\uc758 attributes.position.array \ub97c \uc774\uc6a9\ud55c \uc774\ubbf8\uc9c0 Particle \uad6c\ud604"}),(0,hA.jsx)(aD,{margin:"2px 0 0 0",children:"\u25fe \uace0\uc591\uc774 position : \uace0\uc591\uc774 \ud018\uc2a4\ud2b8 \uc644\ub8cc \uc2dc \uace0\uc591\uc774 mesh\uac00 \ud50c\ub808\uc774\uc5b4 mesh \uc704\uce58\ub97c \ub530\ub77c\uac00\uac8c \uc124\uc815"}),(0,hA.jsxs)(aD,{margin:"2px 0 0 0",children:["\u25fe \uc9c0\ub3c4 : "," ",(0,hA.jsx)("span",{children:"\uce90\ub9ad\ud130\uc758 3d x,z \uc704\uce58\ub97c 2d\ub85c \ubcc0\ud658"}),"\ud558\uc5ec \uc9c0\ub3c4\uc5d0 \ud45c\uc2dc"]}),(0,hA.jsx)(aD,{margin:"2px 0 0 0",children:"\u25fe \ud3ec\ud2b8\ud3f4\ub9ac\uc624 : \ud018\uc2a4\ud2b8 \uc644\uc131\ub3c4\uc5d0 \ub530\ub77c \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ubaa8\ub2ec\uc774 \uc810\ucc28 \uc644\uc131\ub428"}),(0,hA.jsx)(aD,{margin:"2px 0 0 0",children:"\u25fe \uac00\ubc29 : \uc544\uc774\ud15c \uc2b5\ub4dd \uc2dc \uac00\ubc29\uc5d0 \ub123\uc74c"})]})},sD=n.p+"static/media/skills1.0e299324af8ea208990d.png",lD=n.p+"static/media/skills2.03a3f8c0f89747279b8e.png",uD=WE(sz||(sz=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),cD=iA.div(lz||(lz=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),dD=iA.div(uz||(uz=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 845px;\n  height: 830px;\n  animation: ",' 0.6s ease;\n  background-image: url("/assets/\uc885\uc774.png");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  z-index: 5;\n'])),uD),hD=iA.img(cz||(cz=vT(["\n  width: 50px;\n  height: 50px;\n  top: 55px;\n  right: 20px;\n  position: absolute;\n  cursor: pointer;\n"]))),fD=iA.div(dz||(dz=vT(["\n  overflow-y: scroll;\n  overflow-x: hidden;\n  width: 720px;\n  height: 680px;\n  margin: 110px auto 0px 100px;\n  /* background-color: green; */\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]))),pD=iA(pR)(hz||(hz=vT(["\n  box-sizing: content-box;\n  padding: 15px;\n  border-radius: 30px;\n  display: flex;\n  width: 675px;\n  background-color: #ddffc3;\n  margin: 0 auto 70px 0;\n"]))),vD=iA(pR)(fz||(fz=vT(["\n  box-sizing: content-box;\n  padding: 15px;\n  border-radius: 30px;\n  border: 2px dashed black;\n  display: flex;\n  width: 675px;\n  margin: 0 auto 70px 0;\n"]))),mD=iA(dR)(pz||(pz=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 55px;\n  text-indent: -55px;\n  line-height: 35px;\n  margin-bottom: 3px;\n  font-size: 22px;\n"]))),gD=function(){var e=u(Rl(aA),2),t=e[0],n=e[1],r=u(Rl(lA),2),i=r[0];r[1];return(0,hA.jsx)(hA.Fragment,{children:t.memoriesModal&&(0,hA.jsx)(cD,{onClick:function(){return n(X(X({},t),{},{memoriesModal:!1}))},children:(0,hA.jsxs)(dD,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(hD,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},t),{},{memoriesModal:!1}))}}),(0,hA.jsxs)(fD,{className:"Content Wrap",children:[i.photoMemory?(0,hA.jsx)(yD,{}):(0,hA.jsx)(_D,{}),i.utMemory?(0,hA.jsx)(xD,{}):(0,hA.jsx)(SD,{}),i.todowithMemory?(0,hA.jsx)(bD,{}):(0,hA.jsx)(MD,{}),i.sgMemory?(0,hA.jsx)(wD,{}):(0,hA.jsx)(kD,{})]})]})})})},yD=function(){return(0,hA.jsxs)(pD,{className:"UT",children:[(0,hA.jsx)(gR,{margin:"10px auto 30px auto ",children:(0,hA.jsx)(hR,{children:"Profile"})}),(0,hA.jsxs)(vR,{columnGap:25,children:[(0,hA.jsx)(pR,{className:"photo",width:186,height:249,borderRadius:"30px",url:"url(/assets/\ud504\ub85c\ud544/\ud504\ub85c\ud544\uc0ac\uc9c4.jpg)"}),(0,hA.jsxs)(fR,{className:"propile text",width:440,height:249,isAlignSide:!0,isContentSide:!0,children:[(0,hA.jsx)(mD,{children:"\uc774\ub984 : \uc2ec\uc544\uc601"}),(0,hA.jsx)(mD,{children:"\uc0dd\ub144\uc6d4\uc77c : 96.01.15"}),(0,hA.jsx)(mD,{children:"\uc8fc\uc18c\uc9c0 : \uc131\ub0a8\uc2dc \ubd84\ub2f9\uad6c"}),(0,hA.jsx)(mD,{children:"\uc5f0\ub77d\ucc98 : 010-2935-1666"}),(0,hA.jsx)(mD,{children:"\uc774\uba54\uc77c : ccimayoung@gmail.com"}),(0,hA.jsx)(mD,{children:"\ud559\ub825 : \ucef4\ud4e8\ud130\uacf5\ud559 - \ud559\uc810\uc740\ud589 \uc878\uc5c5\n          \uc5b8\ub860\uc815\ubcf4, \uacbd\uc601\ud559 - \uacbd\ud76c\ub300 \uc11c\uc6b8\ucea0 \uc878\uc5c5\uc608\uc815"})]})]}),(0,hA.jsx)(gR,{margin:"50px auto 30px auto ",children:(0,hA.jsx)(hR,{children:"Skils"})}),(0,hA.jsxs)(vR,{columnGap:35,children:[(0,hA.jsxs)(fR,{className:"left skills",width:310,height:260,isAlignSide:!0,isContentSide:!0,children:[(0,hA.jsx)(dR,{size:20,isBold:!0,children:"Front-end"}),(0,hA.jsx)("img",{style:{width:"290px",margin:"5px 0 40px 0"},src:sD,alt:"\ud504\ub860\ud2b8\uc5d4\ub4dc\uc2a4\ud0ac"}),(0,hA.jsx)(dR,{size:20,isBold:!0,children:"Design"}),(0,hA.jsx)("img",{style:{width:"290px",margin:"5px 0 0 0"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZoAAAAlCAYAAAB77S93AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAADKlJREFUeNrsnX9slPUdx1/3q3dtLabZ6DboAndT0EEntrYWcXPShcUEaGNrrriZMaliZCs0iibA0DFtomiqTWA6u0nCIjSAFjQhMznYLwRbe84AOhy2mLW4FJMqZ+F6v5798Tx399z1+uvuoT3D55U0fe758X2+3+/zve/7+/l+Pt/nTIqiRBCERMxJn6WNCNIOhbSxAlzatMAkVSEA5DWfVlLtL21H2ogwZXjdpGyHvuo50g6/ZhR0nFPMUg2CIAjCVJqmgiAIgiBCIwiCIIjQCIIgCIIIjSAIgiBCIwiCIIjQCIIgCIIIjSAIgjBNWKUKhCvBSic8WTH5684PwZu98PJpqUPBwBF1UTGO9c9jWVhJZKAvYb/+szLQh//FRxL2CVkoNKbC2VhLqwl5D6IM9ksNX4XcWJieyADMyocVTnj7v9B7UepSMIac+vUADD2wJCYiOfUbAAjsfQEAy8JK7KuasC6ti+0TDBJ6oxO0OMuxVa3D0fAqtqqHpYavQn44K7PrZ+WDc4bUo2ActqX3jGuphE+dYHhPC/ZVTVJh2W7RhLwdKF/0Y2/Yha1qHQBBz06p6auIb+ZmnkahXepRMI6JToUpA30ybZZtQjOWxRLydmAtrcFWtQ5raQ3+tvtRBtN9gKuxb92IxZHi0IUDXGrZmpivhhPYXAVAD6FNKwhMNs3k62rfJK/MpW773yW4bQ1BFGAbjqdrMZsg0r0A/4HoBb/F0VyX0lxUerZzuW3XyLz8ZiOW3PHzYms4js2VerifmIfs4eVT8Nml+OcHF6hWi9EccIMzxX7fANxxVLejArzaiV3/gofOoL7BMWn/2jNJCc2Hvy2CAv2+ILS8Drv15b0bym2j53NEfkbJe0c7bEuVgC6fenp7obYz/nm/G1wp7he9V6p8TLSMY5bzIpQdJvVbMacJZaAP69I6Qkf2jykkOfXrUTISmgfIe20LlpTt+yzB6ir8ACtf45o1S0a8qTbimcNQa/J1z5J/0D2yP+lrx/erx0HRarrRQ0HVder20DsM37sq3ofpj/W141v32MjsrdzDNWtu0/J0lmDNT/ArxjzFDIVm3YTOMxXOxtHwJ0LejsytG1VYhmGb3dFci3lmLbkNPSk670mnObFzHbdibfgFwQneTy8sOU2nsbo2krf1RwS33U8wo7z0ENq04q2AKoTL88pcmMtOYP/fYoaPZdNXHN48pzr5bymC9wbUvycr1M9XAq0D/VjrVOc5i8B7F5QeTj/N++6EpqIkAdA65SY33K4TrLWvp+7sf3w0Rec7irgdcEONG25KEo+td0HNjJFCtN8NrmK4r3OkIGRaxr/qyjhCfDVhKT3MfzTxub58BnTfnVqcpgt/66PkPt2OfVUT4VMn1H6pqFjtBEsWA6qPJnzqBJc2u4256WgdOsChe/nqEDh2fIqtWBOGn91LILmB6AQi4pnLUKt6Qs5TJ7GXuMn/9eMphAnIX4h1JQQOaeJXed242c2pWKgTvuuw/q4BtrxiSFVk5KO5vH0Zw22rGW5bTdCzI965DvYT9OwgsH8zQc8Owj1dWpBADRZXuRH5fh96UPyakBW4pqi59hC5ACZXLTlpXB1o2U7YHxWr1QYO5d/3qT/UUYDp29lpOt9SBH+4E95aDp8NQfdA3Np58Cgsf0sVIKPpiKaZC/elm8h8aCiKWw0xK+MMtGnply+An6eR9H5nXBz1nXhtr/rf6QT9sGN2bvx8vbVT1w5dlzOoqDHK+EddGcerw7V9quBgS21dThemomLMRcUEPfsY3tPC8J4WwiePY9bEJnhkP0HPPkxFxdiq7smSXD9Lfkxk5sREBiCwpQSf5+wY187A8tNnNUtlKeZxZxCewVaSOFNici1Nq58zXGiUwX7CPV2YtQAAgHBPF5e3LyPkPYipcBbK4PmYEJkKZ5NT+7QR+b4ZXJgcAD7CnU9M2aOPdL6LggtLWkKxi8h5n/oQZ/0Im0E/8WJrWFagPkgfyv++HnO238mHQ1oYc9nMK2fdOB0GJHJtfCrpg87EQ7uHog8Bbp8/+c79m9rmv88nHfsSfNrmTRXEWkq/JiYFReB1w8u6e649nIEFYVAZ78vn+mxsb3lP7WV4Twv+1kcJnzpB+NQJIpo/5tJmN0HPPvytjxL07MO2tC47Mt1YpnXQZwmnslpaqxLER29iRvouQnEZjqil0vcO4aGJ3OsiYc87quWtWUXTPnUWFQ69lRI6sgOLqxx7Q3xqyewqJ7B/C2ZnBRZXOZZ5PyT88T/Su+nMWvKaa+OuYv+HRI5lWAtqmjo7+93Rp7aO3U/oxuPYXA9hX/I2aWuFYyYmEyPnUiacFxfW5tPLrQnTdC9l3bRZlPNDquXy3oDqn4lOo4Hqv1k+98qIzU3aIK23L3UnXL4IuheN23mOjiYIBRl27iM4A58vGnl822H4gTYdF82/d1HcEqntHJlUVJSmooy3F6a2uLKB0JH9I/aFTx4fcY5hUWfFbgoOuic2lZZqKqso/S+E8pfDRNa4sTQ+i6VkBhHPkW4qbysbtTuaF/XtnCLUegRr5W1Y8jWr6NBjGVdF2kKj+l1exVQ4O/HB9XSNCBKwltYQ9Pwe5Yt+oBzzrBvSFxqdD0N1+t+KrfkQplGd/pNLcyIE297G0lyHpeLm9H9b1n+BlH62yfhousGqC1IIZeKnmgKhWTFXtV7WLoxPp61doFo1h3pVv81KA+ZbtI51XvTzaB0wjB4MkDyib0pHLMZD68BnjGPtJFPXHt/W+2ycTtjaObKDHy0YwLAyzgCvO27JRP1R2URkoA9LyWIinn0J+y0lixMWbVqX1hkXdTZJYUkmMDCAPaF1PEP+wfqEaSi93yaRxwj3ubFVuYGzBFv5u7mS1EKzcg/W76oj5siJVUcDUEFPY76lZEbMKvJPx9SZtbSG3I1vYyqcjTLYT8jbEX9wrnJC3oOJowRvB8pgPxZnuaGNJ/jRh5pBMBPTkqlstk8Q7vHBTNckK3A15lnqV1Y5/3ctci0DDqwg2KNNsDhuxdaUbWPIOLcUqQITFRlQLZoyzXdjArwXjLmXbwBK2+N/o4nMZAUhOo2V0hIIwj/PTDLdM/C5tnnDrLGnsqIt5cBdiUb0tsNQ2hs/Pnv+NJTxYmJ933E0uyLOQPXBOBqfw9H4HJaFlVgWVmLW/DaO9c+TU78BR+Nz2Fc14X/xkezIdGu3NpC9DksjwOMMVc/5wFfd/uVEBrj+M5oPp68b/xjjCH0QgLnq0zsLDn6ab4/5a6L3nmKhsVy/hJy6p2LWy+Xtywjrhaa0BmWwn8vblxH07IgFBVhLq2PWj+L73JDnYLvx+1oFXUA5NsUNt+0l1bE/CXKatHBqA62PYFsloQvxabdcI4MMrjCfadNpDx5VfTbL52ZpRnVO/wTnfEU8SqvrNPw5jaTreuNWWMzfMh/+5oxbY9uSrIdud2KAwNZvaOKTjthNoIwbdGXczdeTaFizreoe7KuasK9qwlKymOE9LYROHo9Fnl3a7I5FpU0/jxE8eTEqAOQ3mj6YnFBV4aueM45V9QDW6HKJvnb1/Oo5+KqfIvyVJhKVezIOCpj01JmpQDXoVRHZGROc6LoZa2kNFmc5gQObCXp2Yiqcja3q4YRQ6FD3G+nnOKUPY01qf4rqx0goZMq1Jslpjrn+Jsouhk/XxtfXjFZfro3kNW8c+/4Z5iXQsh2TtibI5NpIbgOZhXsbzFvLU+9fu1B93cyVWFNjNLuPwm4tnLnGDTXER/kZhfF2QmmnOp2l97dA6nU0tb3Q7UzKA6OsicmWMmYBOfXrCZ88zlDro7p9G9Tvz94Xpv6VM8nraPJvw95xDlvSOprAlhIC0XU0VeduKqhKNCWVcxnmo7E+tuYnckYvSK8Q6vk1lh9cmxQqnR4mRVEilzYtyDj8aTSfTTLDbasJ93QhZCd5zaeVFJZupLR94mEPm26Buu9llo+n34MDn8jzuFrxuknZDn3Vc9Lqqwo6zuGrmZskPnGhEa4cBR3nFMPedaYM9uNv+2XCeprk4yIygiBMB5GBvtiamShZE8Z8FWDou87UhZo7CXkPYnGWY3aVowz2E+ntEoG5injjk8wtGqMCAwQBIHzqODn1GwjsfSHmqzF/qzhlyLOQ5UKjF5zQYD/oggSEq4ePBtUV/2VFk18bc34InuyUnwgQjCWw90Uc658n/5VjMevm0pZ6eYHm11loBOHl04D8eJmQJUTfACBMD/JTzoIgCIIIjSAIgiBCIwiCIAgiNIIgCIIIjSAIgiBCIwiCIAgiNIIgCIIIjSAIgnA1YFIUJSLVIIwzAJE2Ikg7FNLm/wMA6FPvBAG5nCIAAAAASUVORK5CYII=",alt:"\ub514\uc790\uc778\uc2a4\ud0ac"})]}),(0,hA.jsxs)(fR,{className:"right skills",width:310,height:260,isAlignSide:!0,isContentSide:!0,children:[(0,hA.jsx)(dR,{size:20,isBold:!0,children:"Deployment & Version Control"}),(0,hA.jsx)("img",{style:{width:"325px",margin:"5px 0 40px 0"},src:lD,alt:"\uc778\ud504\ub77c\uc2a4\ud0ac"})]})]})]})},xD=function(){return(0,hA.jsxs)(pD,{className:"UT",children:[(0,hA.jsx)(gR,{children:(0,hA.jsx)(hR,{children:"\uc6b0\ub2f9\ud0d5\ud0d5 \ud0d0\ud5d8\uc77c\uae30"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto",children:(0,hA.jsx)(dR,{size:15,color:"#4F4F4F",children:"2022.09 1\uc778 \uac1c\uc778 \ud504\ub85c\uc81d\ud2b8"})}),(0,hA.jsxs)(pR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"up photo",width:550,height:200,margin:"20px auto 0 auto",children:(0,hA.jsx)($z,{})}),(0,hA.jsx)(fR,{className:"under text",width:675,height:230,margin:"50px auto 20px auto",isAlignSide:!0,isContentSide:!0,children:(0,hA.jsx)(oD,{})})]}),(0,hA.jsx)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15,children:(0,hA.jsx)(xR,{className:"github btn",width:170,onClick:function(){return window.open("https://github.com/ccimayoung/portpro","_blank")},children:"\ud83d\udc49 GitHub \ubcf4\ub7ec\uac00\uae30"})})]})},bD=function(){return(0,hA.jsxs)(pD,{className:"todowith",children:[(0,hA.jsx)(gR,{margin:"10px auto 0 auto ",children:(0,hA.jsx)(hR,{children:"TODOWITH (\ud22c\ub450\uc717)"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto",children:(0,hA.jsx)(dR,{size:15,color:"#4F4F4F",children:"2022.06 ~ 2022.08 \ud611\uc5c5 \ud504\ub85c\uc81d\ud2b8(FE 2\uba85, BE 3\uba85, \ub514\uc790\uc774\ub108 2\uba85)"})}),(0,hA.jsxs)(vR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"left photo",width:190,height:520,margin:"0 0 0 auto",children:(0,hA.jsx)(FN,{})}),(0,hA.jsx)(fR,{className:"right text",width:475,height:480,margin:"0 auto 40px 10px",isAlignSide:!0,isContentSide:!0,children:(0,hA.jsx)(WN,{})})]}),(0,hA.jsxs)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15,children:[(0,hA.jsx)(xR,{className:"readme btn",width:170,onClick:function(){return window.open("https://www.notion.so/Shim-A-Young-1dc0c70d78764f309d9829499d4bb53c#6ef578200aad4d73a0939e85d40cdf32","_blank")},children:"\ud83d\udc49 \uc0c1\uc138 Readme \ubcf4\uae30"}),(0,hA.jsx)(xR,{className:"link btn",width:170,onClick:function(){return window.open("https://todowith.co.kr","_blank")},children:"\ud83d\udc49 \uc11c\ube44\uc2a4 \ub9c1\ud06c"}),(0,hA.jsx)(xR,{className:"github btn",width:170,onClick:function(){return window.open("https://github.com/HanghaeE5/Front-end","_blank")},children:"\ud83d\udc49 GitHub \ubcf4\ub7ec\uac00\uae30"})]})]})},wD=function(){return(0,hA.jsxs)(pD,{className:"sg",children:[(0,hA.jsx)(gR,{children:(0,hA.jsx)(hR,{children:"\ube0c\ub9bf\uc9c0 \uac8c\uc784"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto",children:(0,hA.jsx)(dR,{size:15,color:"#4F4F4F",children:"2022.08 \ud074\ub860 \ucf54\ub529"})}),(0,hA.jsxs)(pR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"video",width:550,height:200,margin:"20px auto 0 auto",backgroundColor:"pink",children:(0,hA.jsx)("video",{controls:!0,style:{width:"550px"},children:(0,hA.jsx)("source",{src:"/assets/\ube0c\ub9bf\uc9c0\uac8c\uc784/\ube0c\ub9bf\uc9c0\uac8c\uc784.mp4"})})}),(0,hA.jsx)(fR,{className:"right text",width:650,height:230,margin:"50px auto 20px auto",isAlignSide:!0,isContentSide:!0,children:(0,hA.jsx)(Zz,{})})]}),(0,hA.jsxs)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15,children:[(0,hA.jsx)(xR,{className:"link btn",width:170,onClick:function(){return window.open("https://ccimayoung.github.io/bridgegame/","_blank")},children:"\ud83d\udc49 \uc11c\ube44\uc2a4 \ub9c1\ud06c"}),(0,hA.jsx)(xR,{className:"github btn",width:170,onClick:function(){return window.open("https://github.com/ccimayoung/bridgegame","_blank")},children:"\ud83d\udc49 GitHub \ubcf4\ub7ec\uac00\uae30"})]})]})},_D=function(){return(0,hA.jsxs)(vD,{className:"UT",children:[(0,hA.jsx)(gR,{margin:"10px auto 30px auto ",children:(0,hA.jsx)(hR,{children:"Profile"})}),(0,hA.jsxs)(vR,{columnGap:25,children:[(0,hA.jsx)(pR,{className:"photo",width:186,height:249,borderRadius:"30px",border:"2px dashed black",children:(0,hA.jsx)(dR,{size:70,isBold:!0,children:"?"})}),(0,hA.jsx)(fR,{className:"propile text",width:440,height:249,isAlignSide:!0,isContentSide:!0})]}),(0,hA.jsx)(gR,{margin:"50px auto 30px auto ",children:(0,hA.jsx)(hR,{children:"Skils"})}),(0,hA.jsx)(vR,{columnGap:35,width:655,height:260})]})},SD=function(){return(0,hA.jsxs)(vD,{className:"UT",children:[(0,hA.jsx)(gR,{children:(0,hA.jsx)(hR,{children:"\uc6b0\ub2f9\ud0d5\ud0d5 \ud0d0\ud5d8\uc77c\uae30"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto"}),(0,hA.jsxs)(pR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsxs)(pR,{className:"up photo",width:550,height:220,margin:"0px auto 0 auto",border:"2px dashed black",children:[" ",(0,hA.jsx)(dR,{size:70,isBold:!0,children:"?"})]}),(0,hA.jsx)(fR,{className:"under text",width:675,height:230,margin:"50px auto 20px auto",isAlignSide:!0,isContentSide:!0})]}),(0,hA.jsx)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15})]})},MD=function(){return(0,hA.jsxs)(vD,{className:"todowith",children:[(0,hA.jsx)(gR,{margin:"10px auto 0 auto ",children:(0,hA.jsx)(hR,{children:"TODOWITH (\ud22c\ub450\uc717)"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto"}),(0,hA.jsxs)(vR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"left photo",width:190,height:490,margin:"0 0 20px auto",border:"2px dashed black",children:(0,hA.jsx)(dR,{size:70,isBold:!0,children:"?"})}),(0,hA.jsx)(fR,{className:"right text",width:475,height:480,margin:"0 auto 40px 10px",isAlignSide:!0,isContentSide:!0})]}),(0,hA.jsx)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15})]})},kD=function(){return(0,hA.jsxs)(vD,{className:"sg",children:[(0,hA.jsx)(gR,{children:(0,hA.jsx)(hR,{children:"\ube0c\ub9bf\uc9c0 \uac8c\uc784"})}),(0,hA.jsx)(fR,{className:"subtitle",width:500,height:20,margin:"5px auto 0px auto"}),(0,hA.jsxs)(pR,{className:"center wrap",margin:"15px auto 0 auto",children:[(0,hA.jsx)(pR,{className:"video",width:550,height:250,margin:"20px auto -50px auto",border:"2px dashed black",children:(0,hA.jsx)(dR,{size:70,isBold:!0,children:"?"})}),(0,hA.jsx)(fR,{className:"right text",width:650,height:230,margin:"50px auto 20px auto",isAlignSide:!0,isContentSide:!0})]}),(0,hA.jsx)(vR,{className:"bottom botton wrap",width:550,height:50,margin:"0px auto auto auto",columnGap:15})]})},TD=iA.div(vz||(vz=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),ED=iA.div(mz||(mz=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 600px;\n  height: 600px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-color: white;\n  border-radius: 30px;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),AD=iA.div(gz||(gz=vT(["\n  width: 60px;\n  height: 60px;\n  top: 20px;\n  right: 20px;\n  border: 3px solid black;\n  border-radius: 50px;\n  background-color: #ffffff;\n  position: absolute;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),CD=iA.img(yz||(yz=vT(["\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n"]))),PD=iA(dR)(xz||(xz=vT(["\n  white-space: pre-line;\n  line-height: 40px;\n  margin-bottom: 2px;\n  font-size: 30px;\n  & > span:nth-of-type(1) {\n    font-size: 30px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"]))),RD=function(){var e=u(Rl(sA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.tonaCan1Modal&&(0,hA.jsx)(TD,{onClick:function(){return n(X(X({},t),{},{tonaCan1Modal:!1}))},children:(0,hA.jsxs)(ED,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(AD,{children:(0,hA.jsx)(CD,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},t),{},{tonaCan1Modal:!1}))}})}),(0,hA.jsx)("img",{style:{width:"450px",margin:"70px auto 0 60px "},src:"/assets/\uac00\ubc29/\ucc38\uce58\uce94 \ubc30\uacbd\uc5c6\uc74c.png",alt:"\ucc38\uce58\uce941"}),t.tonaCan1Find&&t.tonaCan2Find?(0,hA.jsxs)(fR,{margin:"10px auto auto auto",children:[(0,hA.jsxs)(PD,{children:[(0,hA.jsx)("span",{children:"\ucc38\uce58\uce94 2\uac1c"}),"\ub97c \ubaa8\ub450 \ucc3e\uc558\ub2e4!"]}),(0,hA.jsx)(PD,{children:"\uace0\uc591\uc774\uc5d0\uac8c \ucc38\uce58\uce94\uc744 \uc8fc\uba74 \uc88b\uc544\ud558\uaca0\uc9c0?"}),(0,hA.jsx)(dR,{size:25,style:{marginTop:"5px"},children:"(\uc624\ub978\ucabd \uc544\ub798 \uac00\ubc29\uc5d0\uc11c \ubcfc \uc218 \uc788\uc5b4\uc694)"})]}):(0,hA.jsxs)(fR,{margin:"10px auto auto auto",children:[(0,hA.jsxs)(PD,{children:[(0,hA.jsx)("span",{children:"\ucc38\uce58\uce94 1\uac1c"}),"\ub97c \ucc3e\uc558\ub2e4!"]}),(0,hA.jsx)(dR,{size:25,style:{marginTop:"5px"},children:"(\uc624\ub978\ucabd \uc544\ub798 \uac00\ubc29\uc5d0\uc11c \ubcfc \uc218 \uc788\uc5b4\uc694)"})]})]})})})},LD=iA.div(bz||(bz=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),ID=iA.div(wz||(wz=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 600px;\n  height: 600px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-color: white;\n  border-radius: 30px;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),ND=iA.div(_z||(_z=vT(["\n  width: 60px;\n  height: 60px;\n  top: 20px;\n  right: 20px;\n  border: 3px solid black;\n  border-radius: 50px;\n  background-color: #ffffff;\n  position: absolute;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),zD=iA.img(Sz||(Sz=vT(["\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n"]))),DD=iA(dR)(Mz||(Mz=vT(["\n  white-space: pre-line;\n  line-height: 40px;\n  margin-bottom: 2px;\n  font-size: 30px;\n  & > span:nth-of-type(1) {\n    font-size: 30px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"]))),OD=function(){var e=u(Rl(sA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.tonaCan2Modal&&(0,hA.jsx)(LD,{onClick:function(){return n(X(X({},t),{},{tonaCan2Modal:!1}))},children:(0,hA.jsxs)(ID,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(ND,{children:(0,hA.jsx)(zD,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){return n(X(X({},t),{},{tonaCan2Modal:!1}))}})}),(0,hA.jsx)("img",{style:{width:"450px",margin:"70px auto 0 60px "},src:"/assets/\uac00\ubc29/\ucc38\uce58\uce94 \ubc30\uacbd\uc5c6\uc74c.png",alt:"\ucc38\uce58\uce941"}),t.tonaCan1Find&&t.tonaCan2Find?(0,hA.jsxs)(fR,{margin:"10px auto auto auto",children:[(0,hA.jsxs)(DD,{children:[(0,hA.jsx)("span",{children:"\ucc38\uce58\uce94 2\uac1c"}),"\ub97c \ubaa8\ub450 \ucc3e\uc558\ub2e4!"]}),(0,hA.jsx)(DD,{children:"\uace0\uc591\uc774\uc5d0\uac8c \ucc38\uce58\uce94\uc744 \uc8fc\uba74 \uc88b\uc544\ud558\uaca0\uc9c0?"}),(0,hA.jsx)(dR,{size:25,style:{marginTop:"5px"},children:"(\uc624\ub978\ucabd \uc544\ub798 \uac00\ubc29\uc5d0\uc11c \ubcfc \uc218 \uc788\uc5b4\uc694)"})]}):(0,hA.jsxs)(fR,{margin:"10px auto auto auto",children:[(0,hA.jsxs)(DD,{children:[(0,hA.jsx)("span",{children:"\ucc38\uce58\uce94 1\uac1c"}),"\ub97c \ucc3e\uc558\ub2e4!"]}),(0,hA.jsx)(dR,{size:25,style:{marginTop:"5px"},children:"(\uc624\ub978\ucabd \uc544\ub798 \uac00\ubc29\uc5d0\uc11c \ubcfc \uc218 \uc788\uc5b4\uc694)"})]})]})})})},FD=WE(kz||(kz=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),UD=iA.div(Tz||(Tz=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),BD=iA.div(Ez||(Ez=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 800px;\n  height: 800px;\n  animation: ",' 0.6s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-image: url("/assets/\uc9d1\uc548\ub9f5 \uc124\uba85.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n'])),FD),jD=iA.div(Az||(Az=vT(["\n  width: 60px;\n  height: 60px;\n  top: 140px;\n  right: 50px;\n  border: 3px solid black;\n  border-radius: 50px;\n  background-color: white;\n  position: absolute;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),HD=iA.img(Cz||(Cz=vT(["\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n"]))),VD=function(){var e=u(Rl(aA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.houseInExplainModal&&(0,hA.jsx)(UD,{onClick:function(){return n(X(X({},t),{},{houseInExplainModal:!1}))},children:(0,hA.jsx)(BD,{onClick:function(e){e.stopPropagation()},children:(0,hA.jsx)(jD,{children:(0,hA.jsx)(HD,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},t),{},{houseInExplainModal:!1}))}})})})})})},GD=WE(Pz||(Pz=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),WD=iA.div(Rz||(Rz=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),qD=iA.div(Lz||(Lz=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 800px;\n  height: 800px;\n  animation: ",' 0.6s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-image: url("/assets/QuestModal.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n'])),GD),XD=iA.img(Iz||(Iz=vT(["\n  width: 50px;\n  height: 50px;\n  top: 55px;\n  right: 50px;\n  position: absolute;\n  cursor: pointer;\n"]))),YD=iA.img(Nz||(Nz=vT(["\n  width: 40px;\n  height: 40px;\n  position: absolute;\n"]))),KD=iA(pR)(zz||(zz=vT(["\n  width: 120px;\n  height: 50px;\n  border-radius: 30px;\n  z-index: 10;\n"]))),ZD=iA(pR)(Dz||(Dz=vT(["\n  width: 350px;\n  min-height: 100px;\n  border-radius: 30px;\n  margin: -25px 0 0 0;\n"]))),JD=iA(dR)(Oz||(Oz=vT(["\n  white-space: pre-line;\n  align-content: left;\n  padding-left: 13px;\n  text-indent: -13px;\n  /* line-height: 35px; */\n  margin-bottom: 5px;\n  /* font-size: 20px; */\n"]))),QD=function(){var e=u(Rl(aA),2),t=e[0],n=e[1],r=u(Rl(uA),2),i=r[0];r[1];return(0,hA.jsx)(hA.Fragment,{children:t.questModal&&(0,hA.jsx)(WD,{onClick:function(){return n(X(X({},t),{},{questModal:!1}))},children:(0,hA.jsxs)(qD,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(XD,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},t),{},{questModal:!1}))}}),(0,hA.jsx)(YD,{src:"/assets/star.png",alt:"\ub0b4 \uc704\uce58",style:{top:4.1*i[2]+582,left:10*i[0]+146}}),(0,hA.jsxs)(pR,{className:"right wrap",width:350,height:520,margin:"170px auto auto 390px",isContentSide:!0,children:[(0,hA.jsx)(KD,{className:"\uc9c4\ud589\uc911",margin:"0 auto",backgroundColor:"#FF8E8E",children:(0,hA.jsx)(dR,{size:25,isBold:!0,children:"\uc9c4\ud589\uc911"})}),(0,hA.jsx)(ZD,{isContentSide:!0,isAlignSide:!0,rowGap:10,style:{padding:"30px 10px",minHeight:"100px",border:"4px solid #FF8E8E"},children:(0,hA.jsx)($D,{})}),(0,hA.jsx)(KD,{className:"\uc644\ub8cc",margin:"30px auto 0 auto",backgroundColor:"#004257",children:(0,hA.jsx)(dR,{size:25,isBold:!0,color:"white",children:"\uc644\ub8cc"})}),(0,hA.jsx)(ZD,{isContentSide:!0,isAlignSide:!0,rowGap:10,style:{padding:"30px 10px",minHeight:"100px",border:"4px solid #004257"},children:(0,hA.jsx)(eO,{})})]})]})})})},$D=function(){var e=u(Rl(dA),2),t=e[0];e[1];return(0,hA.jsxs)(hA.Fragment,{children:["ing"===t.q1TunaCan&&(0,hA.jsx)(JD,{children:"- \uc9d1\uc5d0\uc11c \ucc38\uce58\uce94 2\uac1c\ub97c \ucc3e\uc544 \uace0\uc591\uc774\uc5d0\uac8c \uac00\uc838\ub2e4 \uc8fc\uae30"}),"ing"===t.q2Key&&(0,hA.jsx)(JD,{children:"- \uae38\uc5d0\uc11c \uc5f4\uc1e0\ub97c \uc8fc\uc6cc\uc11c \uc5ec\uc6b0\uc5d0\uac8c \uac00\uc838\ub2e4 \uc8fc\uae30"}),"ing"===t.q3Port&&(0,hA.jsx)(JD,{children:"- \uc9d1 \ubcbd\uba74\uc758 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 3\uac1c \ud655\uc778\ud558\uae30"}),"ing"===t.q4Photo&&(0,hA.jsx)(JD,{children:"- \uc575\ubb34\uc0c8\uc5d0\uac8c \ub0b4 \uc0ac\uc9c4 \ud655\uc778\ud558\uae30"}),"ing"===t.q5Memory&&(0,hA.jsx)(JD,{children:"- \uae38 \ub05d \ud3ad\uadc4\uc5d0\uac8c \uae30\uc5b5\uc744 \ub2e4 \ucc3e\uc558\ub2e4\uace0 \ub9d0\ud558\uae30"})]})},eO=function(){var e=u(Rl(dA),2),t=e[0];e[1];return(0,hA.jsxs)(hA.Fragment,{children:["finish"===t.q1TunaCan&&(0,hA.jsx)(JD,{children:"- \uc9d1\uc5d0\uc11c \ucc38\uce58\uce94 2\uac1c\ub97c \ucc3e\uc544 \uace0\uc591\uc774\uc5d0\uac8c \uac00\uc838\ub2e4 \uc8fc\uae30"}),"finish"===t.q2Key&&(0,hA.jsx)(JD,{children:"- \uae38\uc5d0\uc11c \uc5f4\uc1e0\ub97c \uc8fc\uc6cc\uc11c \uc5ec\uc6b0\uc5d0\uac8c \uac00\uc838\ub2e4 \uc8fc\uae30"}),"finish"===t.q3Port&&(0,hA.jsx)(JD,{children:"- \uc9d1 \ubcbd\uba74\uc758 \ud3ec\ud2b8\ud3f4\ub9ac\uc624 3\uac1c \ud655\uc778\ud558\uae30"}),"finish"===t.q4Photo&&(0,hA.jsx)(JD,{children:"- \uc575\ubb34\uc0c8\uc5d0\uac8c \ub0b4 \uc0ac\uc9c4 \ud655\uc778\ud558\uae30"}),"finish"===t.q5Memory&&(0,hA.jsx)(JD,{children:"- \uae38 \ub05d \ud3ad\uadc4\uc5d0\uac8c \uae30\uc5b5\uc744 \ub2e4 \ucc3e\uc558\ub2e4\uace0 \ub9d0\ud558\uae30"})]})},tO=iA.div(Fz||(Fz=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),nO=iA.div(Uz||(Uz=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-items: center;\n  width: 600px;\n  height: 600px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-color: white;\n  border-radius: 30px;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),rO=iA.div(Bz||(Bz=vT(["\n  width: 60px;\n  height: 60px;\n  top: 20px;\n  right: 20px;\n  border: 3px solid black;\n  border-radius: 50px;\n  background-color: #ffffff;\n  position: absolute;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),iO=iA.img(jz||(jz=vT(["\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n"]))),aO=iA(dR)(Hz||(Hz=vT(["\n  white-space: pre-line;\n  line-height: 40px;\n  margin-bottom: 2px;\n  font-size: 30px;\n  & > span:nth-of-type(1) {\n    font-size: 30px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"]))),oO=function(){var e=u(Rl(sA),2),t=e[0],n=e[1],r=u(Rl(dA),2),i=r[0],a=r[1];return(0,hA.jsx)(hA.Fragment,{children:t.projectModal&&(0,hA.jsx)(tO,{onClick:function(){t.projectTodowith&&t.projectSg&&t.projectUt&&a(X(X({},i),{},{q3Port:"finish"})),n(X(X({},t),{},{projectModal:!1}))},children:(0,hA.jsxs)(nO,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(rO,{children:(0,hA.jsx)(iO,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){t.projectTodowith&&t.projectSg&&t.projectUt&&a(X(X({},i),{},{q3Port:"finish"})),n(X(X({},t),{},{projectModal:!1}))}})}),(0,hA.jsx)("img",{style:{height:"330px",margin:"70px auto 30px auto "},src:"/assets/quest.png",alt:"\ud018\uc2a4\ud2b8"}),(0,hA.jsxs)(fR,{margin:"10px auto auto auto",children:[(0,hA.jsxs)(aO,{children:[(0,hA.jsx)("span",{children:"\ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uae30\uc5b5"}),"\uc744 \ucc3e\uc558\ub2e4!"]}),(0,hA.jsx)(dR,{size:25,style:{marginTop:"5px"},children:"(\uc624\ub978\ucabd \uc544\ub798 \ud3ec\ud2b8\ud3f4\ub9ac\uc624\uc5d0\uc11c \ub2e4\uc2dc \ubcfc \uc218 \uc788\uc5b4\uc694)"})]})]})})})};function sO(e){var t=UM(fk,"/assets/glb/rick_and_morty_garage_fan_art.glb"),n=u(Rl(aA),2),r=n[0],i=n[1],a=u(Rl(sA),2),o=a[0],s=a[1],l=DM(),c=l.gl,d=l.camera,h=c;h.setSize(window.innerWidth,window.innerHeight),h.setPixelRatio(window.devicePixelRatio>1?2:1),d.fov=75,d.aspect=window.innerWidth/window.innerHeight,d.near=.1,d.far=1e3;var f=t.scene.children[0];f.rotation.z=Math.PI/4,f.position.set(-1,-1.5,-2.5);var p=new pT;return OM((function(e,t,n){p.keys.Escape&&(i(X(X({},r),{},{houseInExplainModal:!1,questionModal:!1,questModal:!1,memoriesModal:!1,bagModal:!1,todowithModal:!1,utModal:!1,sgModal:!1})),s(X(X({},o),{},{tonaCan1Modal:!1,tonaCan2Modal:!1,projectModal:!1})))})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)("primitive",{object:t.scene,scale:2.5,onClick:function(){return window.open("https://sketchfab.com/anthonyjamesgirdler")}})})}var lO,uO,cO,dO,hO,fO=function(){var e=(0,r.useRef)(),t=u(Rl(aA),2),n=t[0],i=t[1],a=Cl(),o=u(Rl(sA),2),s=o[0];o[1];return(0,r.useEffect)((function(){i(X(X({},n),{},{houseInExplainModal:!0}))}),[]),(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsxs)(lk,{ref:e,style:{backgroundColor:"#7ec7ff",width:"100vw",height:"100vh"},children:[(0,hA.jsx)("ambientLight",{color:"white",intensity:.5}),(0,hA.jsxs)(a,{children:[(0,hA.jsxs)(r.Suspense,{fallback:null,children:[(0,hA.jsx)(cR,{}),(0,hA.jsx)(XN,{}),(0,hA.jsx)(Vz,{}),(0,hA.jsx)(sO,{}),!s.tonaCan1Find&&(0,hA.jsx)(IA,{}),!s.tonaCan2Find&&(0,hA.jsx)(zA,{})]}),(0,hA.jsx)(hk,{minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/180*135})]})]}),(0,hA.jsx)(gA,{}),(0,hA.jsx)(gD,{}),(0,hA.jsx)(EA,{}),(0,hA.jsx)(_A,{}),(0,hA.jsx)(HN,{}),(0,hA.jsx)(rD,{}),(0,hA.jsx)(Xz,{}),(0,hA.jsx)(RD,{}),(0,hA.jsx)(OD,{}),(0,hA.jsx)(VD,{}),(0,hA.jsx)(QD,{}),(0,hA.jsx)(oO,{})]})},pO=iA.div(lO||(lO=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),vO=iA.div(uO||(uO=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 600px;\n  height: 600px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-color: white;\n  border-radius: 30px;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),mO=iA.div(cO||(cO=vT(["\n  width: 60px;\n  height: 60px;\n  top: 20px;\n  right: 20px;\n  border: 3px solid black;\n  border-radius: 50px;\n  background-color: #ffffff;\n  position: absolute;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),gO=iA.img(dO||(dO=vT(["\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n"]))),yO=iA(dR)(hO||(hO=vT(["\n  white-space: pre-line;\n  line-height: 40px;\n  margin-bottom: 2px;\n  font-size: 30px;\n  & > span:nth-of-type(1) {\n    font-size: 30px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"]))),xO=function(){var e=u(Rl(sA),2),t=e[0],n=e[1],r=u(Rl(dA),2),i=r[0],a=r[1],o=u(Rl(lA),2),s=o[0],l=o[1];return(0,hA.jsx)(hA.Fragment,{children:t.photoModal&&(0,hA.jsx)(pO,{onClick:function(){n(X(X({},t),{},{photoModal:!1})),a(X(X({},i),{},{q4Photo:"finish"})),l(X(X({},s),{},{photoMemory:!0}))},children:(0,hA.jsxs)(vO,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(mO,{children:(0,hA.jsx)(gO,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},t),{},{photoModal:!1})),a(X(X({},i),{},{q4Photo:"finish"})),l(X(X({},s),{},{photoMemory:!0}))}})}),(0,hA.jsx)("img",{style:{height:"330px",margin:"70px auto 30px auto "},src:"/assets/quest.png",alt:"\ud018\uc2a4\ud2b8"}),(0,hA.jsxs)(fR,{margin:"10px auto auto auto",children:[(0,hA.jsxs)(yO,{children:[(0,hA.jsx)("span",{children:"\ub0b4 \ud504\ub85c\ud544"}),"\uc744 \ucc3e\uc558\ub2e4!"]}),(0,hA.jsx)(dR,{size:25,style:{marginTop:"5px"},children:"(\uc624\ub978\ucabd \uc544\ub798 \ud3ec\ud2b8\ud3f4\ub9ac\uc624\uc5d0\uc11c \ud504\ub85c\ud544\uc744 \ubcfc \uc218 \uc788\uc5b4\uc694)"})]})]})})})};function bO(e){var t,n=u(Rl(aA),2),i=n[0],a=n[1],o=u(Rl(sA),2),s=o[0],l=o[1],c=DM(),d=c.gl,h=c.camera,f=c.scene,p=d;p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(window.devicePixelRatio>1?2:1),h.fov=75,h.aspect=window.innerWidth/window.innerHeight,h.near=.1,h.far=1e3;var v,m=new pT,g=(0,r.useRef)(null),y=null===(t=g.current)||void 0===t?void 0:t.attributes.position.array,x=new Fp(new ov(.3,.3),new xb({side:Xl,map:UM(rC,"/assets/\uc0ac\uc9c4/\uc0ac\uc9c41.jpg")})),b=new Fp(new ov(.3,.3),new xb({side:Xl,map:UM(rC,"/assets/\uc0ac\uc9c4/\uc0ac\uc9c43.jpg")})),w=new Fp(new ov(.3,.3),new xb({side:Xl,map:UM(rC,"/assets/\uc0ac\uc9c4/\uc0ac\uc9c46.jpg")})),_=new Fp(new ov(.3,.3),new xb({side:Xl,map:UM(rC,"/assets/\uc0ac\uc9c4/\uc0ac\uc9c44.jpg")}));if(y)for(var S=0;S<y.length;S+=3)(v=S/3%4===0?x.clone():S/3%4===1?b.clone():S/3%4===2?w.clone():_.clone())&&(v.position.x=y[S],v.position.y=y[S+1],v.position.z=y[S+2],v.lookAt(0,0,0),f.add(v));return OM((function(e,t,n){m.keys.Escape&&(a(X(X({},i),{},{questionModal:!1,questModal:!1,memoriesModal:!1,bagModal:!1})),l(X(X({},s),{},{photoModal:!1})))})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)("mesh",{visible:!1,children:(0,hA.jsx)("sphereGeometry",{attach:"geometry",args:[2,16,16],ref:g})})})}var wO,_O,SO,MO,kO,TO,EO,AO=function(){new Gw;var e=(0,r.useRef)(),t=Cl(),n=u(Rl(sA),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){var e=setTimeout((function(){a(X(X({},i),{},{photoModal:!0})),clearTimeout(e)}),300)}),[]),(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsxs)(lk,{ref:e,style:{backgroundColor:"black",width:"100vw",height:"100vh"},children:[(0,hA.jsx)("ambientLight",{color:"white",intensity:.5}),(0,hA.jsxs)(t,{children:[(0,hA.jsx)(r.Suspense,{fallback:null,children:(0,hA.jsx)(bO,{})}),(0,hA.jsx)(hk,{})]})]}),(0,hA.jsx)(gA,{}),(0,hA.jsx)(gD,{}),(0,hA.jsx)(EA,{}),(0,hA.jsx)(QD,{}),(0,hA.jsx)(_A,{}),(0,hA.jsx)(xO,{})]})},CO=new Mf(0,0,0,"YXZ"),PO=new Dh,RO={type:"change"},LO={type:"lock"},IO={type:"unlock"},NO=Math.PI/2,zO=function(e){le(n,e);var t=ce(n);function n(e,r){var i;de(this,n),(i=t.call(this)).domElement=r,i.isLocked=!1,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.pointerSpeed=1;var a=se(i);function o(t){if(!1!==a.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;CO.setFromQuaternion(e.quaternion),CO.y-=.002*n*a.pointerSpeed,CO.x-=.002*r*a.pointerSpeed,CO.x=Math.max(NO-a.maxPolarAngle,Math.min(NO-a.minPolarAngle,CO.x)),e.quaternion.setFromEuler(CO),a.dispatchEvent(RO)}}function s(){a.domElement.ownerDocument.pointerLockElement===a.domElement?(a.dispatchEvent(LO),a.isLocked=!0):(a.dispatchEvent(IO),a.isLocked=!1)}function l(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}return i.connect=function(){a.domElement.ownerDocument.addEventListener("mousemove",o),a.domElement.ownerDocument.addEventListener("pointerlockchange",s),a.domElement.ownerDocument.addEventListener("pointerlockerror",l)},i.disconnect=function(){a.domElement.ownerDocument.removeEventListener("mousemove",o),a.domElement.ownerDocument.removeEventListener("pointerlockchange",s),a.domElement.ownerDocument.removeEventListener("pointerlockerror",l)},i.dispose=function(){this.disconnect()},i.getObject=function(){return e},i.getDirection=function(){var t=new Dh(0,0,-1);return function(n){return n.copy(t).applyQuaternion(e.quaternion)}}(),i.moveForward=function(t){PO.setFromMatrixColumn(e.matrix,0),PO.crossVectors(e.up,PO),e.position.addScaledVector(PO,t)},i.moveRight=function(t){PO.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(PO,t)},i.lock=function(){this.domElement.requestPointerLock()},i.unlock=function(){a.domElement.ownerDocument.exitPointerLock()},i.connect(),i}return fe(n)}(Gd),DO=function(e){var t=u(Rl(uA),2),n=(t[0],t[1]),i=u(Rl(aA),2),a=i[0],o=i[1],s=u(Rl(cA),2),l=(s[0],s[1]),c=u(Rl(oA),2),d=c[0],h=c[1],f=u(Rl(sA),2),p=f[0],v=f[1],m=u(Rl(dA),2),g=m[0],y=(m[1],DM()),x=y.gl,b=y.camera,w=x;w.setSize(window.innerWidth,window.innerHeight),w.setPixelRatio(window.devicePixelRatio>1?2:1),b.fov=75,b.aspect=window.innerWidth/window.innerHeight,b.near=.1,b.far=1e3,b.zoom=.8;var _=new zO(b,w.domElement);_.pointerSpeed=.15,_.maxPolarAngle=ih.degToRad(135),_.minPolarAngle=Math.PI/4;var S=new pT;(0,r.useEffect)((function(){n([k.position.x,k.position.y,k.position.z])}),[a]);var M=UM(fk,"/assets/glb/\uce90\ub9ad\ud130.glb"),k=M.scene.children[0],T=[],E=new m_(k),A=.02,C=UM(fk,"/assets/glb/cat.glb"),P=C.scene.children[0],R=830,L=[],I=new m_(P);E&&(T[0]=E.clipAction(M.animations[0]),T[1]=E.clipAction(M.animations[1]),T[1].setEffectiveTimeScale(.7),M.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)}))),I&&(L[0]=I.clipAction(C.animations[0]),C.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)}))),"finish"!==g.q1TunaCan&&(P.position.x=332,P.position.y=-415,P.position.z=-4980),_.domElement.addEventListener("click",(function(){_.lock()})),k.name="player",k.rotation.y=Math.PI,DM((function(e){var t=e.camera;t.position.set(k.position.x,k.position.y+35,k.position.z+80),t.updateProjectionMatrix()}));var N=!1,z=!1;return"finish"===g.q1TunaCan&&(P.rotation.z=Math.PI),OM((function(e,t,n){var r=new Dh(k.position.x,25*k.position.y+35,k.position.z+80);if(b.position.x=r.x+k.position.x,b.position.z=r.z+24*k.position.z,"finish"===g.q1TunaCan&&(P.position.x=R*k.position.x,P.position.z=R*k.position.z+830),E&&E.update(t),I&&I.update(t),S.keys.KeyW||S.keys.ArrowUp||S.keys.KeyS||S.keys.ArrowDown||S.keys.KeyA||S.keys.ArrowLeft||S.keys.KeyD||S.keys.ArrowRight||S.keys.Space?(T[1].isRunning()||(T[1].reset(),T[1].setLoop(Yc,1/0),"finish"===g.q1TunaCan&&(L[0].reset(),L[0].setLoop(Yc,1/0))),T[1].play(),"finish"===g.q1TunaCan&&L[0].play()):(T[1].setLoop(Xc),"finish"===g.q1TunaCan&&L[0].setLoop(Xc)),(S.keys.KeyW||S.keys.ArrowUp)&&k.position.z>-80&&(k.rotation.y<=Math.PI&&(k.rotation.y+=t*Math.PI*2,"finish"===g.q1TunaCan&&(P.rotation.z+=t*Math.PI*2)),S.keys.ShiftLeft?(k.position.z-=.06,T[1].setEffectiveTimeScale(1.2)):(k.position.z-=A,T[1].setEffectiveTimeScale(.7))),(S.keys.KeyS||S.keys.ArrowDown)&&k.position.z<1&&(S.keys.ShiftLeft?(k.position.z+=.06,T[1].setEffectiveTimeScale(1.2)):(k.position.z+=A,T[1].setEffectiveTimeScale(.7)),k.rotation.y>=0&&(k.rotation.y-=t*Math.PI*2,"finish"===g.q1TunaCan&&(P.rotation.z-=t*Math.PI*2))),(S.keys.KeyA||S.keys.ArrowLeft)&&k.position.x>-.7&&(k.position.x-=A),(S.keys.KeyD||S.keys.ArrowRight)&&k.position.x<.7&&(k.position.x+=A),S.keys.Space){if(k.position.y<=1&&!N){k.position.y+=.03;var i=setTimeout((function(){N=!0,k.position.y-=.03,clearTimeout(i)}),300)}if(N=!1,P.position.y<=R&&!z&&"finish"===g.q1TunaCan){P.position.y+=24.9;var s=setTimeout((function(){z=!0,P.position.y-=24.9,clearTimeout(s)}),300)}z=!1}S.keys.KeyG&&(k.position.z>-7.3&&k.position.z<-3.3&&"finish"!==g.q1TunaCan&&l(X(X({},cA),{},{catQuestModal1:!0})),k.position.z>-15&&k.position.z<-11&&l(X(X({},cA),{},{foxQuestModal:!0})),k.position.z>-30&&k.position.z<-22.5&&!p.keyFind&&(h(X(X({},d),{},{key1:!0})),v(X(X({},p),{},{keyModal:!0,keyFind:!0}))),k.position.z>-60&&k.position.z<-46&&l(X(X({},cA),{},{birdQuestModal:!0})),k.position.z>-98&&k.position.z<-67&&l(X(X({},cA),{},{penguinQuestModal:!0}))),S.keys.Escape&&(o(X(X({},a),{},{questionModal:!1,questModal:!1,memoriesModal:!1,bagModal:!1})),v(X(X({},p),{},{keyModal:!1})))})),(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)("primitive",{object:M.scene,scale:25}),(0,hA.jsx)("primitive",{object:C.scene,scale:.03})]})},OO=r.memo(DO),FO=WE(wO||(wO=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),UO=iA.div(_O||(_O=vT(["\n  /* align-items: center; */\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),BO=iA.div(SO||(SO=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 30px;\n  width: 900px;\n  height: 370px;\n  animation: "," 0.6s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  /* background-color: red; */\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"])),FO),jO=iA.div(MO||(MO=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 900px;\n  height: 370px;\n  animation: ",' 0.6s ease;\n  background-image: url("/assets/\ub9d0\ud48d\uc120/\uace0\uc591\uc774\ub9d0\ud48d\uc120.svg");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n'])),FO),HO=iA.div(kO||(kO=vT(["\n  margin: 100px 80px 0px 220px;\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  height: 180px;\n  /* background-color: blue; */\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),VO=iA.img(TO||(TO=vT(["\n  width: 40px;\n  height: 40px;\n  top: 70px;\n  right: 20px;\n  position: absolute;\n  cursor: pointer;\n"]))),GO=iA(dR)(EO||(EO=vT(["\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n"]))),WO=function(){var e=u(Rl(cA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.catQuestModal1&&(0,hA.jsx)(UO,{onClick:function(){return n(X(X({},cA),{},{catQuestModal1:!1}))},children:(0,hA.jsx)(BO,{onClick:function(e){e.stopPropagation()},children:(0,hA.jsxs)(jO,{children:[(0,hA.jsx)(VO,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},cA),{},{catQuestModal1:!1}))}}),(0,hA.jsx)(qO,{})]})})})})},qO=function(){var e=u(Rl(sA),2),t=e[0],n=(e[1],u(Rl(dA),2)),r=n[0],i=n[1],a=u(Rl(cA),2),o=(a[0],a[1]),s=u(Rl(aA),2),l=s[0],c=s[1];return(0,hA.jsx)(hA.Fragment,{children:t.tonaCan1Find&&t.tonaCan2Find?(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(HO,{children:(0,hA.jsx)(GO,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:"\uc5bc\ub9c8\ub9cc\uc758 \ucc38\uce58\uce94\uc774\ub0e5!!!!!!!!! \uace0\ub9d9\ub2e4\ub0e5\ud83d\ude3b\ud83d\ude3b\ud83d\ude3b\n              \uc774\uc81c \ub108\ub294 \ub0b4 \uce5c\uad6c\ub2e4\ub0e5"})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){o(X(X({},cA),{},{catQuestModal1:!1})),i(X(X({},r),{},{q1TunaCan:"finish",q4Photo:"ing"}));var e=setTimeout((function(){c(X(X({},l),{},{questModal:!0})),clearTimeout(e)}),200)},children:"\ud018\uc2a4\ud2b8 \uc644\ub8cc!"})]}):t.tonaCan1Find||t.tonaCan2Find?(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(HO,{children:(0,hA.jsxs)(GO,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:["1\uac1c\ub85c\ub294 \ubd80\uc871\ud558\ub2e4\ub0e5!!\n              ",(0,hA.jsx)("span",{children:" \ucc38\uce58\uce94 2\uac1c"}),"\ub97c \uac00\uc838\uc640\uc57c \ud55c\ub2e4\ub0e5. 2\uac1c \ubaa8\ub450 \uc9d1\uc5d0 \uc788\ub2e4\ub0e5!"]})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){o(X(X({},cA),{},{catQuestModal1:!1}))},children:"\ub2e4\uc2dc \uc62c\uac8c!"})]}):(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(HO,{children:(0,hA.jsxs)(GO,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:["\uc57c\uc639. \uae30\uc5b5\uc744 \uc783\uc5c8\ub0e5? \n \ud018\uc2a4\ud2b8\ub97c \ub2e4 \uc644\ub8cc\ud558\uba74 \uae30\uc5b5\uc744 \ub418\ucc3e\uc744 \uc218 \uc788\ub2e4\ub0e5.\n \ub0b4\uac00 \ub108\ud55c\ud14c \ub3c4\uc6c0\uc774 \ub420 \uc218 \uc788\uc744 \uac83 \uac19\ub2e4\ub0e5..! \uc560\uc639...\ud83d\udc31\n \uc800\uae30 \uc55e \uc9d1\uc5d0\uc11c",(0,hA.jsx)("span",{children:" \ucc38\uce58\uce94 2\uac1c"}),"\ub97c \uac00\uc838\uc624\uba74 \ud568\uaed8 \ud558\uaca0\ub2e4\ub0e5."]})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){o(X(X({},cA),{},{catQuestModal1:!1})),i(X(X({},r),{},{q1TunaCan:"ing"}));var e=setTimeout((function(){c(X(X({},l),{},{questModal:!0})),clearTimeout(e)}),200)},children:"\uc54c\uaca0\uc5b4!"})]})})};function XO(e){var t=UM(fk,"/assets/glb/fishercabin.glb"),n=t.scene.children[0];return n.position.x=.1,n.position.y=-7.55,n.position.z=4,n.rotation.z=Math.PI/180*-90,(0,hA.jsx)("mesh",{position:[70,38,-385],rotation:[0,Math.PI/180*90,0],children:(0,hA.jsx)("primitive",{object:t.scene,scale:10})})}var YO=r.memo(XO);function KO(e){var t=UM(fk,"/assets/glb/question_icon_cat.glb"),n=t.scene.children[0];n.rotation.x=Math.PI/180,n.position.y=-3.7,OM((function(e,t,r){n.name="CatQuestionMark"}));var r=UM(rC,"/assets/G \ub204\ub974\uae30.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsxs)("mesh",{position:[10,8,-150],rotation:[0,Math.PI/180,0],children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[17.1,7,1]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:r,visible:"true"}),(0,hA.jsx)("primitive",{object:t.scene,scale:2})]})})}var ZO=r.memo(KO);function JO(e){var t=UM(fk,"/assets/glb/fox.glb"),n=t.scene.children[0];n.position.x=200.4,n.position.y=-50.1,n.position.z=-2120.9,n.rotation.z=Math.PI/180*230;var r=[],i=new m_(n);return i&&(r[0]=i.clipAction(t.animations[0]),r[0].setEffectiveTimeScale(1.2),r[0].play(),t.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)}))),OM((function(e,t,n){i&&i.update(t)})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)("primitive",{object:t.scene,scale:.15})})}var QO=r.memo(JO);function $O(e){var t=UM(fk,"/assets/glb/question_icon_fox.glb"),n=t.scene.children[0];n.rotation.x=Math.PI/180,n.position.y=-3.7;var r=UM(rC,"/assets/G \ub204\ub974\uae30.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsxs)("mesh",{position:[20,25,-325],rotation:[0,Math.PI/180*270,0],children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[17.1,7,1]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:r,visible:"true"}),(0,hA.jsx)("primitive",{object:t.scene,scale:2})]})})}var eF,tF,nF,rF,iF,aF,oF,sF=r.memo($O),lF=WE(eF||(eF=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),uF=iA.div(tF||(tF=vT(["\n  /* align-items: center; */\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),cF=iA.div(nF||(nF=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 30px;\n  width: 900px;\n  height: 370px;\n  animation: "," 0.6s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  /* background-color: red; */\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"])),lF),dF=iA.div(rF||(rF=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 900px;\n  height: 370px;\n  animation: ",' 0.6s ease;\n  background-image: url("/assets/\ub9d0\ud48d\uc120/\uc5ec\uc6b0\ub9d0\ud48d\uc120.svg");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n'])),lF),hF=iA.div(iF||(iF=vT(["\n  margin: 100px 80px 0px 220px;\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  height: 180px;\n  /* background-color: blue; */\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),fF=iA.img(aF||(aF=vT(["\n  width: 40px;\n  height: 40px;\n  top: 70px;\n  right: 20px;\n  position: absolute;\n  cursor: pointer;\n"]))),pF=iA(dR)(oF||(oF=vT(["\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n  & > span:nth-of-type(2) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n"]))),vF=function(){var e=u(Rl(cA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.foxQuestModal&&(0,hA.jsx)(uF,{onClick:function(){return n(X(X({},cA),{},{foxQuestModal:!1}))},children:(0,hA.jsx)(cF,{onClick:function(e){e.stopPropagation()},children:(0,hA.jsxs)(dF,{children:[(0,hA.jsx)(fF,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},cA),{},{foxQuestModal:!1}))}}),(0,hA.jsx)(mF,{})]})})})})},mF=function(){var e=u(Rl(sA),2),t=e[0],n=(e[1],u(Rl(dA),2)),r=n[0],i=n[1],a=u(Rl(cA),2),o=(a[0],a[1]),s=u(Rl(aA),2),l=s[0],c=s[1],d=F();return(0,hA.jsx)(hA.Fragment,{children:t.keyFind?(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(hF,{children:(0,hA.jsxs)(pF,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:["\uc624 \uc5f4\uc1e0\ub97c \uac00\uc838\uc654\ub124?\n              \uc9d1 \ubcbd\uba74\uc5d0\uc11c",(0,hA.jsx)("span",{children:" \ud3ec\ud2b8\ud3f4\ub9ac\uc624 3\uac1c"}),"\ub97c \ubcfc \uc218 \uc788\uc73c\ub2c8 \uc798 \ubcf4\uace0\uc624\ub77c\uad6c.\n              \uae30\uc5b5\uc744 \ucc3e\ub294\ub370 \ub3c4\uc6c0\uc774 \ub420\uac70\uc57c."]})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){o(X(X({},cA),{},{catQuestModal1:!1})),i(X(X({},r),{},{q2Key:"finish",q3Port:"ing"}));var e=setTimeout((function(){d("/houseinmap"),clearTimeout(e)}),200)},children:"\uc9d1 \uc548\uc73c\ub85c \uc774\ub3d9!"})]}):(0,hA.jsxs)(hA.Fragment,{children:[" ",(0,hA.jsx)(hF,{children:(0,hA.jsxs)(pF,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:["\uc7a0\uae50!",(0,hA.jsx)("span",{children:" \uc9d1 \uc5f4\uc1e0"}),"\uac00 \uc788\uc5b4\uc57c \ub4e4\uc5b4\uac08 \uc218 \uc788\uc5b4.\n              \uc800\uae30 \uc55e\uc5d0 \uc788\ub294 ",(0,hA.jsx)("span",{children:"\ud574\uc801 \uae30\ub465"})," \ubcf4\uc774\uc9c0? \uae30\ub465 \ub4a4\ub97c \uc798 \ubcf4\ub77c\uace0~\n              \uc5f4\uc1e0\ub97c \uac00\uc838\uc624\uba74 \ubb38\uc744 \uc5f4\uc5b4\uc904\uac8c."]})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){o(X(X({},cA),{},{catQuestModal1:!1})),i(X(X({},r),{},{q2Key:"ing"}));var e=setTimeout((function(){c(X(X({},l),{},{questModal:!0})),clearTimeout(e)}),200)},children:"\uc54c\uaca0\uc5b4!"})]})})};function gF(e){var t=UM(fk,"/assets/glb/kitty_key.glb"),n=t.scene.children[0];n.position.x=-267.2,n.position.y=-50.1,n.position.z=-3924.5,n.rotation.x=Math.PI/180*170,n.rotation.y=Math.PI/180*20;var r=new m_(n);return r&&t.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),OM((function(e,t,n){r&&r.update(t)})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)("primitive",{object:t.scene,scale:.15})})}var yF=r.memo(gF);function xF(e){var t=UM(fk,"/assets/glb/question_icon_key.glb"),n=t.scene.children[0];n.rotation.x=Math.PI/180,n.position.y=-3.7,OM((function(e,t,r){n.name="FoxQuestionMark"}));var r=UM(rC,"/assets/G \ub204\ub974\uae30.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsxs)("mesh",{position:[-36,6,-598],rotation:[0,Math.PI/180*90,0],children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[17.1,7,1]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:r,visible:"true"}),(0,hA.jsx)("primitive",{object:t.scene,scale:2})]})})}var bF,wF,_F,SF,MF,kF=r.memo(xF),TF=iA.div(bF||(bF=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),EF=iA.div(wF||(wF=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-items: center;\n  width: 600px;\n  height: 600px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-color: white;\n  border-radius: 30px;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),AF=iA.div(_F||(_F=vT(["\n  width: 60px;\n  height: 60px;\n  top: 20px;\n  right: 20px;\n  border: 3px solid black;\n  border-radius: 50px;\n  background-color: #ffffff;\n  position: absolute;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),CF=iA.img(SF||(SF=vT(["\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n"]))),PF=iA(dR)(MF||(MF=vT(["\n  white-space: pre-line;\n  line-height: 40px;\n  margin-bottom: 2px;\n  font-size: 30px;\n  & > span:nth-of-type(1) {\n    font-size: 30px;\n    font-weight: 600;\n    color: #ff007a;\n  }\n"]))),RF=function(){var e=u(Rl(sA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.keyModal&&(0,hA.jsx)(TF,{onClick:function(){return n(X(X({},t),{},{keyModal:!1}))},children:(0,hA.jsxs)(EF,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(AF,{children:(0,hA.jsx)(CF,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){return n(X(X({},t),{},{keyModal:!1}))}})}),(0,hA.jsx)("img",{style:{height:"330px",margin:"70px auto 30px auto "},src:"/assets/\uac00\ubc29/\uc5f4\uc1e0.png",alt:"\uc5f4\uc1e0"}),(0,hA.jsxs)(fR,{margin:"10px auto auto auto",children:[(0,hA.jsxs)(PF,{children:[(0,hA.jsx)("span",{children:"\ud0a4"}),"\ub97c \ucc3e\uc558\ub2e4!"]}),(0,hA.jsx)(dR,{size:25,style:{marginTop:"5px"},children:"(\uc624\ub978\ucabd \uc544\ub798 \uac00\ubc29\uc5d0\uc11c \ubcfc \uc218 \uc788\uc5b4\uc694)"})]})]})})})};function LF(e){var t=UM(fk,"/assets/glb/bird.glb"),n=t.scene.children[0];n.position.x=3.5*-2.1,n.position.y=3.5*3.2,n.position.z=-211.75;var r=new m_(n);return r&&t.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),OM((function(e,t,n){r&&r.update(t)})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)("primitive",{object:t.scene,scale:7})})}var IF=r.memo(LF);function NF(e){var t=UM(fk,"/assets/glb/question_icon_bird.glb"),n=t.scene.children[0];n.rotation.x=Math.PI/180,n.position.y=-3.7,OM((function(e,t,r){n.name="BirdQuestionMark"}));var r=UM(rC,"/assets/G \ub204\ub974\uae30.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsxs)("mesh",{position:[-25,90,-1470],rotation:[0,Math.PI/180,0],children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[25.6,10.5,1]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:r,visible:"true"}),(0,hA.jsx)("primitive",{object:t.scene,scale:4})]})})}var zF,DF,OF,FF,UF,BF,jF,HF=r.memo(NF),VF=WE(zF||(zF=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),GF=iA.div(DF||(DF=vT(["\n  /* align-items: center; */\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),WF=iA.div(OF||(OF=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 30px;\n  width: 900px;\n  height: 370px;\n  animation: "," 0.6s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"])),VF),qF=iA.div(FF||(FF=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 900px;\n  height: 370px;\n  animation: ",' 0.6s ease;\n  background-image: url("/assets/\ub9d0\ud48d\uc120/\uc0c8\ub9d0\ud48d\uc120.svg");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n'])),VF),XF=iA.div(UF||(UF=vT(["\n  margin: 100px 80px 0px 220px;\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  height: 180px;\n  /* background-color: blue; */\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),YF=iA.img(BF||(BF=vT(["\n  width: 40px;\n  height: 40px;\n  top: 70px;\n  right: 20px;\n  position: absolute;\n  cursor: pointer;\n"]))),KF=iA(dR)(jF||(jF=vT(["\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n  & > span:nth-of-type(2) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n"]))),ZF=function(){var e=u(Rl(cA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.birdQuestModal&&(0,hA.jsx)(GF,{onClick:function(){return n(X(X({},cA),{},{birdQuestModal:!1}))},children:(0,hA.jsx)(WF,{onClick:function(e){e.stopPropagation()},children:(0,hA.jsxs)(qF,{children:[(0,hA.jsx)(YF,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},cA),{},{birdQuestModal:!1}))}}),(0,hA.jsx)(JF,{})]})})})})},JF=function(){var e=u(Rl(dA),2),t=e[0],n=e[1],r=u(Rl(cA),2),i=(r[0],r[1]),a=F();return(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(XF,{children:(0,hA.jsxs)(KF,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:["\ub108\uac00 \uc870\ub09c\ub2f9\ud55c \uc560\uc57c??\n          \ub0b4\uac00 \ub108 \ubc30\uc5d0\uc11c",(0,hA.jsx)("span",{children:" \uc0ac\uc9c4"}),"\uc744 \uba87 \uc7a5 \uac00\uc838\uc654\ub294\ub370 \ubd10\ubc14!\n              \uae30\uc5b5\uc744 \ucc3e\ub294\ub370 \ub3c4\uc6c0\uc774 \ub420\uac70\uc57c."]})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){i(X(X({},cA),{},{birdQuestModal:!1})),n(X(X({},t),{},{q4Photo:"ing"}));var e=setTimeout((function(){a("/photoparticle"),clearTimeout(e)}),200)},children:"\uc0ac\uc9c4 \ud30c\ud2f0\ud074 \ubcf4\ub7ec\uac00\uae30"})]})};function QF(e){var t=UM(fk,"/assets/glb/pengi.glb"),n=t.scene.children[0];n.position.x=.625,n.position.y=.21875,n.position.z=-46.875,n.rotation.z=Math.PI/180*330;var r=new m_(n);return r&&t.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),OM((function(e,t,n){r&&r.update(t)})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)("primitive",{object:t.scene,scale:40})})}var $F=r.memo(QF);function eU(e){var t=UM(fk,"/assets/glb/question_icon_penguin.glb"),n=t.scene.children[0];n.rotation.x=Math.PI/180,n.position.y=-3.7,OM((function(e,t,r){n.name="BirdQuestionMark"}));var r=UM(rC,"/assets/G \ub204\ub974\uae30.png");return(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsxs)("mesh",{position:[23,50,-1873],rotation:[0,Math.PI/180,0],children:[(0,hA.jsx)("boxGeometry",{attach:"geometry",args:[25.6,10.5,1]}),(0,hA.jsx)("meshStandardMaterial",{attach:"material",map:r,visible:"true"}),(0,hA.jsx)("primitive",{object:t.scene,scale:4})]})})}var tU,nU,rU,iU,aU,oU,sU,lU,uU,cU,dU,hU=r.memo(eU),fU=WE(tU||(tU=vT(["\n    0% {\n        transform: translateY(-5%);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n"]))),pU=iA.div(nU||(nU=vT(["\n  /* align-items: center; */\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),vU=iA.div(rU||(rU=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 30px;\n  width: 900px;\n  height: 370px;\n  animation: "," 0.6s ease;\n  overflow-y: auto;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  /* background-color: red; */\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"])),fU),mU=iA.div(iU||(iU=vT(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 900px;\n  height: 370px;\n  animation: ",' 0.6s ease;\n  background-image: url("/assets/\ub9d0\ud48d\uc120/\ud3ad\uadc4\ub9d0\ud48d\uc120.svg");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n'])),fU),gU=iA.div(aU||(aU=vT(["\n  margin: 100px 80px 0px 220px;\n  display: flex;\n  flex-direction: column;\n  width: 600px;\n  height: 180px;\n  /* background-color: blue; */\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n"]))),yU=iA.img(oU||(oU=vT(["\n  width: 40px;\n  height: 40px;\n  top: 70px;\n  right: 20px;\n  position: absolute;\n  cursor: pointer;\n"]))),xU=iA(dR)(sU||(sU=vT(["\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n  & > span:nth-of-type(2) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n"]))),bU=function(){var e=u(Rl(cA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.penguinQuestModal&&(0,hA.jsx)(pU,{onClick:function(){return n(X(X({},cA),{},{penguinQuestModal:!1}))},children:(0,hA.jsx)(vU,{onClick:function(e){e.stopPropagation()},children:(0,hA.jsxs)(mU,{children:[(0,hA.jsx)(yU,{src:"/assets/reject.png",alt:"\ub2eb\uc74c",onClick:function(){n(X(X({},cA),{},{penguinQuestModal:!1}))}}),(0,hA.jsx)(wU,{})]})})})})},wU=function(){var e=u(Rl(dA),2),t=e[0],n=e[1],r=u(Rl(cA),2),i=(r[0],r[1]),a=u(Rl(aA),2),o=a[0],s=a[1],l=u(Rl(lA),2),c=l[0];l[1];return(0,hA.jsx)(hA.Fragment,{children:c.photoMemory&&c.sgMemory&&c.todowithMemory&&c.utMemory?(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(gU,{children:(0,hA.jsxs)(xU,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:["\ud6c4,,, \uc694\uc998 \uc870\ub09c\ub2f9\ud55c \uc0ac\ub78c\uc774 \ub9ce\uad6c\uba3c.\n\ubcf4\uc544\ud558\ub2c8 \uae30\uc5b5\uc740 \ub2e4 \ucc3e\uc740 \uac83 \uac19\uad70.\n",(0,hA.jsx)("span",{children:" \uac8c\uc784\uc744 \ub05d\ub0b4\uace0 UI/UX\uc5d0 \ub525\ub2e4\uc774\ube0c\ud560 \uc900\ube44\uac00 \ub410\ub098?"})]})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){i(X(X({},cA),{},{penguinQuestModal:!1})),n(X(X({},t),{},{q5Memory:"finish"}));var e=setTimeout((function(){s(X(X({},o),{},{finishModal:!0})),clearTimeout(e)}),200)},children:"\uc900\ube44\ub410\uc5b4!!!!"})]}):(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(gU,{children:(0,hA.jsxs)(xU,{size:25,weight:500,style:{whiteSpace:"pre-line"},lineHeight:"32px",children:["\uc544\uc9c1 \ubabb \ucc3e\uc740 \uae30\uc5b5\uc774 \uc788\ub294 \uac83 \uac19\uc740\ub370..\n",(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)("span",{children:"\uc0ac\uc9c4\uacfc \ud504\ub85c\uc81d\ud2b8\ub97c \ub2e4 \ubabb\ubd24\ub2e4\uba74,"}),"\n                  ",(0,hA.jsx)("span",{children:"\uc624\ub978\ucabd \uc544\ub798 \ud018\uc2a4\ud2b8\uc5d0\uc11c \uc704\uce58\ub97c \ucc38\uace0\ud558\ub77c\uad6c"})]})]})}),(0,hA.jsx)(yR,{width:300,height:50,margin:"10px 320px auto 380px",onClick:function(){i(X(X({},cA),{},{penguinQuestModal:!1}))},children:"\ub2e4\uc2dc \uc62c\uac8c!"})]})})},_U=iA.div(lU||(lU=vT(["\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 5;\n"]))),SU=iA.div(uU||(uU=vT(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 1334px;\n  height: 800px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  border-radius: 50px;\n  background-image: url("/assets/\ub044\uc74f.png");\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  overflow-y: scroll;\n  position: relative;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  z-index: 5;\n']))),MU=(iA.img(cU||(cU=vT(["\n  width: 40px;\n  height: 40px;\n  top: 70px;\n  right: 20px;\n  position: absolute;\n  cursor: pointer;\n"]))),iA(dR)(dU||(dU=vT(["\n  & > span:nth-of-type(1) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n  & > span:nth-of-type(2) {\n    font-weight: 600;\n    font-size: 25px;\n    line-height: 32px;\n    color: #ff007a;\n  }\n"]))),function(){var e=u(Rl(aA),2),t=e[0],n=e[1];return(0,hA.jsx)(hA.Fragment,{children:t.finishModal&&(0,hA.jsx)(_U,{children:(0,hA.jsxs)(SU,{onClick:function(e){e.stopPropagation()},children:[(0,hA.jsx)(fR,{margin:"200px auto 0 auto ",children:(0,hA.jsx)(dR,{size:80,isBold:!0,color:"white",children:"\ud50c\ub808\uc774\ud574\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4."})}),(0,hA.jsxs)(fR,{margin:"70px auto 0 auto ",children:[(0,hA.jsx)(dR,{size:50,isBold:!0,color:"white",children:"\uc2ec\uc544\uc601 010-2935-1666"}),(0,hA.jsx)(dR,{size:50,isBold:!0,color:"white",children:(0,hA.jsx)("a",{className:"mailtag",href:"mailto:ccimayoung@gmail.com",children:"ccimayoung@gmail.com"})})]}),(0,hA.jsxs)(vR,{className:"bottom botton wrap",width:600,height:50,margin:"70px auto auto auto",columnGap:40,children:[(0,hA.jsx)(xR,{className:"\uba38\ubb34\ub974\uae30",width:270,style:{height:"70px",fontSize:"25px"},onClick:function(){return n(X(X({},t),{},{finishModal:!1}))},children:"\uba38\ubb34\ub974\uae30"}),(0,hA.jsx)(xR,{className:"github btn",width:270,style:{height:"70px",fontSize:"25px"},onClick:function(){return window.open("https://github.com/ccimayoung/portpro","_blank")},children:"\ud83d\udc49 GitHub \ubcf4\ub7ec\uac00\uae30"})]})]})})})});function kU(e){var t=UM(fk,"/assets/glb/adventure_map.glb"),n=t.scene.children[0];return n.rotation.z=Math.PI,n.position.y=-450,n.position.z=1400,OM((function(e,t,n){})),(0,hA.jsx)(hA.Fragment,{children:(0,hA.jsx)("primitive",{object:t.scene,scale:.03,onClick:function(){return window.open("https://sketchfab.com/anthonyjamesgirdler")}})})}var TU=function(){var e=(0,r.useRef)(),t=e.current,n=Cl(),i=u(Rl(dA),2),a=i[0],o=(i[1],u(Rl(sA),2)),s=o[0];o[1];return(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsxs)(lk,{ref:e,style:{backgroundColor:"#7ec7ff",width:"100vw",height:"100vh"},children:[(0,hA.jsx)("ambientLight",{intensity:.8}),(0,hA.jsx)("directionalLight",{}),(0,hA.jsxs)(n,{children:[(0,hA.jsx)(r.Suspense,{fallback:null,children:(0,hA.jsx)(kU,{position:[0,1,0]})}),(0,hA.jsx)(r.Suspense,{fallback:null,children:(0,hA.jsx)(OO,{canvasProp:t})}),(0,hA.jsxs)(r.Suspense,{fallback:null,children:["finish"!==a.q1TunaCan&&(0,hA.jsx)(ZO,{}),(0,hA.jsx)(sF,{})]}),(0,hA.jsxs)(r.Suspense,{fallback:null,children:[(0,hA.jsx)(YO,{}),(0,hA.jsx)(QO,{}),!s.keyFind&&(0,hA.jsxs)(hA.Fragment,{children:[(0,hA.jsx)(yF,{})," ",(0,hA.jsx)(kF,{})]})]}),(0,hA.jsxs)(r.Suspense,{fallback:null,children:[(0,hA.jsx)(IF,{}),(0,hA.jsx)(HF,{}),(0,hA.jsx)($F,{}),(0,hA.jsx)(hU,{})]})]}),(0,hA.jsx)("pointLight",{position:[10,10,10]})]}),(0,hA.jsx)(gA,{}),(0,hA.jsx)(gD,{}),(0,hA.jsx)(EA,{}),(0,hA.jsx)(_A,{}),(0,hA.jsx)(WO,{}),(0,hA.jsx)(vF,{}),(0,hA.jsx)(QD,{}),(0,hA.jsx)(RF,{}),(0,hA.jsx)(ZF,{}),(0,hA.jsx)(bU,{}),(0,hA.jsx)(MU,{})]})};var EU=function(){return(0,hA.jsx)(G,{children:(0,hA.jsxs)(H,{children:[(0,hA.jsx)(B,{path:"/",element:(0,hA.jsx)(TU,{})}),(0,hA.jsx)(B,{path:"/houseinmap",element:(0,hA.jsx)(fO,{})}),(0,hA.jsx)(B,{path:"/photoparticle",element:(0,hA.jsx)(AO,{})})]})})},AU=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,hA.jsx)(Al,{children:(0,hA.jsx)(EU,{})})),AU()}()}();
//# sourceMappingURL=main.fffec503.js.map